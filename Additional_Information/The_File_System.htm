<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../assets/import/layer/layer.js"></script><script type="text/javascript" src="../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../assets/import/main.css"><script>let str;removeHtml=function(e){return e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(e){return e.match(/(<([^>]+)>)/gi)},setTranslator=function(e,t,a){let i;i=a?e.attr(a):e.html();let o=t[removeHtml(i)];if(null!=o&&o.length){t=retHtml(i);let n=0;t&&t.forEach(function(e,t){var a=o.replace("{"+n+"}",e);o=a===o?o.replace("{}",e):a,n++}),a?e.attr(a,o):e.html(o)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var e=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(e):($(".topic-header").append(e),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(e){return e.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"Accessing File Areas":"访问文件区域","Each target platform has its own save area where files and directories can be written to and read from. Below is a list of those areas for each target when sandboxed:":"每个目标平台都有自己的保存区域，可以在其中写入和读取文件和目录。下面是每个目标在沙箱化时的这些区域的列表：","File Areas":"文件区域","It is worth noting that the HTML5 target module has a limit on local storage (which can be between 1MB and 5MB depending on the browser) meaning that you will not be permitted to save large sprites, screenshots etc...":"值得注意的是，HTML5目标模块对本地存储有限制(根据浏览器的不同，本地存储可能在1MB到5MB之间)，这意味着你不允许保存大型精灵、截图等。","It is worth noting that the HTML5 target module has a limit on local storage (which can be between 1MB and 5MB depending on the browser) meaning that you will not be permitted to save large sprites, screenshots, etc.":"值得注意的是，HTML5目标模块对本地存储有限制(根据浏览器的不同，可能在1MB到5MB之间)，这意味着您将不被允许保存大型精灵，屏幕截图等。","On HTML5 it is also possible to load files from outside the sandbox from a server, however this should only be done using the function {}{}buffer_load_async(){}{}&nbsp;as loading synchronously has been deprecated on most browsers and will eventually be obsoleted. This means that files being loaded in this way should be saved as binary files - for example, you can save an {}*.ini{} as a string (see {}{}ini_close(){}{}&nbsp;for details) and then write that into a buffer which can then be saved and loaded using the async functions. Note that if you are loading images using {}{}sprite_add(){}{}&nbsp;then these are already dealt with asynchronously.":"在HTML5上，也可以从沙盒外部从服务器加载文件，但这只能使用函数{}{}buffer_load_async(){}{} 因为同步加载在大多数浏览器上已经被弃用，最终将被淘汰。这意味着以这种方式加载的文件应该被保存为二进制文件 --例如，您可以将{}*.ini{}保存为字符串(参见{}{}ini_close(){}{} 了解详细信息)，然后将其写入缓冲区，然后可以使用异步函数保存和加载该缓冲区。注意，如果您正在使用{}{}sprite_add(){}{} 加载图像，那么这些图像已经被异步处理了。","On the {}Windows{}, {}macOS {}and {}Ubuntu{} (Linux) platforms there are two ways to save and load files from outside of the sandbox and that is either using the functions {}{}get_open_filename(){}{}&nbsp;and {}{}get_save_filename(){}{}&nbsp;(both of these functions will require that the user select an area for loading and saving and the return string can then be used in the rest of the file functions to bypass the sandbox - see the function descriptions in the language section of the manual for more details). The other way is to disable the sandbox altogether from the {}Game Options{} for the target platform (only available for Desktop targets, as discussed further up this page).":"在{}Windows{}上，{} macOS Ubuntu{}和{}{}(Linux)平台有两种方法可以保存和加载文件以外的沙箱,要么是使用{}{}get_open_filename功能(){}{},{}和{}get_save_filename(){}{},(这两个函数将要求用户选择一个区域加载和保存并返回字符串可以使用在其他文件中函数来绕过沙箱——看到的语言部分的功能描述手册获得更多信息)。另一种方法是在目标平台的{}Game Options{}中完全禁用沙盒(仅适用于Desktop目标，如本页面后面所述)。","On the {}Windows{}, {}macOS {}and {}Ubuntu{} (Linux) platforms there are two ways to save and load files from outside of the sandbox and that is either using the functions&nbsp;{}{}get_open_filename{}{} and&nbsp;{}{}get_save_filename{}{} (both of these functions will require that the user select an area for loading and saving, and the returned string can then be used in the rest of the file functions to bypass the sandbox - see the function descriptions for more details). The other way is to disable the sandbox altogether from the&nbsp;{}Game Options{} for the target platform (only available for Desktop targets, as discussed further up this page).":"在{}Windows{}、{}macOS{}和{}Ubuntu{}(Linux)平台上，有两种方法可以从沙箱外部保存和加载文件，即使用函数{}{}get_open_filename{}{}和{}{}get_save_filename{}{}(这两种功能都需要用户选择用于加载和保存的区域，然后返回的字符串可以在其余的文件函数中使用，以绕过沙箱-更多细节请参见函数描述)另一种方法是从目标平台的{}游戏选项{}中完全禁用沙箱(仅适用于桌面目标，如本页后面所述)。","On {}HTML5{} it is also possible to load files from outside the sandbox from a server, however this should only be done using the function&nbsp;{}{}buffer_load_async{}{} as loading synchronously has been deprecated on most browsers and will eventually be obsoleted. This means that files being loaded in this way should be saved as binary files - for example, you can save an {}*.ini{} as a string (see&nbsp;{}{}ini_close{}{} for details) and then write that into a buffer which can then be saved and loaded using the async functions. Note that if you are loading images using&nbsp;{}{}sprite_add{}{} then these are already dealt with asynchronously.":"在 {}HTML5{} 上，也可以从服务器从沙箱外部加载文件，但是这应该只能使用函数 {}{}buffer_load_async{}{} 来完成，因为同步加载在大多数浏览器上已经被弃用，并且最终将被淘汰。这意味着以这种方式加载的文件应该保存为二进制文件-例如，你可以保存一个 {}*.ini{} 作为一个字符串 (详见 {}{}ini_close{}{})，然后将其写入一个缓冲区，然后可以使用 sprite_add 函数保存和加载。注意，如果你使用 {}{}sprite_add{}{} 加载图像，那么这些已经被异步处理了。","Outside The Sandbox":"在沙箱外","Save Area Locations":"保存区域位置","The File System":"文件系统","The first and most important thing to note about the file functions is that they are limited - in general and by default - to the {}sandbox{}. What this means is that {}GameMaker{} {}cannot save or load files from anywhere that is not part of the game bundle or the local storage for the device{} without {}explicit {}input from the user, and even then this input is limited to only Windows, macOS and Ubuntu (Linux) target platforms.":"关于文件函数，首先要注意的也是最重要的一点是，它们在一般情况下和默认情况下仅限于{} 沙盒 {}。 这意味着 {}GameMaker{} 在没有用户{}显式{}输入的情况下，{}无法从不属于游戏包或设备本地存储的任何地方保存或加载文件{}，即便如此 此输入仅限于 Windows、macOS 和 Ubuntu (Linux) 目标平台。","The first thing to note about the file functions is that they are limited - in general and by default - to the {}sandbox{}. What this means is that {}GameMaker{} {}cannot save or load files from anywhere that is not part of the game bundle or the local storage for the device{} without {}explicit {}input from the user, and even then this input is limited to only Windows, macOS and Ubuntu (Linux) target platforms.":"关于文件功能，首先要注意的是，它们通常和默认情况下仅限于{}沙箱{}。这意味着，如果没有用户的{}显式{}输入，{2}GameMaker{3}{}无法{}从不是游戏包或设备本地存储的任何地方保存或加载文件，即使这样，这种输入也仅限于Windows，macOS和Ubuntu(Linux)目标平台。","The following diagram may help you to visualise this better:":"下面的图表可以帮助你更好地理解这一点:","The functions for writing text, binary or INI files will create a new file in the save area if one does not already exist, copying over any information from the original files included with the game bundle should they exist. Note that the original files will still remain in the read-only part of the save directory, but they won't be referenced as long as a version exists in the read/write section of the save area.":"如果不存在文本、二进制或INI文件，写入函数将在保存区创建一个新文件，如果存在，则复制游戏包中包含的原始文件中的任何信息。请注意，原始文件仍将保留在保存目录的只读部分，但只要保存区的读/写部分存在版本，它们就不会被引用。","The {}file system functions{}&nbsp;will return information on files from {}both {}the {}bundle {}and the {}save {}area, but will only {}write {}to the {}save {}area.":"{}文件系统函数{}将返回有关来自{}{}{}捆绑{}和{}保存{}区域的文件的信息，但只会{}写入{}{}保存{}区域。","This will do one of two things depending on whether you are reading or writing:":"这将根据您是在阅读还是在写作来完成以下两件事之一：","To start with, let's look at how files are looked up in {}GameMaker{}, say if you do a read:":"首先，让我们看看如何在{}GameMaker{}中查找文件，假设您执行读取：","To start with, you should understand what is meant when we talk of the {}{}working_directory{}{}. This is a synonym for the two possible save locations (as illustrated by the diagram above) and when you use that directory it will do one of two things depending on whether you are reading or writing, and whether the file you are reading from has been changed or not:":"首先，您应该了解我们所说的 {}{}working_directory{}{} 是什么意思。 这是两个可能的保存位置的同义词（如上图所示），当您使用该目录时，它会执行以下两项操作之一，具体取决于您是在读取还是写入，以及您正在读取的文件是否已被保存。 改变与否：","To understand the sandbox first of all you need to understand that there are two distinct areas for files:":"要理解沙盒，首先需要了解文件有两个不同的区域:","Using these two simple rules we can now see how the following functions work (these are examples to help you to visualise the process for the different functions available):":"使用这两个简单的规则，我们现在可以看到以下函数是如何工作的（这些示例可帮助您可视化不同可用函数的过程）：","When using the {}file system functions{} or {}included files{} with {}GameMaker{} it is vitally important to know exactly how the file system works and what things are going on behind the scenes. To that end, this section is designed to explain and clarify exactly {}how{} things are stored, {}where{} they are stored and what possible limits or workarounds there may be to this system.":"当{}文件系统函数{}或{}包含文件{}与{}GameMaker{}一起使用时，非常重要的是要确切地知道文件系统是如何工作的以及幕后发生了什么。为此，本节旨在解释和明确{}如何存储{}内容，{}在哪里存储{}内容，以及该系统可能存在哪些限制或解决方案。","When using the {}file system functions{} or {}included files{} with {}GameMaker{}, it's important to know how the file system works and what things are going on behind the scenes. This section is designed to explain and clarify exactly {}how{} things are stored, {}where{} they are stored and what possible limits or workarounds there may be to this system.":"在{4}GameMaker{5}中使用{}文件系统函数{}或{}包含的文件{}时，了解文件系统如何工作以及幕后发生了什么是很重要的。本节旨在解释和澄清{}如何{}存储内容，存储位置{}以及{}该系统可能存在的限制或解决方案。","When your game is sandboxed, only the two target areas - {}the file bundle{} and {}the save area{} - are available on each target platform, but on each one they will work slightly differently. However {}GameMaker{} has abstracted out the main essence of what can and can't be done, making it easier to re-target games to multiple environments.":"当您的游戏被沙盒化时，每个目标平台上只有两个目标区域-{}捆绑文件{}和{}保存区域{}，但它们在每个平台上的工作方式略有不同。但是，{}GameMaker{}已经抽象出了什么可以做，什么不可以做的主要本质，使您可以更轻松地将游戏重新定位到多个环境。","When your game is sandboxed, the two target areas - the bundle directory and the local storage area - are available on each target platform, but on each one they will work slightly differently. However {}GameMaker{} has abstracted out the main essence of what can and can't be done, making it easier to re-target games to multiple environments.":"当您的游戏被沙盒化时，两个目标区域 --捆绑目录和本地存储区域 --在每个目标平台上都可用，但它们在每个平台上的工作方式略有不同。 然而，{}GameMaker{} 已经抽象出可以做什么和不能做什么的主要本质，从而更容易将游戏重新定位到多种环境。","You should also know that each target platform has its own save area where files and directories can be written to and read from. Below is a list of those areas for each target when sandboxed:":"您还应该知道，每个目标平台都有自己的保存区，可以在其中写入和读取文件和目录。以下是沙盒时每个目标的区域列表:","the functions for writing text, binary or {}INI{} files will create a new file in the save area if one does not already exist, copying over any information from the original files included with the game bundle should they exist. Note that the original files will still remain in the read-only part of the save directory, but they won't be referenced as long as a version exists in the read/write section of the save area.":"用于写入文本、二进制或 {}INI{} 文件的函数将在保存区域中创建一个新文件（如果尚不存在），并复制游戏捆绑包中包含的原始文件（如果存在）中的任何信息。 请注意，原始文件仍将保留在保存目录的只读部分，但只要保存区域存在可读写的版本，它们就不会被引用。","the {}file system functions{}&nbsp;will return information on files from {}both {}the {}bundle {}and the {}save {}area, but will only {}write {}to the {}save {}area.":"{}文件系统函数{}将从{}{}捆绑包和{}{}{}保存{}区域返回文件信息，但只会{}写入{}到{}保存{}区域。","{}Android{}:&nbsp;Files are in the standard location (which is invisible unless the device is rooted) {}/data/&lt;package name&gt;{}.":"{}Android{}: 文件位于标准位置{} /data/<包名>{} (除非设备处于root，否则不可见)。","{}HTML5{},{} GX.games{}:&nbsp;Everything is done through the local storage.":"{}HTML5{}，{}GX.games{}：一切都通过本地存储完成。","{}HTML5{}:&nbsp;Everything is done through the local storage.":"{}HTML5{}: 一切都是通过本地存储完成的。","{}IMPORTANT!{} It is possible to turn off the sandboxing, however, on the Desktop targets (Windows, macOS, and Ubuntu (Linux)) by checking the {}Disable file system sandbox{} option in the {}Game Options{} for the target platform. You do this at your own risk, and while this will open up file saving and loading and permit you to access files anywhere on the given system, it may still be limited by the OS permissions, and you will not be able to write to the {}{}{}program_directory{}{}{}&nbsp;folder.":"{}重要!{}在桌面目标(Windows, macOS，和Ubuntu (Linux))上，沙箱可以关闭的，通过检查目标平台{}Game Options{}中的{}禁用文件系统沙箱{}选项。您这样做的风险由您自己承担，虽然这将打开文件保存和加载，并允许您访问给定系统上的任何位置的文件，但它仍然可能受到操作系统权限的限制。以及您仍然不能写入{}{}{}program_directory{}{}{} 文件夹。","{}NOTE{}: You can never write to the File Bundle (program) directory.":"{}注意{}:你永远不能写捆绑包(程序)目录。","{}NOTE{}: in general {}GameMaker{} will handle all this for you and you {}rarely {}need to use the {}working_directory{} built in variable.":"{}注意{}：一般来说，{}GameMaker{} 会为您处理所有这些，您{}很少{}需要使用内置变量 {}working_directory{}。","{}Reading Operations{} - This will first check the {}save area{} to see if the file being accessed is there, and if it is, it uses that. However if the file does not exist in the save area, it then checks the {}file bundle area{} and uses that (if the file being looked for is an {}Included File{} with your game).":"{}读取操作{}-此操作将首先检查{}保存区域{}，以查看正在访问的文件是否存在，如果存在，则使用该区域。但是，如果文件在保存区域中不存在，则检查{}捆绑文件区域{}并使用该区域(如果正在查找的文件是游戏的{}包含文件{})。","{}Reading Operations{} - working_directory will first check the save area to see if the file being accessed is there, and if it is uses that. However if the file does not exists in the save area, it then checks the file bundle area and uses that (if the file being looked for is an included file with your game).":"{}读取操作{} - working_directory 将首先检查保存区域以查看正在访问的文件是否存在，以及它是否正在使用该区域。 但是，如果保存区域中不存在该文件，它会检查文件包区域并使用它（如果要查找的文件是游戏中包含的文件）。","{}The File Bundle{} - This is where all the files that are packaged with the executable are stored, including the files that you have added to the {}Included Files{} asset list from the {}GameMaker{} IDE (which are the external files that you want packaged with the game). This area can be accessed through the&nbsp;{}{}working_directory{}{}&nbsp;variable, however, files will be read from this location automatically when reading, without explicitly needing a path - this is explained more in the next section.":"{} 捆绑文件 {}- 这是存储与可执行文件打包在一起的所有文件的位置，包括您从 {}GameMaker{}IDE 添加到 {} 包含文件 {} 资源列表的文件 (这些文件是您希望与游戏打包在一起的外部文件)。可以通过 {}{}working_directory{}{} 变量访问此区域，但是，文件将在阅读时自动从该位置读取，而不需要明确的路径-这将在下一节中详细解释。","{}The File Bundle{} - this is where all the files that are packaged with the executable game are stored, including the files that you have added to the {}Included Files{} asset list from the {}GameMaker{} IDE (which are the external files that you want packaged with the game).":"{}捆绑包文件{} --这是存储与可执行游戏打包在一起的所有文件的地方，包括你从{4}GameMaker IDE{5}中添加到{}包含文件{}资源列表中的文件(这些文件是你想要与游戏打包的外部文件)。","{}The File System{}":"{}文件系统{}","{}The Save Area{} - This is an area of device storage that can be safely written to by the game and the game is guaranteed that this is a writable area.&nbsp;This can be accessed through the&nbsp;{}{}game_save_id{}{}&nbsp;variable, however files will be read from this location too automatically when reading, and any saves are done here by default.":"{} 保存区域 {}- 这是一个设备存储区域，游戏可以安全地写入该区域，并且游戏可以保证该区域是可写区域。可以通过 {}{}game_save_id{}{} 变量访问该区域，但是文件在阅读时也会自动从该位置读取，并且默认情况下，任何保存都在此处完成。","{}The Save Area{} - this is an area of device storage that can be safely written to by the game and the game is guaranteed that this is a writable area.":"{}保存区域{} --这是一个设备存储区域，可以被游戏安全地写入，并且游戏保证这是一个可写入的区域。",'{}Ubuntu (Linux){}:&nbsp;Files are stored in the {}Home/.config/gamename{} where "Home" is the users home directory - {}/home/&lt;username&gt;{}':"{}Ubuntu (Linux){}: 文件存储在{} Home/.config/gamename{} 其中“Home”是用户的主目录 -{}/Home/<用户名>{}","{}Windows{}:&nbsp;Windows has all files in the {}%localappdata%\\&lt;Game Name&gt;{} directory (on Windows 7 this is the {}/Users/&lt;User Name&gt;/AppData/Local/&lt;Game Name&gt;{} directory).":"{}Windows{}：Windows的所有文件都位于{}%localappdata%\\<游戏名称>{}目录(在Windows 7上，这是{}/Users/<用户名>/AppData/Local/<游戏名称>{}目录)。","{}Windows{}:&nbsp;Windows has all files in the {}%localappdata%\\&lt;Game Name&gt;{} directory (on Windows this is the {}/Users/&lt;User Name&gt;/AppData/Local/&lt;Game Name&gt;{} directory).":"{}Windows{}：Windows的所有文件都在{}%localappdata%/&lt;Game Name&gt;{}","{}Writing Operations{} - This can only happen in the save area, unless the sandbox is disabled and a path outside the save area is explicitly specified.":"{}写入操作{}-这只能发生在保存区域中，除非禁用了沙箱并且明确指定了保存区域之外的路径。","{}Writing Operations{} - This can only happen in the save area.":"{}写入操作{} - 这只能发生在保存区域中。","{}iOS{} / {}tvOS{}:&nbsp;Storage is the standard location (as viewed through iTunes).":"{}iOS{} / {}tvOS{}: 存储是标准的位置(通过iTunes查看)。","{}macOS{}:&nbsp;Storage will depend on whether the application is sandboxed or not (following Apple's rules, with the path usually being {}~/Library/Application Support/&lt;Game Name&gt;{}).":"{}macOS{}: 存储将取决于应用程序是否被沙盒化(遵循苹果的规则，路径通常是{}~/Library/application Support/&lt;游戏名称&gt;{})。","{}{}IMPORTANT{}{}&nbsp;It is possible to turn off sandboxing&nbsp;on the Desktop targets (Windows, macOS, and Ubuntu) by checking the {}Disable file system sandbox{} option in the&nbsp;{}Game Options{}&nbsp;for the target platform. You do this at your own risk, and while this will open up file saving and loading and permit you to access files anywhere on the given system, it may still be limited by the OS permissions.":"{}{}重要信息{}{}可以关闭桌面目标上的沙箱(Windows、macOS和Ubuntu)，方法是在目标平台的{}游戏选项{}中选中{}禁用文件系统沙箱{}选项。您需要自担风险，虽然这将打开文件保存和加载，并允许您访问给定系统上的任何位置的文件，它可能仍然受到OS许可的限制。","{}{}directory_create(){}{}&nbsp;(and the other directory functions) will only work in the {}save {}area.":"{}{}directory_create() {}{}(以及其他目录函数) 仅在{}保存{}区域中起作用。","{}{}directory_create{}{}&nbsp;(and the other directory functions) will only work in the {}save {}area.":"{}{}directory_create{}{}(以及其他目录函数)仅在{}保存{}区域中起作用。"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(e){json_global=e}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="..",gTopicId="5.1_3"</script><script type="text/javascript" src="../template/scripts/rh.min.js"></script><script type="text/javascript" src="../template/scripts/common.min.js"></script><script type="text/javascript" src="../template/scripts/topic.min.js"></script><script type="text/javascript" src="../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>The File System</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../assets/css/default.css" type="text/css"><script src="../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page that explains how the GMS file system works for compiled games"><meta name="rh-index-keywords" content="The File System"><meta name="search-keywords" content="File System,sandbox,sandboxing,working directory,local storage"><meta name="brsnext" value="Settings/Audio_Groups.htm"><meta name="brsprev" value="Settings/Included_Files.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="The File System"><span>The File System</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">The File System</span></h1><p>When using the <a href="../GameMaker_Language/GML_Reference/File_Handling/File_Handling.htm">file system functions</a> or <a href="../Settings/Included_Files.htm">included files</a> with <span data-keyref="GameMaker Name">GameMaker</span>, it's important to know how the file system works and what things are going on behind the scenes. This section is designed to explain and clarify exactly <em>how</em> things are stored, <em>where</em> they are stored and what possible limits or workarounds there may be to this system.</p><p>The first thing to note about the file functions is that they are limited - in general and by default - to the <strong>sandbox</strong>. What this means is that <span data-keyref="GameMaker Name">GameMaker</span> <strong>cannot save or load files from anywhere that is not part of the game bundle or the local storage for the device</strong> without <em>explicit</em> input from the user, and even then this input is limited to only Windows, macOS and Ubuntu (Linux) target platforms.</p><div data-conref="../assets/snippets/Note_Important_File_System_Disable_Sandboxing.hts"><p class="note"><span data-conref="../assets/snippets/Tag_important.hts"><span class="important">IMPORTANT</span></span>&nbsp;It is possible to turn off sandboxing&nbsp;on the Desktop targets (Windows, macOS, and Ubuntu) by checking the <strong>Disable file system sandbox</strong> option in the&nbsp;<a href="../Settings/Game_Options.htm">Game Options</a>&nbsp;for the target platform. You do this at your own risk, and while this will open up file saving and loading and permit you to access files anywhere on the given system, it may still be limited by the OS permissions.</p></div><h2>File Areas</h2><p>To understand the sandbox first of all you need to understand that there are two distinct areas for files:</p><ul class="colour"><li><strong>The File Bundle</strong> - This is where all the files that are packaged with the executable are stored, including the files that you have added to the <strong>Included Files</strong> asset list from the <span data-keyref="GameMaker Name">GameMaker</span> IDE (which are the external files that you want packaged with the game). This area can be accessed through the&nbsp;<span class="inline2"><a href="../GameMaker_Language/GML_Reference/File_Handling/File_Directories/working_directory.htm">working_directory</a></span>&nbsp;variable, however, files will be read from this location automatically when reading, without explicitly needing a path - this is explained more in the next section.</li><li><strong>The Save Area</strong> - This is an area of device storage that can be safely written to by the game and the game is guaranteed that this is a writable area.&nbsp;This can be accessed through the&nbsp;<span class="inline2"><a href="../GameMaker_Language/GML_Reference/General_Game_Control/game_save_id.htm">game_save_id</a></span>&nbsp;variable, however files will be read from this location too automatically when reading, and any saves are done here by default.</li></ul><p>The following diagram may help you to visualise this better:</p><p><img alt="File System Save Areas" class="center" src="../assets/Images/Scripting_Reference/Additional_Information/Files_SaveAreas.png"></p><h2 id="h1">Accessing File Areas</h2><p>When your game is sandboxed, only the two target areas - <strong>the file bundle</strong> and <strong>the save area</strong> - are available on each target platform, but on each one they will work slightly differently. However <span data-keyref="GameMaker Name">GameMaker</span> has abstracted out the main essence of what can and can't be done, making it easier to re-target games to multiple environments.</p><p>To start with, let's look at how files are looked up in <span data-keyref="GameMaker Name">GameMaker</span>, say if you do a read:</p><p class="code">buf = buffer_load("my_file.dat");</p><p>or a write:</p><p class="code">buffer_save(buf, "my_file.dat");</p><p>This will do one of two things depending on whether you are reading or writing:</p><ul class="colour"><li><strong>Reading Operations</strong> - This will first check the <a href="../GameMaker_Language/GML_Reference/General_Game_Control/game_save_id.htm">save area</a> to see if the file being accessed is there, and if it is, it uses that. However if the file does not exist in the save area, it then checks the <a href="../GameMaker_Language/GML_Reference/File_Handling/File_Directories/working_directory.htm">file bundle area</a> and uses that (if the file being looked for is an <a href="../Settings/Included_Files.htm">Included File</a> with your game).</li><li><strong>Writing Operations</strong> - This can only happen in the save area, unless the sandbox is disabled and a path outside the save area is explicitly specified.</li></ul><p>Using these two simple rules we can now see how the following functions work (these are examples to help you to visualise the process for the different functions available):</p><ul class="colour"><li><span class="inline3_func"><a href="../GameMaker_Language/GML_Reference/File_Handling/File_Directories/directory_create.htm">directory_create</a></span>&nbsp;(and the other directory functions) will only work in the <strong>save</strong> area.</li><li>The <a href="../GameMaker_Language/GML_Reference/File_Handling/File_System/File_System.htm">file system functions</a>&nbsp;will return information on files from <em>both</em> the <strong>bundle</strong> and the <strong>save</strong> area, but will only <em>write</em> to the <strong>save</strong> area.</li><li>The functions for writing text, binary or INI files will create a new file in the save area if one does not already exist, copying over any information from the original files included with the game bundle should they exist. Note that the original files will still remain in the read-only part of the save directory, but they won't be referenced as long as a version exists in the read/write section of the save area.</li></ul><h2>Outside The Sandbox</h2><p>On the <strong>Windows</strong>, <strong>macOS</strong> and <strong>Ubuntu</strong> (Linux) platforms there are two ways to save and load files from outside of the sandbox and that is either using the functions&nbsp;<span class="inline3_func"><a href="../GameMaker_Language/GML_Reference/File_Handling/File_System/get_open_filename.htm">get_open_filename</a></span> and&nbsp;<span class="inline3_func"><a href="../GameMaker_Language/GML_Reference/File_Handling/File_System/get_save_filename.htm">get_save_filename</a></span> (both of these functions will require that the user select an area for loading and saving, and the returned string can then be used in the rest of the file functions to bypass the sandbox - see the function descriptions for more details). The other way is to disable the sandbox altogether from the&nbsp;<a href="../Settings/Game_Options.htm">Game Options</a> for the target platform (only available for Desktop targets, as discussed further up this page).</p><p>On <strong>HTML5</strong> it is also possible to load files from outside the sandbox from a server, however this should only be done using the function&nbsp;<span class="inline3_func"><a href="../GameMaker_Language/GML_Reference/Buffers/buffer_load_async.htm">buffer_load_async</a></span> as loading synchronously has been deprecated on most browsers and will eventually be obsoleted. This means that files being loaded in this way should be saved as binary files - for example, you can save an <span class="inline">*.ini</span> as a string (see&nbsp;<span class="inline3_func"><a href="../GameMaker_Language/GML_Reference/File_Handling/Ini_Files/ini_close.htm">ini_close</a></span> for details) and then write that into a buffer which can then be saved and loaded using the async functions. Note that if you are loading images using&nbsp;<span class="inline3_func"><a href="../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprite_Manipulation/sprite_add.htm">sprite_add</a></span> then these are already dealt with asynchronously.</p><h2 id="h">Save Area Locations</h2><p>Each target platform has its own save area where files and directories can be written to and read from. Below is a list of those areas for each target when sandboxed:</p><ul class="colour"><li><strong>Windows</strong>:&nbsp;Windows has all files in the <span class="inline">%localappdata%\&lt;Game Name&gt;</span> directory (on Windows this is the <span class="inline">/Users/&lt;User Name&gt;/AppData/Local/&lt;Game Name&gt;</span> directory).</li><li><strong>HTML5</strong>, <strong>GX.games</strong>:&nbsp;Everything is done through the local storage.</li><li><strong>macOS</strong>:&nbsp;Storage will depend on whether the application is sandboxed or not (following Apple's rules, with the path usually being <span class="inline">~/Library/Application Support/&lt;Game Name&gt;</span>).</li><li><strong>Ubuntu (Linux)</strong>:&nbsp;Files are stored in the <span class="inline">Home/.config/gamename</span> where "Home" is the users home directory - <span class="inline">/home/&lt;username&gt;</span></li><li><strong>iOS</strong> / <strong>tvOS</strong>:&nbsp;Storage is the standard location (as viewed through iTunes).</li><li><strong>Android</strong>:&nbsp;Files are in the standard location (which is invisible unless the device is rooted) <span class="inline">/data/&lt;package name&gt;</span>.</li></ul><p>It is worth noting that the HTML5 target module has a limit on local storage (which can be between 1MB and 5MB depending on the browser) meaning that you will not be permitted to save large sprites, screenshots, etc.</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back:&nbsp;<a href="../Settings/Game_Settings.htm">GameMaker Runner</a></div><div style="float:right">Next:&nbsp;<a href="../Settings/Audio_Groups.htm">Audio Groups</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>