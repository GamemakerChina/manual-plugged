rh._.exports({"0":[[" ","json_encode"]],"1":[["json_encode"]],"2":[["json_encode"]],"3":[[" ","json_encode"]],"4":[[" ","This function takes an existing ","DS Map"," and encodes it as a JSON string. The JSON string can be used, e.g., as part of an ","http_post_string"," call or be written to a file, so the data can be stored externally."," ","IMPORTANT"," This function - while still valid - has been superseded by the function ","json_stringify",", and we recommend that you only use this function for legacy support."," ","The DS map can contain the following: "," ","Nested ","DS Maps"," and ","DS Lists"," that should be marked correctly using the DS map ","JSON"," functions and the DS list ","JSON"," functions respectively."," ","Nested ","Structs"," and ","Arrays"," which are written as nested JSON objects and arrays respectively."],[" ","GameMaker"," encodes certain values in the JSON as a string so they can be read back correctly later. See ","Data Conversions"," for an overview of these conversions."," ","NOTE"," See ","Guide To Using JSON"," for detailed information on how to work with JSON in ","GameMaker","."],[" ","json_encode","(map, [prettify])"," ","Argument"," ","Type"," ","Description"," ","map"," ","DS Map"," ","A DS map with the information to encode"," ","prettify"," ","Boolean"," ","OPTIONAL"," Whether to prettify the output, i.e. insert indentation and line breaks for readability"],[" ","String"],[" ","var _hiscore_map, _json;","\n    _hiscore_map = ds_map_create();","\n    for (var i = 0; i < 10; i ++;)","\n    {","\n        ds_map_add(_hiscore_map, name[i], score[i]);","\n    }","\n    _json = json_encode(_hiscore_map);","\n    ds_map_destroy(_hiscore_map);"," ","\n    post_request_id = http_post_string($\"http://www.angusgames.com/game?game_id={global.game_id}\", _json);\n  "," ","The above code creates a ","DS Map"," and then loops through the ","name"," and ","score"," arrays, adding each key/value pair to the new map. Next, this map is encoded using ","json_encode"," and stored as a string in the variable ","_str",". This string is then sent to a web server using ","http_post_string"," and the DS map is destroyed to prevent a memory leak as it is no longer needed."],[" ","var _map = ds_map_create();","\n    var _list = ds_list_create();"," ","\n    ds_map_add_list(_map, \"seasoning\", _list);","\n    ds_list_add(_list, \"pepper\", \"salt\", \"thyme\");"," ","\n    _map[? \"greeting\"] = {parts: [\"Hello\", \"World!\"], separator: \", \"};","\n    _map[? \"food\"] = [\"bread\", \"coconut\", \"mango\"];"," ","\n    var _json = json_encode(_map, true);","\n    // ds_map_destroy(_map);"," ","\n    show_debug_message(_json);\n  "," ","The code example above shows how to encode a DS map with mixed contents to JSON."," ","First, a DS map and a DS list are created and stored in temporary variables. The DS list is then added to the DS map using ","ds_map_add_list"," and gets a few items added to it with a call to ","ds_list_add",". After that, two other keys are added to the map, one gets assigned a ","Struct"," as the value with an ","Array"," in it, the other gets assigned an array."," ","The map's contents are then encoded with a call ","json_encode",", with the ","prettify"," parameter set to ","true",". If you only need the JSON string, the map can be destroyed right after this."," ","Finally, the JSON string is shown in a debug message."," ","Back: ","Encoding And Hashing"," ","Next: ","json_encode"]],"5":[[" ","Syntax:"],[" ","Returns:"],[" ","Example 1: Basic Use"],[" ","Example 2: Hierarchy of Mixed Data Types"]],"6":[[" ","© Copyright YoYo Games Ltd. 2024 All Rights Reserved"]],"7":[[" ","Usage Notes"]],"id":"2622"})