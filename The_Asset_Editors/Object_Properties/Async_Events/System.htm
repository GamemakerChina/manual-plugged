<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/main.css"><script>let str;removeHtml=function(e){return e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(e){return e.match(/(<([^>]+)>)/gi)},setTranslator=function(e,t,n){let i;i=n?e.attr(n):e.html();let o=t[removeHtml(i)];if(null!=o&&o.length){t=retHtml(i);let a=0;t&&t.forEach(function(e,t){var n=o.replace("{"+a+"}",e);o=n===o?o.replace("{}",e):n,a++}),n?e.attr(n,o):e.html(o)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var e=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(e):($(".topic-header").append(e),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(e){return e.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={'"{}available{}" - The audio system is initialised and available to play sounds':'"{}available{}" - 音频系统已被初始化，可以播放声音','"{}event_type{}" - the type of system event received, which will be "{}virtual keyboard status{}" for virtual keyboards.':'"{}event_type{}" - 收到的系统事件的类型，对于虚拟键盘来说，它将是"{}virtual keyboard status{}"','"{}event_type{}" - the type of system event received, which will be one of the following strings: {} {}{}"{}gamepad discovered{}" - happens when the system reports a new gamepad has been connected{}{} {}{}"{}gamepad lost{}" - happens when the system has lost connection to a gamepad{}{} {} ':'"{}event_type{}" - 收到的系统事件的类型，它将是以下字符串之一：{} {}{}"{}gamepad discovered{}" - 当系统报告有新的游戏手柄被连接时发生{}{} {}{}"{}gamepad lost{}" - 当系统与游戏手柄失去连接时发生{}{} {}','"{}event_type{}" - the type of system event received, which will be the string "{}audio_system_status{}" if the audio system has initialised or the context has changed.':'"{}event_type{}" - 收到的系统事件的类型，如果音频系统已经初始化或者上下文已经改变，则为字符串"{}audio_system_status{}"。','"{}keyboard_status{}" - the current status of the keyboard, returned as one of the following strings: {} {}"hiding"{} {}"hidden"{} {}"showing"{} {}"visible"{} {} ':'"{}keyboard_status{}" - 键盘的当前状态，返回以下列字符串之一: {} {}"hiding"{} {}"hidden"{} {}"showing"{} {}"visible"{} {} ','"{}keyboard_status{}" - the current status of the keyboard, returned as one of the following strings:{} {} {}"hiding"{} {}"hidden"{} {}"showing"{} {}"visible"{} {} ':'"{}keyboard_status{}" - 键盘的当前状态，返回以下列字符串之一：{} {} {}"hiding"{}{}"hidden"{}{}"showing"{}{}"visible"{}{}','"{}pad_index{}" - the index of the pad that has been added or removed':'"{}pad_index{}" - 被添加或删除的游戏手柄的索引。','"{}screen_height{}" - the height of the virtual keyboard (in pixels). This will be 0 if the keyboard is invisible.':'"{}screen_height{}" - 虚拟键盘的高度（像素）。如果键盘是不可见的，这将是0。','"{}status{}" - The status of the audio system, which will be one of the following two strings':'"{}status{}" - 音频系统的状态，它将是以下两个字符串之一','"{}unavailable{}" - The audio system is not initialised, or the context is not currently running, and so can\'t play sounds (all sound playing functions will return -1)':'"{}unavailable{}" - 音频系统没有被初始化，或者当前上下文没有运行，所以不能播放声音（所有的声音播放函数将返回-1）','"{}unavailable{}" - The audio system is not initialised, or the context is not currently running, and so can\'t play sounds (all sound playing functions will return {}-1{})':'"{}unavailable{}" - 音频系统没有被初始化，或者当前上下文没有运行，所以不能播放声音（所有的声音播放函数将返回{}-1{}）',"Audio System Status":"音频系统状态","For more information on the specific functions available for Audio, please see {}here{}.":"关于音频的具体功能的更多信息，请见{}这里{}。","For more information on the specific functions available for audio, please see {}Audio{}.":"关于音频的具体功能的更多信息，请参阅{}音频{}。","Game Pads":"游戏手柄","If this event type is triggered, then there will be an additional key in the {}async_load{} map:":"如果这个事件类型被触发，那么在{}async_load{}地图中会有一个额外的键：","If this event type is triggered, then there will be an additional key in the&nbsp;{}{}async_load{}{}&nbsp;map:":"如果这个事件类型被触发，那么在 {}{}async_load{}{} 地图中会有一个额外的键：","Misc. Events":"杂项","On mobile targets (Android, iOS and tvOS), an event is triggered when the app is brought back into focus. Its&nbsp;{}async_load{} map contains a single key:":"在移动目标（Android、iOS和tvOS）上，当应用程序被重新带入焦点时，会触发一个事件。它的&nbsp;{}async_load{}映射包含一个单一的键。","On mobile targets (Android, iOS and tvOS), an event is triggered when the app is brought back into focus. Its&nbsp;{}{}async_load{}{} map contains a single key:":"移动目标（Android、iOS和tvOS）上，当应用程序被重新带入焦点时，会触发一个事件。它的 {}{}async_load{}{} 映射包含一个单一的键。","See {}here{}&nbsp;for more information on the virtual keyboard.":"关于虚拟键盘的更多信息，见{}这里{}。","See&nbsp;{}Virtual Keys And Virtual Keyboards{}&nbsp;for more information on the virtual keyboard.":"有关虚拟键盘的更多信息，请参阅{}虚拟按键和虚拟键盘{}。",System:"系统","This event now permits you to move all your gamepad checking logic from the Step Event or an Alarm event into the System Event and only run it when it's actually required.":"这个事件现在允许你把所有的游戏手柄检查逻辑从Step事件或Alarm事件中移到系统事件中，并且只在实际需要时运行。","This event type is specifically for use when working with the HTML5 target, as it will be triggered every time the Web Audio context status changes. This means that if you have, for example, a piece of looping background music, then you can pause it or stop and restart it, based on this event triggering. This can be checked by looking for the following key/value pair in the {}async_load{} map:":"这个事件类型是专门为使用HTML5目标时使用的，因为每次网络音频上下文状态改变时，它都会被触发。这意味着，如果你有，例如，一段循环的背景音乐，那么你可以根据这个事件的触发，暂停它或停止并重新启动它。这可以通过在{}async_load{}映射中寻找以下键/值对来检查：","This event type is specifically for use when working with the HTML5 target, as it will be triggered every time the Web Audio context status changes. This means that if you have, for example, a piece of looping background music, then you can pause it or stop and restart it, based on this event triggering. This can be checked by looking for the following key/value pair in the&nbsp;{}{}async_load{}{} map:":"这个事件类型是专门为使用 HTML5 目标时使用的，因为每次网络音频上下文状态改变时，它都会被触发。这意味着，如果你有，例如，一段循环的背景音乐，那么你可以根据这个事件的触发，暂停它或停止并重新启动它。这可以通过在 {}{}async_load{}{} 映射中寻找以下键 / 值对来检查：","Virtual Keyboards":"虚拟键盘","When this event is triggered for a gamepad being connected or disconnected it will return one of the following key/value pairs in the {}async_load{} map:":"当这个事件被触发时，游戏手柄被连接或断开，它将返回{}async_load{}地图中的以下键/值对之一。","When this event is triggered for a virtual keyboard being opened or closed it will return the following key/value pairs in the {}async_load{} map:":"当这个事件被触发时，虚拟键盘被打开或关闭，它将在 {}async_load{} 映射中返回以下键/值对：","When this event is triggered for a virtual keyboard being opened or closed it will return the following key/value pairs in the&nbsp;{}{}async_load{}{}&nbsp;map:":"当这个事件被触发时，虚拟键盘被打开或关闭，它将在 {}{}async_load{}{} 映射中返回以下键/值对：","{}IMPORTANT!{} This event will NOT be triggered unless you have at least one {}{}gamepad_*{}{}&nbsp;function or {}GML Visual action{} in your game code. The runner will only initialise the gamepad sub-system when the functions are used in the project, so if they aren't present, adding/removing gamepads will not trigger the System Event.":"{}重要的是！{}除非你的游戏代码中至少有一个{}{}gamepad_*{}{}&nbsp;函数或{}GML Visual action{}，否则该事件将不会被触发。只有在项目中使用这些函数时，运行器才会初始化游戏手柄子系统，所以如果它们不存在，添加/删除游戏手柄将不会触发系统事件。","{}NOTE{}: While this event is designed for use with the HTML5 target, it will also be triggered on all other platforms, but on everything (except HTML5) it will only be triggered once on Game Start when the audio engine is first initialised.":"{}注意{}: 虽然这个事件是为HTML5目标设计的，但它也会在所有其他平台上被触发，但在所有平台上（除了HTML5），它只会在游戏开始时在音频引擎首次初始化时被触发一次。","{}System{}":"{}系统{}","{}This event can only be triggered by a {}callback{} from a system&nbsp;level event (such as the detection of a gamepad or the automatic signing in to XBox Live) and it will return a {}DS Map{} stored in the variable {}{}async_load{}{}, containing different key/value pairs depending on the system level event that triggered the call-back. These events are:":"{}这个事件只能由来自系统级事件（如检测游戏手柄或自动登录XBox Live）的{}回调{}触发，它将返回一个存储在变量{}{}async_load{}{}中的{3}DS Map{4}，根据触发回调的系统级事件，包含不同的键/值对。这些事件是：","{}This event can only be triggered by a {}callback{} from a system&nbsp;level event (such as the detection of a gamepad or the automatic signing in to Xbox Live) and it will return a {}DS Map{} stored in the variable {}{}async_load{}{}, containing different key/value pairs depending on the system level event that triggered the callback. These events are:":"{}这个事件只能由来自系统级事件（如检测游戏手柄或自动登录Xbox Live）的{}回调{}触发，它将返回一个存储在变量{}{}async_load{}{}中的{3}DS Map{4}，根据触发回调的系统级事件，包含不同的键/值对。这些事件是","{}{}{}IMPORTANT{}{}&nbsp;{}This event will NOT be triggered unless you have at least one {}{}gamepad_*{}{}&nbsp;function or {}GML Visual action{} in your game code. The runner will only initialise the gamepad sub-system when the functions are used in the project, so if they aren't present, adding/removing gamepads will not trigger the System Event.":"{}{}{}重要{}{}&nbsp;{}除非你的游戏代码中至少有一个{}{}gamepad_*{}{}&nbsp;函数或{}GML Visual action{}，否则该事件不会被触发。只有在项目中使用这些函数时，运行器才会初始化游戏手柄子系统，所以如果它们不存在，添加/删除游戏手柄将不会触发系统事件。","{}{}{}NOTE{}{}&nbsp;{}While this event is designed for use with the HTML5 target, it will also be triggered on all other platforms, but on everything (except HTML5) it will only be triggered once on Game Start when the audio engine is first initialised.":"{}{}{}注意{}{}&nbsp;{}虽然这个事件是为HTML5目标设计的，但它也会在所有其他平台上被触发，但在所有平台上（除了HTML5），它只会在游戏开始时在音频引擎第一次初始化时被触发一次。"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(e){json_global=e}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../..",gTopicId="6.3.1.2.0_14"</script><script type="text/javascript" src="../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>System</title><meta name="generator" content="Adobe RoboHelp 2022"><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page detailing the System async event."><meta name="rh-index-keywords" content="Objects - Async System Event"><meta name="search-keywords" content="System,Gamepad Event,Xbox Live Event,UWP Event,Virtual Keyboard Event,Audio System Event,ev_async_system_event"><link rel="stylesheet" type="text/css" href="../../../assets/css/default.css"><script src="../../../assets/scripts/main_script.js" type="module"></script><meta name="brsnext" value="The_Asset_Editors/Object_Properties/Gesture_Events.htm"><meta name="brsprev" value="The_Asset_Editors/Object_Properties/Async_Events/Steam.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="System"><span>System</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">System</span></h1><p><img alt="System Event" class="center" src="../../../assets/Images/Asset_Editors/Async_System.png">This event can only be triggered by a <a class="tooltip" title="A callback is simply a function that runs and then triggers another function (or code block) when it has finished doing whatever it was assigned to do. For example, the funtion sprite_add() will trigger a callback in the asynchronous Image Loaded event when the sprite has been loaded.">callback</a> from a system&nbsp;level event (such as the detection of a gamepad or the automatic signing in to Xbox Live) and it will return a <a href="../../../GameMaker_Language/GML_Reference/Data_Structures/DS_Maps/DS_Maps.htm">DS Map</a> stored in the variable <span class="inline2"><a href="../../../GameMaker_Language/GML_Overview/Variables/Builtin_Global_Variables/async_load.htm">async_load</a></span>, containing different key/value pairs depending on the system level event that triggered the callback. These events are:</p><h2>Game Pads</h2><p>When this event is triggered for a gamepad being connected or disconnected it will return one of the following key/value pairs in the <span class="inline">async_load</span> map:</p><ul class="dropspotlist"><li class="dropspot">"<span class="inline">event_type</span>" - the type of system event received, which will be one of the following strings:<ul><li><span>"<span class="inline">gamepad discovered</span>" - happens when the system reports a new gamepad has been connected</span></li><li><span>"<span class="inline">gamepad lost</span>" - happens when the system has lost connection to a gamepad</span></li></ul></li><li class="dropspot">"<span class="inline">pad_index</span>" - the index of the pad that has been added or removed</li></ul><p>This event now permits you to move all your gamepad checking logic from the Step Event or an Alarm event into the System Event and only run it when it's actually required.</p><p class="note"><b><span data-conref="../../../assets/snippets/Tag_important.hts"><span class="important">IMPORTANT</span></span>&nbsp;</b>This event will NOT be triggered unless you have at least one <a href="../../../GameMaker_Language/GML_Reference/Game_Input/GamePad_Input/Gamepad_Input.htm"><span class="inline">gamepad_*</span></a>&nbsp;function or <a href="../../../Drag_And_Drop/Drag_And_Drop_Reference/Gamepad/Gamepad_Actions.htm">GML Visual action</a> in your game code. The runner will only initialise the gamepad sub-system when the functions are used in the project, so if they aren't present, adding/removing gamepads will not trigger the System Event.</p><h2>Virtual Keyboards</h2><p>When this event is triggered for a virtual keyboard being opened or closed it will return the following key/value pairs in the&nbsp;<span class="inline2"><a href="../../../GameMaker_Language/GML_Overview/Variables/Builtin_Global_Variables/async_load.htm">async_load</a></span>&nbsp;map:</p><ul class="dropspotlist"><li class="dropspot">"<span class="inline">event_type</span>" - the type of system event received, which will be "<span class="inline">virtual keyboard status</span>" for virtual keyboards.</li><li class="dropspot">"<span class="inline">screen_height</span>" - the height of the virtual keyboard (in pixels). This will be 0 if the keyboard is invisible.</li><li class="dropspot">"<span class="inline">keyboard_status</span>" - the current status of the keyboard, returned as one of the following strings:<ul><li>"hiding"</li><li>"hidden"</li><li>"showing"</li><li>"visible"</li></ul></li></ul><p>See&nbsp;<a href="../../../GameMaker_Language/GML_Reference/Game_Input/Virtual_Keys_And_Keyboards/Virtual_Keys_And_Keyboards.htm">Virtual Keys And Virtual Keyboards</a>&nbsp;for more information on the virtual keyboard.</p><h2>Audio System Status</h2><p>This event type is specifically for use when working with the HTML5 target, as it will be triggered every time the Web Audio context status changes. This means that if you have, for example, a piece of looping background music, then you can pause it or stop and restart it, based on this event triggering. This can be checked by looking for the following key/value pair in the&nbsp;<span class="inline2"><a href="../../../GameMaker_Language/GML_Overview/Variables/Builtin_Global_Variables/async_load.htm">async_load</a></span> map:</p><ul class="dropspotlist"><li class="dropspot">"<span class="inline">event_type</span>" - the type of system event received, which will be the string "<span class="inline">audio_system_status</span>" if the audio system has initialised or the context has changed.</li></ul><p>If this event type is triggered, then there will be an additional key in the&nbsp;<span class="inline2"><a href="../../../GameMaker_Language/GML_Overview/Variables/Builtin_Global_Variables/async_load.htm">async_load</a></span>&nbsp;map:</p><ul class="dropspotlist"><li class="dropspot">"<span class="inline">status</span>" - The status of the audio system, which will be one of the following two strings</li><li class="dropspot">"<span class="inline">available</span>" - The audio system is initialised and available to play sounds</li><li class="dropspot">"<span class="inline">unavailable</span>" - The audio system is not initialised, or the context is not currently running, and so can't play sounds (all sound playing functions will return <span class="inline2">-1</span>)</li></ul><p>For more information on the specific functions available for audio, please see <a href="../../../GameMaker_Language/GML_Reference/Asset_Management/Audio/Audio.htm">Audio</a>.</p><p class="note"><b><span data-conref="../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;</b>While this event is designed for use with the HTML5 target, it will also be triggered on all other platforms, but on everything (except HTML5) it will only be triggered once on Game Start when the audio engine is first initialised.</p><h2>Misc. Events</h2><p>On mobile targets (Android, iOS and tvOS), an event is triggered when the app is brought back into focus. Its&nbsp;<span class="inline2"><a href="../../../GameMaker_Language/GML_Overview/Variables/Builtin_Global_Variables/async_load.htm">async_load</a></span> map contains a single key:</p><ul class="colour"><li><span class="inline">"event_type"</span> : <span class="inline">"onResume"</span></li></ul><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="../Async_Events.htm">Async Events</a></div><div style="float:right">Next: <a href="Audio_Playback.htm">Audio Playback</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>