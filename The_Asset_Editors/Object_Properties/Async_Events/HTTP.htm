<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/main.css"><script>let str;removeHtml=function(t){return t=(t=(t=(t=t.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(t){return t.match(/(<([^>]+)>)/gi)},setTranslator=function(t,e,a){let o;o=a?t.attr(a):t.html();let s=e[removeHtml(o)];if(null!=s&&s.length){e=retHtml(o);let n=0;e&&e.forEach(function(t,e){var a=s.replace("{"+n+"}",t);s=a===s?s.replace("{}",t):a,n++}),a?t.attr(a,s):t.html(s)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var t=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(t):($(".topic-header").append(t),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(t){return t.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={'"{}contentLength{}": This is the size of file that the web server has said you should expect to receive (may be -1 if the server does not return this data).':'"{}contentLength{}"：这是Web服务器表示您应该收到的文件大小(如果服务器不返回此数据，可能是-1)。','"{}http_status{}": The raw http status code (if available). This returns the standard web status code for most browsers, eg: 304 for "Not Modified" or 204 for "No Content", etc...':'"{}http_status{}"：原始超文本传输协议状态码(如果可用)。这将返回大多数浏览器的标准Web状态代码，例如：304代表"未修改"或204代表"无内容"等…','"{}id{}": The id which was returned from the command. If you fire off a series of {}http_{} requests then you need to know which one you are getting the reply to, and so you would use this value to compare to the value you stored when you originally sent the request to find the right one.':'"{}id{}"：从命令返回的id。如果您发出一系列{}http_{}请求，那么您需要知道您正在得到哪个回复，因此您将使用此值与最初发送请求时存储的值进行比较，以找到正确的请求。','"{}result{}": The data received (string only), or the path to the file downloaded if you have used {}{}http_get_file(){}{}. You may only get this key if the status is 0, but that is platform-dependent.':'"{}result{}"：接收到的数据(仅限字符串)，或下载文件的路径(如果您使用了{}{}http_get_file(){}{}. 您只能在状态为0时获得此密钥，但这取决于平台。','"{}result{}": The data received (string only), or the path to the file downloaded if you have used {}{}http_get_file{}{}. You may only get this key if the status is 0, but that is platform-dependent.':'"{}result{}"：接收到的数据 (仅限字符串)，或下载文件的路径 (如果您使用了 {}{}http_get_file{}{}. 您只能在状态为 0 时获得此密钥，但这取决于平台。','"{}sizeDownloaded{}": The size of the data that has already been downloaded.':'"{}sizeDownloaded{}"：已下载数据的大小。','"{}status{}": Returns a value of less than 0 for an error, 0 for success and 1 if content is being downloaded.':'"{}status{}"：返回小于0的错误值，0表示成功，1表示正在下载内容。','"{}url{}": The complete URL you requested.':'"{}url{}"：您请求的完整URL。',"Note that the event will not be triggered for every single data packet that is received, but will rather update at any time during the download within the main game loop. Also note that currently this functionality is only available for regular Windows target platforms.":"请注意，该事件不会为收到的每个封包触发，而是会在主游戏循环中的下载过程中随时更新。另请注意，目前此功能仅适用于常规Windows目标平台。","The above shows what you get when you use the {}{}http_post_string(){}{}&nbsp;function, but each of the {}http_{} functions may return a slightly different map, so please refer to the manual entry for each function to find out the precise data that is returned for it.":"上面显示了使用 {}{}http_post_string(){}{} 函数时得到的结果，但每个 {}http_{} 函数可能返回略有不同的映射，因此请参考每个函数的手动条目以查找为其返回的精确数据。","The above shows what you get when you use the&nbsp;{}{}http_post_string{}{} function, but each of the {}http_{}&nbsp;functions may return a slightly different map, so please refer to the manual entry for each function to find out the precise data that is returned for it.":"上面显示了使用 {}{}http_post_string{}{} 函数时得到的结果，但每个 {}http_{} 函数可能返回略有不同的映射，因此请参考每个函数的手动条目以查找为其返回的精确数据。",'There could also be additional data supplied by this map if you have requested files for downloading. In this case, the "status" will have a value of 1 and the DS map will hold these extra keys:':'如果您请求下载文件，此地图还可能提供其他数据。在这种情况下，"状态"的值为1，DS映射将保存这些额外的键：',"{}NOTE{}: As {}{}async_load {}{}creates a DS map, these functions are particularly useful when coupled with the {}{}json_encode(){}{}&nbsp;and {}{}json_decode(){}{}&nbsp;functions.":"{}注意{}：当 {}{}async_load{}{} 创建 DS 映射时，这些函数与 {}{}json_encode(){}{} 和 {}{}json_decode(){}{} 函数结合使用时特别有用。","{}The HTTP Event is one that is triggered by the {}callback{} from one of the {}{}http_*(){} functions{}, like {}{}http_post_string(){}{}. It actually generates a {}DS Map{}&nbsp;that is exclusive to this event and is stored in the special variable {}{}async_load{} {}(please see the individual functions for code examples that explain the use of this event in further detail). This DS map has the following general structure:":"{}HTTP 事件是由来自 {}{}http_*(){} 函数 {} 之一的 {1} 回调 {2} 触发的事件，如 {}{}http_post_string(){}{}。它实际上会生成一个 {}Ds Map{}，该映射专用于此事件，并存储在特殊变量 {}{}async_load{}{} 中 (请参阅各个函数，了解有关此事件使用的详细代码示例)。此 Ds 映射具有以下一般结构：","{}The HTTP Event is one that is triggered by the {}callback{} from one of the {}{}http_*(){} functions{}, like {}{}http_post_string{}{}. It actually generates a {}DS Map{}&nbsp;that is exclusive to this event and is stored in the special variable&nbsp;{}{}async_load{}{} (please see the individual functions for code examples that explain the use of this event in further detail). This DS map has the following general structure:":"{}HTTP 事件是由来自 {}{}http_*(){} 函数 {} 之一的 {1} 回调 {2} 触发的事件，如 {}{}http_post_string{}{}。它实际上会生成一个 {}DS Map{}，该映射专用于此事件，并存储在特殊变量 {}{}async_load{}{} 中 (请参阅各个函数，了解有关此事件使用的详细代码示例)。此 DS 映射具有以下一般结构：","{}{}NOTE{}{}&nbsp;As&nbsp;{}{}async_load{}{} creates a DS map, these functions are particularly useful when coupled with the&nbsp;{}{}json_encode{}{} and&nbsp;{}{}json_decode{}{} functions.":"{}{}注意{}{}：当 {}{}async_load{}{} 创建 DS 映射时，这些函数与 {}{}json_encode{}{} 和 {}{}json_decode{}{} 函数结合使用时特别有用。"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(t){json_global=t}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../..",gTopicId="6.3.1.2.0_6"</script><script type="text/javascript" src="../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>HTTP</title><meta name="generator" content="Adobe RoboHelp 2022"><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page detailing the HTTP async event."><meta name="rh-index-keywords" content="Objects - Async HTTP Event"><meta name="search-keywords" content="HTTP,ev_async_web"><link rel="stylesheet" type="text/css" href="../../../assets/css/default.css"><script src="../../../assets/scripts/main_script.js" type="module"></script><meta name="brsnext" value="The_Asset_Editors/Object_Properties/Async_Events/IAP.htm"><meta name="brsprev" value="The_Asset_Editors/Object_Properties/Async_Events/Dialog.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="HTTP"><span>HTTP</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">HTTP</span></h1><p><img alt="HTTP Event" class="center" src="../../../assets/Images/Asset_Editors/Async_HTTP.png">The HTTP Event is one that is triggered by the <a class="tooltip" title="A callback is simply a function that runs and then triggers another function (or code block) when it has finished doing whatever it was assigned to do. For example, the funtion sprite_add() will trigger a callback in the asynchronous Image Loaded event when the sprite has been loaded.">callback</a> from one of the <a href="../../../GameMaker_Language/GML_Reference/Asynchronous_Functions/HTTP/HTTP.htm"><span class="inline">http_*()</span> functions</a>, like <span class="inline3_func"><a href="../../../GameMaker_Language/GML_Reference/Asynchronous_Functions/HTTP/http_post_string.htm">http_post_string</a></span>. It actually generates a <a href="../../../GameMaker_Language/GML_Reference/Data_Structures/DS_Maps/DS_Maps.htm">DS Map</a>&nbsp;that is exclusive to this event and is stored in the special variable&nbsp;<span class="inline2"><a href="../../../GameMaker_Language/GML_Overview/Variables/Builtin_Global_Variables/async_load.htm">async_load</a></span> (please see the individual functions for code examples that explain the use of this event in further detail). This DS map has the following general structure:</p><ul class="dropspotlist"><li class="dropspot">"<span class="inline">id</span>": The id which was returned from the command. If you fire off a series of <span class="inline">http_</span> requests then you need to know which one you are getting the reply to, and so you would use this value to compare to the value you stored when you originally sent the request to find the right one.</li><li class="dropspot">"<span class="inline">status</span>": Returns a value of less than 0 for an error, 0 for success and 1 if content is being downloaded.</li><li class="dropspot">"<span class="inline">result</span>": The data received (string only), or the path to the file downloaded if you have used <span class="inline3_func"><a href="../../../GameMaker_Language/GML_Reference/Asynchronous_Functions/HTTP/http_get_file.htm">http_get_file</a></span>. You may only get this key if the status is 0, but that is platform-dependent.</li><li class="dropspot">"<span class="inline">url</span>": The complete URL you requested.</li><li class="dropspot">"<span class="inline">http_status</span>": The raw http status code (if available). This returns the standard web status code for most browsers, eg: 304 for "Not Modified" or 204 for "No Content", etc...</li></ul><p>The above shows what you get when you use the&nbsp;<span class="inline3_func"><a href="../../../GameMaker_Language/GML_Reference/Asynchronous_Functions/HTTP/http_post_string.htm">http_post_string</a></span> function, but each of the <span class="inline2">http_</span>&nbsp;functions may return a slightly different map, so please refer to the manual entry for each function to find out the precise data that is returned for it.</p><p class="note"><span data-conref="../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;As&nbsp;<span class="inline2"><a href="../../../GameMaker_Language/GML_Overview/Variables/Builtin_Global_Variables/async_load.htm">async_load</a></span> creates a DS map, these functions are particularly useful when coupled with the&nbsp;<span class="inline3_func"><a href="../../../GameMaker_Language/GML_Reference/File_Handling/Encoding_And_Hashing/json_encode.htm">json_encode</a></span> and&nbsp;<span class="inline3_func"><a href="../../../GameMaker_Language/GML_Reference/File_Handling/Encoding_And_Hashing/json_decode.htm">json_decode</a></span> functions.</p><p>There could also be additional data supplied by this map if you have requested files for downloading. In this case, the "status" will have a value of 1 and the DS map will hold these extra keys:</p><ul class="dropspotlist"><li class="dropspot">"<span class="inline">contentLength</span>": This is the size of file that the web server has said you should expect to receive (may be -1 if the server does not return this data).</li><li class="dropspot">"<span class="inline">sizeDownloaded</span>": The size of the data that has already been downloaded.</li></ul><p>Note that the event will not be triggered for every single data packet that is received, but will rather update at any time during the download within the main game loop. Also note that currently this functionality is only available for regular Windows target platforms.</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="../Async_Events.htm">Async Events</a></div><div style="float:right">Next: <a href="IAP.htm">In App Purchase</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>