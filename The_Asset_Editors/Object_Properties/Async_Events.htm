<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../assets/import/main.css"><script>let str;removeHtml=function(t){return t=(t=(t=(t=t.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(t){return t.match(/(<([^>]+)>)/gi)},setTranslator=function(t,n,a){let e;e=a?t.attr(a):t.html();let l=n[removeHtml(e)];if(null!=l&&l.length){n=retHtml(e);let o=0;n&&n.forEach(function(t,n){var a=l.replace("{"+o+"}",t);l=a===l?l.replace("{}",t):a,o++}),a?t.attr(a,l):t.html(l)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){$(".header").length&&$(".header").append(`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`)},removeExtensionFromHash=function(t){return t.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")},$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption,blockquote").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption,.expandtext").each(function(){setTranslator($(this),json)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../..",gTopicId="6.3.1.2"</script><script type="text/javascript" src="../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Async Events</title><meta name="generator" content="Adobe RoboHelp 2022"><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page detailing the async events."><meta name="rh-index-keywords" content="Objects - Async Events"><meta name="search-keywords" content="Async Events,asynchronous,image loaded,audio playback,audio recording,cloud,dialog,http,in-app-purchase,networking,push notification,save/load,social,steam,system,audio playback ended"><link rel="stylesheet" type="text/css" href="../../assets/css/default.css"><script src="../../assets/scripts/main_script.js" type="module"></script><meta name="brsnext" value="The_Asset_Editors/Object_Properties/Async_Events/Audio_Playback.htm"><meta name="brsprev" value="The_Asset_Editors/Object_Properties/Draw_Events.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="Async Events"><span>Async Events</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1>The&nbsp;<span data-field="title" data-format="default">Async Events</span></h1><p><img alt="The Async Event" class="center" height="322" src="../../assets/Images/Asset_Editors/Editor_Objects_Async.png" width="344"></p><p>An Asynchronous Event is one that is fired when <span data-keyref="GameMaker Name">GameMaker</span> receives a <a class="tooltip" title="A callback is simply a function that runs and then triggers another function (or code block) when it has finished doing whatever it was assigned to do. For example, the funtion sprite_add() will trigger a callback in the asynchronous Image Loaded event when the sprite has been loaded.">callback</a>&nbsp;from some external source, which can be from the web or from the device running your game.</p><p>Basically, you tell <span data-keyref="GameMaker Name">GameMaker</span> to do something -&nbsp;like load an image -&nbsp;and it will start to do this. As an example, let's say you want to add a sprite from an external file. This can be done <em>synchronously</em> or&nbsp;<em>asynchronously</em>. To do this synchronously, you use the function&nbsp;<span class="inline3_func"><a href="../../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprite_Manipulation/sprite_add.htm">sprite_add</a></span>:&nbsp;</p><p class="code">var _new_big_sprite = sprite_add("my_new_sprite_image.png", 1, false, true, 0, 0);<br><br>// A lot more code below this line that all needs to be executed&nbsp;on time to keep a steady FPS</p><p>This function has a bit&nbsp;of a disadvantage, however, as it&nbsp;<em>fully l<em>oads the sprite immediately</em></em>. The next line&nbsp;of code will&nbsp;only be executed after that's finished!&nbsp;This may barely be noticeable if you're just adding a single small sprite, but might freeze your game when loading&nbsp;one big sprite&nbsp;or many small&nbsp;ones.</p><p><span data-keyref="GameMaker Name">GameMaker</span> also has built-in functions that work <em>asynchronously</em> instead. Using these functions <span data-keyref="GameMaker Name">GameMaker</span>&nbsp;only&nbsp;<em>starts</em> doing what you asked, but doesn't stop executing code until this has finished. It continues to process your async request "in the background" and continues to run the rest of your game's code normally. When the request completes, a callback will be sent to <span data-keyref="GameMaker Name">GameMaker</span>&nbsp;and any Asynchronous Events defined for that type of callback will be fired.</p><p>In the example of&nbsp;<span class="inline3_func"><a href="../../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprite_Manipulation/sprite_add.htm">sprite_add</a></span>, you can use its asynchronous counterpart&nbsp;<span class="inline3_func"><a href="../../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprite_Manipulation/sprite_add_ext.htm">sprite_add_ext</a></span>&nbsp;to just&nbsp;<em>start</em> loading the sprite and trigger an async event afterwards:&nbsp;</p><p class="code">var _new_big_sprite = sprite_add_ext("my_new_sprite_image.png", 1, 0, 0, true);<br><br>// A lot more code below this line that will be executed almost instantly after the call to sprite_add_ext</p><p class="code_heading">Async Image Loaded Event</p><p class="code">/// "The sprite you requested has finished loading"</p><p>There are&nbsp;other situations in which you don't want the game to wait until something that might take an amount of time to complete has finished, such as making HTTP requests to a web server.</p><p>You don't always have to call a function yourself first in&nbsp;order to receive a callback in the form&nbsp;of an async event, for example the async&nbsp;<a href="Async_Events/System.htm">System</a>&nbsp;event will be triggered when a gamepad is connected&nbsp;or disconnected. For this you don't have to call a function first.</p><p>Please note that the Asynchronous Events are fired for <em>all</em> instances that have them, much like the keyboard events, so you can - for example - do an&nbsp;<span class="inline3_func"><a href="../../GameMaker_Language/GML_Reference/Asynchronous_Functions/HTTP/http_get.htm">http_get</a></span> call&nbsp;in one instance, yet have the <strong>Asynchronous HTTP Event</strong> in another to deal with the callback.</p><p class="note"><span data-conref="../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;You should be aware that due to XSS protection in browsers, requests and attempts to load resources from across domains are blocked and may appear to return blank results when using any of the following events.</p><p>There are various types of events associated with the Asynchronous event category, and they are all explained in the sections below:</p><p class="note"><span data-conref="../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;The variable&nbsp;<span class="inline2"><a href="../../GameMaker_Language/GML_Overview/Variables/Builtin_Global_Variables/async_load.htm">async_load</a></span> which is mentioned in the following sections is <strong>only valid in these events</strong>, as the <a href="../../GameMaker_Language/GML_Reference/Data_Structures/DS_Maps/DS_Maps.htm">DS map</a> that it&nbsp;points to is created at the start of the event, then deleted again at the end, with this variable being reset to a value of <span class="inline2">-1</span> at all other times.</p><ul class="colour"><li><a href="Async_Events/Audio_Playback.htm">Audio Playback</a></li><li><a href="Async_Events/Audio_Playback_Ended.htm">Audio Playback Ended</a></li><li><a href="Async_Events/Audio_Recording.htm">Audio Recording</a></li><li><a href="Async_Events/Cloud.htm">Cloud</a></li><li><a href="Async_Events/Dialog.htm">Dialog</a></li><li><a href="Async_Events/HTTP.htm">HTTP</a></li><li><a href="Async_Events/IAP.htm">In App Purchase</a></li><li><a href="Async_Events/Image_Loaded.htm">Image Loaded</a></li><li><a href="Async_Events/Networking.htm">Networking</a></li><li><a href="Async_Events/Push_Notifications.htm">Push Notifications</a></li><li><a href="Async_Events/Save_Load.htm">Save / Load</a></li><li><a href="Async_Events/Social.htm">Social</a></li><li><a href="Async_Events/Steam.htm">Steam</a></li><li><a href="Async_Events/System.htm">System</a></li></ul><p>&nbsp;</p><p>It may be that if you are making extensions for different platforms you would like to target one or more of these asynchronous events for callbacks from your extension functions. To that end, you can find a table below that outlines each of the internal event name constants and their corresponding ID value.</p><p class="note"><span data-conref="../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;These event constants are <b>only</b> for use with extensions!</p><p>&nbsp;</p><table id="async_event_constants" style="caption-side:top"><caption>Async Event Constants</caption><tbody><tr><th width="40%">Constant</th><th>Value</th></tr><tr><td><b>EVENT_OTHER_WEB_IMAGE_LOAD&nbsp;</b></td><td style="text-align:center"><span style="text-align:center">60</span></td></tr><tr><td><span style="text-align:center"><b>EVENT_OTHER_WEB_SOUND_LOAD&nbsp;</b></span></td><td style="text-align:center"><span style="text-align:center">61</span></td></tr><tr><td><span style="text-align:center"><b>EVENT_OTHER_WEB_ASYNC&nbsp;</b></span></td><td style="text-align:center"><span style="text-align:center">62</span></td></tr><tr><td><span style="text-align:center"><b>EVENT_OTHER_DIALOG_ASYNC&nbsp;</b></span></td><td style="text-align:center"><span style="text-align:center">63</span></td></tr><tr><td><span style="text-align:center"><b>EVENT_OTHER_WEB_IAP&nbsp;</b></span></td><td style="text-align:center"><span style="text-align:center">66</span></td></tr><tr><td><span style="text-align:center"><b>EVENT_OTHER_WEB_CLOUD&nbsp;</b></span></td><td style="text-align:center"><span style="text-align:center">67</span></td></tr><tr><td><span style="text-align:center"><b>EVENT_OTHER_WEB_NETWORKING&nbsp;</b></span></td><td style="text-align:center"><span style="text-align:center">68</span></td></tr><tr><td><span style="text-align:center"><b>EVENT_OTHER_WEB_STEAM&nbsp;</b></span></td><td style="text-align:center">69</td></tr><tr><td><span style="text-align:center"><b>EVENT_OTHER_SOCIAL&nbsp;</b></span></td><td style="text-align:center"><span style="text-align:center">70</span></td></tr><tr><td><span style="text-align:center"><b>EVENT_OTHER_PUSH_NOTIFICATION&nbsp;</b></span></td><td style="text-align:center"><span style="text-align:center">71</span></td></tr><tr><td><span style="text-align:center"><b>EVENT_OTHER_ASYNC_SAVE_LOAD&nbsp;</b></span></td><td style="text-align:center"><span style="text-align:center">72</span></td></tr><tr><td><span style="text-align:center"><b>EVENT_OTHER_AUDIO_RECORDING&nbsp;</b></span></td><td style="text-align:center"><span style="text-align:center">73</span></td></tr><tr><td><span style="text-align:center"><b>EVENT_OTHER_AUDIO_PLAYBACK&nbsp;</b></span></td><td style="text-align:center"><span style="text-align:center">74</span></td></tr><tr><td><span style="text-align:center"><b>EVENT_OTHER_SYSTEM_EVENT&nbsp;</b></span></td><td style="text-align:center"><span style="text-align:center">75</span></td></tr><tr><td><strong>EVENT_OTHER_MESSAGE_EVENT&nbsp;</strong></td><td style="text-align:center">76</td></tr></tbody></table><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="Object_Events.htm">Object Events</a></div><div style="float:right">Next: <a href="Gesture_Events.htm">Gesture Events</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>