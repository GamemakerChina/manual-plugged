<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../assets/import/main.css"><script>let str;removeHtml=function(t){return t=(t=(t=(t=t.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(t){return t.match(/(<([^>]+)>)/gi)},setTranslator=function(t,n,a){let e;e=a?t.attr(a):t.html();let l=n[removeHtml(e)];if(null!=l&&l.length){n=retHtml(e);let o=0;n&&n.forEach(function(t,n){var a=l.replace("{"+o+"}",t);l=a===l?l.replace("{}",t):a,o++}),a?t.attr(a,l):t.html(l)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){$(".header").length&&$(".header").append(`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`)},removeExtensionFromHash=function(t){return t.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")},$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../..",gTopicId="6.3.1"</script><script type="text/javascript" src="../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Object Events</title><meta name="generator" content="Adobe RoboHelp 2022"><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page detailing the events system and the different events in an object"><meta name="rh-index-keywords" content="Objects - Events"><meta name="search-keywords" content="events,object events,events list"><link rel="stylesheet" type="text/css" href="../../assets/css/default.css"><script src="../../assets/scripts/main_script.js" type="module"></script><meta name="brsnext" value="The_Asset_Editors/Object_Properties/Event_Order.htm"><meta name="brsprev" value="The_Asset_Editors/Objects.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="Object Events"><span>Object Events</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">Object Events</span></h1><p>So, what are <span data-field="title" data-format="default">Object Events</span>? Basically, these are discreet moments in the game loop where things are made to happen based on what you have programmed for them. <span data-keyref="GameMaker Name">GameMaker</span> works with cycles of these events - from the moment a room is started to the moment it is finished there is a game loop running where every <strong>step</strong> a series of events are run or checked, and you can choose to place&nbsp;<span data-keyref="GML_Code">GML Code</span> or <span data-keyref="GML_Visual">GML Visual</span>&nbsp;actions in your objects that respond to these events (a step is a moment in game time, governed by the&nbsp;<a href="../../Settings/Game_Options.htm">Game Frames Per Second</a> setting, and can also be called a <strong>frame</strong>).</p><p>Let's look at a typical object setup with events and code:</p><p><img alt="Object Editor Events View" class="center" src="../../assets/Images/Asset_Editors/Editor_Objects_Events.png">As you can see in our example object there are a number of events listed that it should respond to, but initially when you create an object this list is empty and you must decide which events you need and what instances of that object should do when those events are triggered. To add events into the object, you press the <strong>Add Event</strong> button found at the bottom of the events list which will bring up the following window:&nbsp;</p><p><img alt="Object Editor Events List" class="center" src="../../assets/Images/Asset_Editors/Editor_Objects_EventList.png">This is the list of all the basic events and event categories which an object can respond to, and within each category are sub events to further refine behaviours. For example, if you click on the <strong>K</strong><strong>ey Press</strong> <img alt="Key Press Icon" height="16" src="../../assets/Images/Icons/Icon_KeyboardPress.png" width="16">&nbsp;event category you will then get a further window popping up with the events that allow you to select <em>which</em> key the object should respond to.</p><p>Once you have selected your event, the event's editor window&nbsp;will be chained to it and open up on the right.</p><div data-conref="../../assets/snippets/Visual_Code_Choice.hts"><p class="note">At this point, you may be asked to choose between&nbsp;<span data-keyref="GML_Visual">GML Visual</span>&nbsp;and&nbsp;<span data-keyref="GML_Code">GML Code</span>. See&nbsp;<a href="../../GameMaker_Language.htm">GameMaker Language</a> for more information.</p></div><p>You can now edit the <span data-keyref="GML_Code">GML Code</span>&nbsp;(or blocks) to give your object a specific behaviour or reaction to that event.</p><p>You can click the right mouse button <img alt="RMB Icon" class="icon" src="../../assets/Images/Icons/Icon_RMB.png">&nbsp;on any event that has been added to an object to get the following menu options:</p><p><img alt="Object Editor Events Menu" class="center" src="../../assets/Images/Asset_Editors/Editor_Objects_RMBMenu.png">These options are:</p><ul class="colour"><li><strong>Add Event</strong> - Add a new event from the event list.</li><li><strong>Show Parent Event</strong> - View the inherited event from the parent in a read-only mode.</li><li><strong>Open Parent Event</strong> - Open the inherited event in the parent object.</li><li><strong>Cut</strong> / <strong>Copy</strong> / <strong>Paste Events</strong> - Cut, copy or paste the selected event. You can use the standard keyboard shortcuts too: <img alt="CTRL Icon" class="icon" height="20" src="../../assets/Images/Icons/Icon_Ctrl.png" width="55">&nbsp;/&nbsp;<img alt="CMD Icon" class="icon" height="20" src="../../assets/Images/Icons/Icon_Cmd.png" width="55"> + <span class="inline">X</span>, <img alt="CTRL Icon" class="icon" height="20" src="../../assets/Images/Icons/Icon_Ctrl.png" width="55">&nbsp;/&nbsp;<img alt="CMD Icon" class="icon" height="20" src="../../assets/Images/Icons/Icon_Cmd.png" width="55">&nbsp;+ <span class="inline">C</span>, and <img alt="CTRL Icon" class="icon" height="20" src="../../assets/Images/Icons/Icon_Ctrl.png" width="55">&nbsp;/&nbsp;<img alt="CMD Icon" class="icon" height="20" src="../../assets/Images/Icons/Icon_Cmd.png" width="55">&nbsp;+ <span class="inline">V</span>.</li><li><strong>Duplicate Event</strong> - Duplicate the chosen event. This will take the contents of the chosen event and duplicate them in another event that you specify.</li><li><strong>Change Event</strong> - Change the event. This will prompt you to choose another event category and once selected the contents of the current event will be changed to the new event (removing the original event in the process).</li><li><strong>Convert To GML Visual / Code</strong> - Object events will be created using the method chosen when you created the project, either using <span data-keyref="GML_Code">GML Code</span>&nbsp;or <span data-keyref="GML_Visual">GML Visual</span>&nbsp;actions. With this option you can convert from one to the other, regardless of the project type.</li><li><strong>Delete Event</strong> - Delete the event (or events).</li></ul><p>When removing events, you can use <img alt="Shift Icon" class="icon" height="20" src="../../assets/Images/Icons/Icon_Shift.png" width="55">&nbsp;+ <img alt="LMB Icon" class="icon" src="../../assets/Images/Icons/Icon_LMB.png">&nbsp;to select multiple events and then delete them all together. Each object you create has its own discreet list of events which are added into it from <a href="../Objects.htm">The Object Editor</a>. These events fall into two categories:</p><ul class="colour"><li>those that run every single game step</li><li>those that are "triggered" by a game event, like the instance reaching the room edge or a keyboard or mouse press.</li></ul><p>The full list of events is given below:</p><p><img alt="Create Event Icon" src="../../assets/Images/Icons/Icon_Create.png"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down8" href="#"><span data-open-text="true" data-skip-index="true">Create</span><span data-close-text="true">Create</span></a></p><div class="droptext" data-targetname="drop-down8"><p class="dropspot">This event happens when an instance of the object is first created, and is the very first thing that happens within an instance placed in the room through the Room Editor when a room is entered. This means that this event is the ideal place to initialize <a class="tooltip" title="A variable is a named value within a program which can be modified, stored and displayed whenever required. For example, if we have an integer variable with a name XYZ and it stores a value 10, we can then do things like A = XYZ + 10, which will set the value of the variable A to 20, since XYZ is 10 and we are adding 10 to it. You can also change variable values using operators, so doing XYZ = XYZ + 100 would modify the value of our XYZ variable to be equal to 110. Variables can also be used to store identifiers and references to different assets.">variable</a><span class="glossextra">s</span>, start <a href="../Timelines.htm">Timelines</a>, set <a href="../Paths.htm">Paths</a>&nbsp;etc... and do anything else that generally only needs to be done once or only when an instance is first created in the room. If your object has any <strong>Object Variables</strong> or <strong>Instance Variables</strong> added in either the Object Editor or the Room Editor, then these variables will be initialised first and then the <strong>Create Event</strong> will be run.</p><p class="dropspot">Remember that you can modify anything you set up in the Create Event from the <a href="../Room_Properties/Layer_Properties.htm">Instance Creation Code</a>&nbsp;in the Room Editor, as that is run directly after the create event for the instance and can be used to create <strong>Instance Variables</strong>&nbsp;or to override any variables added as Object Variables or in the actual Create Event.</p><div data-conref="../../assets/snippets/Instance_creation_order_warning.hts"><p class="note"><span class="note">NOTE</span>&nbsp;Instances in a room are created in a certain <a href="../Room_Properties/Room_Properties.htm#creation_order">order</a>, and their Create events are also executed as they are created one-by-one. This means that you must be careful when reading variables from other instances in the Create event, as that other instance may not have run its Create event yet!<br><br>For example: let's say <strong>ObjectA</strong> is created before <strong>ObjectB</strong>, and you have the following code in those objects' Create events:<br><br><strong>ObjectA</strong> Create -&nbsp;<span class="inline2">myValue = objectB.myValue;</span><br><strong>ObjectB</strong> Create -&nbsp;<span class="inline2">myValue = 10;</span><br><br>ObjectA is created first and its Create event runs, which then crashes the game:<br><br><em><strong>"Variable objectB.myValue(100003, -2147483648) not set before reading it."</strong></em><br><br>That's simply because ObjectB has not even been created yet, so any variables initialised in its Create event do not yet exist. This is why you must take caution when referencing other instances&nbsp;like this in the Create event, including any code run inside <span class="inline"><a href="../../GameMaker_Language/GML_Overview/Language_Features/with.htm">with()</a></span> blocks.</p></div><p class="dropspot">&nbsp;</p></div><p><img alt="Destroy Event Icon" src="../../assets/Images/Icons/Icon_Destroy.png"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down9" href="#"><span data-open-text="true" data-skip-index="true">Destroy</span><span data-close-text="true">Destroy</span></a></p><div class="droptext" data-targetname="drop-down9"><p class="dropspot">This event is the event to be executed when an instance is destroyed. It is often overlooked when adding behaviours to objects, but it can be very useful, for example by creating explosion or particle effects when an enemy is killed, or for re-spawning a new instance of the object in another part of the room, or even for adding points onto a score.</p><p class="dropspot">&nbsp;</p></div><p><img alt="Clean Up Event Icon" src="../../assets/Images/Icons/Icon_Destroy.png"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down10" href="#"><span data-open-text="true" data-skip-index="true">Clean Up</span><span data-close-text="true">Clean Up</span></a></p><div class="droptext" data-targetname="drop-down10"><p class="dropspot">This event will be called after any event that removes an instance of the object from the room. So, it will be triggered if:</p><ul class="dropspotlist"><li class="dropspot">the instance is destroyed</li><li class="dropspot">the room ends</li><li class="dropspot">the game ends</li></ul><p class="dropspot">It is designed for you to use to "clean up" any dynamic resources that you may have in your game (like surfaces, data structures, etc...) or to perform any task that you need performed <em>once</em> when the instance is removed from the game in any way.</p><p class="dropspot">Note that this event will be called <em>instantly</em> after the event that triggered it, but the instance will not actually be removed from the game <strong>until the end of the current event</strong>. For example, if you call <span class="inline">instance_destroy()</span> in the Step Event, then the Destroy Event will be called, then the Clean Up Event, and then <em>the rest of the Step Event will finish running</em>. This means that any code you have after the call to <span class="inline">instance_destroy()</span> will still be run and be a potential cause for errors if you've cleaned up a data structure or some other resource that the code requires, so care must be taken when using this event.</p><p>&nbsp;</p></div><p><img alt="Alarm Event Icon" src="../../assets/Images/Icons/Icon_Alarm.png"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down11" href="#"><span data-open-text="true" data-skip-index="true">Alarm</span><span data-close-text="true">Alarm</span></a></p><div class="droptext" data-targetname="drop-down11"><p class="dropspot">The alarm category is split into 12 events, one for each of the possible alarms that can be set in an instance. So, when you click on the <em>Add Alarm</em> category you are presented with this window:</p><p class="dropspot"><img alt="Object Editor Alarm Events" class="center" src="../../assets/Images/Asset_Editors/Editor_Objects_AlarmEvents.png">Here you select the alarm that you wish to create and, once that is done, you will see that it has been added to the event window allowing you to add code to it as normal. But what is an alarm? Well, it is a special event that does nothing unless the alarm has been previously set, and then it will wait until that alarm has counted down to 0 before running the actions or code that you have added into it.</p><p class="dropspot">Once the alarm has reached 0 and run the code, it will then count down to -1, where it will remain until set again (meaning you can check the value of an alarm to see if it is greater than -1, which will tell you if it's running or not). So, say you set <span class="inline">alarm[0]</span> in the create event of the object to 30, this means that <span data-keyref="GameMaker Name">GameMaker</span> will count down 30 game steps before it runs the actions or code that are placed in the <span class="inline">alarm[0]</span> event. Note that setting an alarm to 0 will <em>not</em> run the alarm code, as the event is triggered, but the alarm is set to -1 immediately, so the code is skipped. If you need an alarm to run the very next step, then you should set it to 1.</p><p class="dropspot">This can be very useful as it allows you to set things in motion at precise moments, and you can even have them repeat as there is nothing to stop you setting an alarm in its own event. Imagine you have a monster and you want it to turn right every three seconds... well, you would set an alarm in its create event to the room speed * 3 (if the room speed is 30, that's 30 steps per second, so multiply that by 3 and you get 3 seconds!) and then in the alarm event you would have the code or action to set its direction, as well as the action (or code) to set its alarm to room speed * 3&nbsp;again. In this way, you can set up simple game loops where things only happen at specific intervals.</p><p class="dropspot">It is worth noting that an alarm with no actions or code in it in it will <em>not</em> count down. However, even with just a comment and no code or actions, then the alarm will continue to count down and can be set and checked as you would normally.</p><p class="dropspot">&nbsp;</p></div><p><img alt="Step Event Icon" src="../../assets/Images/Icons/Icon_Step.png"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down12" href="#"><span data-open-text="true" data-skip-index="true">Step</span><span data-close-text="true">Step</span></a></p><div class="droptext" data-targetname="drop-down12"><p class="dropspot"><span data-keyref="GameMaker Name">GameMaker</span> splits time into <strong>steps</strong> with the game speed defining how many of these steps there are supposed to be per second (a step can also be called a <strong>frame</strong>). A single step, is basically the loop that runs constantly with all the events being checked and triggered as necessary while the game runs, so as you can imagine, the <strong>Step Event</strong> is an event that is checked every single step of the game while the instance exists.</p><p class="dropspot">The step event is actually comprised of three sub events that are outlined below:</p><p class="dropspot"><img alt="Object Editor Step Events" class="center" src="../../assets/Images/Asset_Editors/Editor_Objects_Step.png"></p><p class="note"><span data-conref="../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;First, all instances run their <strong>Begin Step</strong> event. Then, all instances run their <strong>Step</strong> event. After that, all instances run their <strong>End Step</strong> event.</p><p class="dropspot">For most things the standard step event will be fine to use, but sometimes you want a bit more control over what code runs and at what time, so for that you are provided with the <strong>Begin</strong> and <strong>End</strong> step events. All three are checked every step, but their order will never vary even if future updates to the <span data-keyref="GameMaker Name">GameMaker</span> engine change other events, which means that this is the only reliable method of making sure that something always happens before something else.</p><p class="dropspot">What can the step event be used for? Well, it can be used for actions or code that needs to be executed continuously. For example, if one object should follow another, here you can adapt the direction of motion towards the object we are following to keep it moving smoothly behind. Be careful with this event though, and don't put many complicated actions in the step event of objects, especially if you are planning on having lots of instances of the object in your game room, as this might slow the game down. Many things can be placed into alarms, or set to trigger using some of the <strong>Other</strong> events, rather than happening all the time.</p><p class="dropspot">&nbsp;</p></div><p><img alt="Collision Event Icon" src="../../assets/Images/Icons/Icon_Collision.png"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down13" href="#"><span data-open-text="true" data-skip-index="true">Collision</span><span data-close-text="true">Collision</span></a></p><div class="droptext" data-targetname="drop-down13"><p class="dropspot">Obviously when making a game, it is very important that you know when two (or more) instances of an object have collided, and for that we have the <strong>Collision Event</strong>. This is an event that you place in an object and then specify against which other object you should be checking for collisions.</p><p class="dropspot">When you don't have physics turned on, these collisions will be calculated based on the mask of the two objects (the mask is defined within the sprite properties, or can be assigned independently in the object properties) and whether they overlap or not. Note, that if one or the other instances in the collision does not have a mask assigned (or the sprite mask is set to nothing), <em>even if it is drawing something</em> no collisions will be detected.</p><p class="dropspot">If you have <strong>Physics</strong> on, then the collision will be based on the type of <strong>collision shape</strong> (<em>Fixture</em>) that you have defined for the object in its physics properties, as will its reaction to the collision. This means you may not need any code to deal with the collision, but this event will still <em>need to have at least a comment in it</em> for the collisions to be detected.</p><p class="dropspot">Finally, it should be noted that all collisions will be calculated once per game step before the collision event is triggered, such that when the collision event runs, all collisions will have been calculated already and pre-assigned. This means that if you create an instance in this event and then try to check for a collision with it, the collision wont be detected or resolved until the next <a class="tooltip" title="An iteration is a single pass through a set of operations in your project code. One form of iteration in computer programming is via loops. A loop will repeat a certain segment of code until a condition is met and it can proceed further. Each time the computer runs a loop, it is known as an iteration. In simple terms, iteration is the process of repeating a particular snippet of code over and over again to perform a certain action.">iteration</a> of the game loop.</p><p class="dropspot">&nbsp;</p></div><p><img alt="Keyboard Icon" src="../../assets/Images/Icons/Icon_Keyboard.png"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down14" href="#"><span data-open-text="true" data-skip-index="true">Keyboard,</span><span data-close-text="true">Keyboard,</span></a> &nbsp;&nbsp;<img alt="Keyboard Press Icon" src="../../assets/Images/Icons/Icon_KeyboardPress.png"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down14" href="#"><span data-open-text="true" data-skip-index="true">Keyboard Press,</span><span data-close-text="true">Keyboard Press,</span></a> &nbsp;<img alt="Keyboard Release Icon" height="16" src="../../assets/Images/Icons/Icon_KeyboardRelease.png" style="cursor:nwse-resize" width="15"> <a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down14" href="#"><span data-open-text="true" data-skip-index="true">Keyboard Release</span><span data-close-text="true">Keyboard Release</span></a></p><div class="droptext" data-targetname="drop-down14"><p class="dropspot">Letting the player control the different aspects of your game is very important, and to that end <span data-keyref="GameMaker Name">GameMaker</span> provides you with a very comprehensive list of keyboard events that can be used in any of the three main keyboard categories. For the general Keyboard category, it is triggered continuously&nbsp;every step&nbsp;for as long as the selected key is pressed down, while the Press and Release category events will only be triggered once when the key is initially pressed down or released.</p><p class="dropspot">It should be noted that keyboard events are actually triggered in all active instances in a room whenever a key is used, but only those that have an event defined for that particular key will respond and you can create multiple keyboard events in any object and the instances of that object will respond to all of them while the game is running.</p><p class="dropspot">When you add any keyboard event to an object, you will be presented with the keyboard sub event menu where you can specify the key you are to be checking for:</p><p class="dropspot"><img alt="Object Editor Keyboard Events" class="center" src="../../assets/Images/Asset_Editors/Editor_Objects_Keyboard.png">Most of them are fairly obvious, but let's just go through the sections briefly - at the top we have the arrow keys, followed by the most used modifier keys, then the rest of the keyboard (split into further sub-sections so you can get the exact key required like <img alt="Escape Icon" class="icon" height="20" src="../../assets/Images/Icons/Icon_Escape.png" width="55">&nbsp;or&nbsp;<img alt="Insert Icon" class="icon" height="20" src="../../assets/Images/Icons/Icon_Insert.png" width="55">) and finally two very special sub events, <strong>No Key</strong> and <strong>Any Key</strong>. As their names imply, these are sub events that check for when <em>no</em> key is pressed or for when <em>any</em> key is pressed. Please note that the keys on the numeric keypad only produce the corresponding events when <strong>Number Lock</strong> is enabled.</p><p class="dropspot">The <strong>Press</strong> and <strong>Release</strong> events for the keyboard are almost exactly the same as the regular keyboard event, except that instead of being triggered continuously, they are triggered once only. When the keyboard first registers that a key has been pressed it will generate a <strong>Keyboard Pressed</strong> event (as well as a regular Keyboard event), and the first time after that where a key is no longer being detected as pressed it will trigger a single <strong>Keyboard Release</strong> event.</p><div data-conref="../../assets/snippets/Note_Important_Debug_Overlay_Keyboard_Mouse_Events.hts"><p class="note"><span data-conref="../../assets/snippets/Tag_important.hts"><span class="important">IMPORTANT</span></span>&nbsp;<span data-keyref="GameMaker Name">GameMaker</span>&nbsp;won't perform keyboard and mouse events when&nbsp;<a href="../../GameMaker_Language/GML_Reference/Debugging/The_Debug_Overlay.htm">The Debug Overlay</a>&nbsp;is open and has taken over keyboard and/or mouse input.&nbsp;<a href="../../GameMaker_Language/GML_Reference/Game_Input/Keyboard_Input/Keyboard_Input.htm#simulating_keypresses">Simulating Keypresses</a>&nbsp;will also not execute events. You can, however, still use the&nbsp;<a href="../../GameMaker_Language/GML_Reference/Game_Input/Keyboard_Input/Keyboard_Input.htm">Keyboard Input</a>&nbsp;and&nbsp;<a href="../../GameMaker_Language/GML_Reference/Game_Input/Mouse_Input/Mouse_Input.htm">Mouse Input</a>&nbsp;functions in the Step event, for example, to check for input. You can also still perform an event's code using the <span class="inline3_func"><a href="../../GameMaker_Language/GML_Reference/Asset_Management/Objects/Object_Events/event_perform.htm">event_perform</a></span>&nbsp;function and its relatives.</p></div><p class="dropspot">&nbsp;</p></div><p><img alt=" Mouse Icon" height="16" src="../../assets/Images/Icons/Icon_MouseEvent.png" width="16"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down16" href="#"><span data-open-text="true" data-skip-index="true">Mouse</span><span data-close-text="true">Mouse</span></a></p><div class="droptext" data-targetname="drop-down16"><p class="dropspot">The Mouse category is separated into a series of events that can be selected to give you a more precise control over what is happening in your game. Here you can see exactly what these events are:</p><p class="dropspot"><img alt="Object Editor Mouse Events" class="center" src="../../assets/Images/Asset_Editors/Editor_Objects_Mouse.png">The left <img alt="LMB Icon" class="icon" src="../../assets/Images/Icons/Icon_LMB.png">, right <img alt="RMB Icon" class="icon" src="../../assets/Images/Icons/Icon_RMB.png">&nbsp;and middle <img alt="MMB Icon" class="icon" src="../../assets/Images/Icons/Icon_MMB.png">&nbsp;button events (whether <strong>normal</strong>, <strong>pressed</strong> or <strong>released</strong>) all work on the mask of the instance that has the event. What this means is that <span data-keyref="GameMaker Name">GameMaker</span> will check the position of the mouse in the room when those buttons are used against the collision masks of the instances that have a mouse event. If there is a "collision" with the instance <a class="tooltip" title="For sprites, the bounding-box is the name given to the edges of the area that collisions will initially be detected in, and it doesn't have to be the same size as the sprite it's being applied to. For sequences, the bounding box is the outer edge of the total space that one or more assets occupy in the canvas.">bounding box</a>&nbsp;then the event will be triggered, so make sure that any instance with these events has a sprite with a valid collision mask or that the object has a mask sprite selected in the object properties. As their names imply, these events will be triggered either once when the chosen mouse button is first pressed or released, or continuously each step while the button is maintained.</p><p class="dropspot">The mouse enter and leave events are also similar to the button events in that they too rely on the mask of the instance to work, but this time they are triggered when the mouse first "enters" (touches) the instance or when the mouse "leaves" (stops touching) the instance. These events are not continuous however, and are triggered only once for each time the mouse enters or leaves the object - so they are an ideal method for creating, for example, buttons that need to change as the mouse hovers over them before going back to normal when the mouse is removed.</p><p class="dropspot">Finally we have another section to the mouse events which is called the <strong>Global Mouse</strong>. In this sub-menu you will find a selection of events that are for recording mouse events in instances even when the mouse is not over them or even near them. These are events that are generated for <em>all</em> instances and if there are actions or code defined for the specified event then it will be run, regardless of the position of the mouse within the game room.</p><p class="note"><span data-conref="../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;On mobile or touch-screen devices the left mouse button <img alt="LMB Icon" class="icon" src="../../assets/Images/Icons/Icon_LMB.png">&nbsp;can also be used to check for a finger tab on a touch screen, and the right mouse button <img alt="RMB Icon" class="icon" src="../../assets/Images/Icons/Icon_RMB.png">&nbsp;is triggered by a double tap on the screen (this behaviour can be changed using code).</p><div data-conref="../../assets/snippets/Note_Important_Debug_Overlay_Keyboard_Mouse_Events.hts"><p class="note"><span data-conref="../../assets/snippets/Tag_important.hts"><span class="important">IMPORTANT</span></span>&nbsp;<span data-keyref="GameMaker Name">GameMaker</span>&nbsp;won't perform keyboard and mouse events when&nbsp;<a href="../../GameMaker_Language/GML_Reference/Debugging/The_Debug_Overlay.htm">The Debug Overlay</a>&nbsp;is open and has taken over keyboard and/or mouse input.&nbsp;<a href="../../GameMaker_Language/GML_Reference/Game_Input/Keyboard_Input/Keyboard_Input.htm#simulating_keypresses">Simulating Keypresses</a>&nbsp;will also not execute events. You can, however, still use the&nbsp;<a href="../../GameMaker_Language/GML_Reference/Game_Input/Keyboard_Input/Keyboard_Input.htm">Keyboard Input</a>&nbsp;and&nbsp;<a href="../../GameMaker_Language/GML_Reference/Game_Input/Mouse_Input/Mouse_Input.htm">Mouse Input</a>&nbsp;functions in the Step event, for example, to check for input. You can also still perform an event's code using the <span class="inline3_func"><a href="../../GameMaker_Language/GML_Reference/Asset_Management/Objects/Object_Events/event_perform.htm">event_perform</a></span>&nbsp;function and its relatives.</p></div><p class="dropspot">&nbsp;</p></div><p><img alt="Gestures Icon" src="../../assets/Images/Icons/Icon_Gesture.png"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down18" href="#"><span data-open-text="true" data-skip-index="true">Gestures</span><span data-close-text="true">Gestures</span></a></p><div class="droptext" data-targetname="drop-down18"><p class="dropspot">This event is the one that will be triggered by the user touching the screen (on mobile) or clicking and moving the mouse (on all other platforms). These events are similar to the mouse events, in that you have regular versions and&nbsp;<em>global</em>&nbsp;versions. The regular versions of these events will only be triggered when the touches occur on an instance that has a sprite (or a mask) and the touches occur within its <a class="tooltip" title="For sprites, the bounding-box is the name given to the edges of the area that collisions will initially be detected in, and it doesn't have to be the same size as the sprite it's being applied to. For sequences, the bounding box is the outer edge of the total space that one or more assets occupy in the canvas.">bounding box</a>. The global versions of these events, however, will be triggered by the user touching <em>anywhere</em> on the screen.</p><p class="dropspot">The gesture events&nbsp;detect&nbsp;the following:</p><ul class="dropspotlist"><li class="dropspot"><img alt="Tap Icon" class="icon" src="../../assets/Images/Icons/Icon_Tap.png">&nbsp;<strong>taps</strong> - when a user clicks/touches and releases quickly</li><li class="dropspot"><img alt="Drag Icon" class="icon" src="../../assets/Images/Icons/Icon_Drag.png">&nbsp;<strong>drags</strong> - when a user touches/clicks and maintains it then moves their finger/cursor</li><li class="dropspot"><img alt="Flick Icon" class="icon" height="20" src="../../assets/Images/Icons/Icon_Flick.png" width="20">&nbsp;<strong>flicks</strong> - when the user moves and releases a touch/click in one movement</li><li class="dropspot"><img alt="Pinch Icon" class="icon" src="../../assets/Images/Icons/Icon_Pinch.png">&nbsp;<strong>pinches</strong> - when the user has two fingers on the screen and then moves them together/apart</li><li class="dropspot"><img alt="Rotate Icon" class="icon" src="../../assets/Images/Icons/Icon_Rotate.png">&nbsp;<strong>rotates</strong> - when the user has two fingers on the screen and then rotates them around a point</li></ul><p class="dropspot"><img alt="Object Editor Gesture Events" class="center" src="../../assets/Images/Asset_Editors/Editor_Objects_Gesture.png">The different events will always contain a DS Map called the "<span class="inline">event_data</span>" map, which will contain a number of key/value pairs with data on the touch/click position and movement. For full details on all the available sub-events and how they work, please see the following section:</p><ul class="dropspotlist"><li class="dropspot"><a href="Gesture_Events.htm">The Gesture Event</a></li></ul><p class="dropspot">&nbsp;&nbsp;</p></div><p><img alt="Other Icon" height="16" src="../../assets/Images/Icons/Icon_Other.png" width="16"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down19" href="#"><span data-open-text="true" data-skip-index="true">Other</span><span data-close-text="true">Other</span></a></p><div class="droptext" data-targetname="drop-down19"><p class="dropspot">There are a number of special events for use when making games with <span data-keyref="GameMaker Name">GameMaker</span> and they are mostly grouped together under the Other event and can be selected from the pop up menu of sub events that comes up when you select this. Here is an image of all these other events:</p><p class="dropspot"><img alt="Object Editor Other Events" class="center" src="../../assets/Images/Asset_Editors/Editor_Objects_OtherEvents.png">For more information on each of the events listed in the image above, please see the following section:</p><ul class="dropspotlist"><li class="dropspot"><a href="Other_Events.htm">The Other Events</a></li></ul><p class="dropspot">&nbsp;</p></div><p><img alt="Draw Event" src="../../assets/Images/Icons/Icon_Draw.png"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down20" href="#"><span data-open-text="true" data-skip-index="true">Draw</span><span data-close-text="true">Draw</span></a></p><div class="droptext" data-targetname="drop-down20"><p class="dropspot">This event category is the one that governs what you see on the screen when you run your game, and is split into various discreet events:</p><p class="dropspot"><img alt="Draw Events" class="center" src="../../assets/Images/Asset_Editors/Editor_Objects_Draw.png">As you can see, the draw event category has multiple different event types. <strong>Draw Begin</strong>, <strong>Draw</strong> and <strong>Draw End</strong> are the "standard" draw events which you will probably use most. By default the main Draw event is always called for every instance, regardless of whether it has a sprite or not, although if you flag the instance as invisible, the event will not be triggered (so keep this in mind if you have any game logic in the draw event of an invisible object, as it won't run). The main draw event is also where <span data-keyref="GameMaker Name">GameMaker</span> default draws the instance sprite when there is no code nor actions in the event (ie: you haven't added it into the event list for the object). Default drawing uses the sprite associated with the instance and will draw that with any transforms set in code or actions applied.</p><p class="dropspot">The standard draw events draw <em>before</em> the <strong>Draw GUI</strong> events and <em>between</em> the <strong>Pre Draw</strong> and <strong>Post Draw</strong> events, meaning that everything that is drawn in this event is drawn beneath that of the <strong>Draw GUI</strong> event, regardless of the layer (ie: anything drawn in the Draw GUI event will always be drawn over anything drawn in the normal draw event, regardless of layer order).</p><p class="dropspot">Note that the above is simply an overview of how the Draw Events work, but for full details on all the available sub-events, please see the following section:</p><ul class="dropspotlist"><li class="dropspot"><a href="Draw_Events.htm">The Draw Event</a></li></ul><p>&nbsp;&nbsp;</p></div><p><img alt="Async Event" src="../../assets/Images/Icons/Icon_Async.png"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down21" href="#"><span data-open-text="true" data-skip-index="true">Asynchronous</span><span data-close-text="true">Asynchronous</span></a></p><div class="droptext" data-targetname="drop-down21"><p class="dropspot">This event category is special in that the events it contains are not triggered by default by <span data-keyref="GameMaker Name">GameMaker</span>, but rather by the end of some other action, like the loading of a file, or the reply from a web server. The category is split into the following events:</p><p class="dropspot"><img alt="Object Editor Asynchronous Events" class="center" src="../../assets/Images/Asset_Editors/Editor_Objects_Async.png"></p><p class="dropspot">So, say you want to add an image file to <span data-keyref="GameMaker Name">GameMaker</span>. Well, you would code this in another event (maybe the Create Event) of an object and then have that object draw a loading bar while waiting (for example), polling the appropriate asynchronous event until the <a class="tooltip" title="A callback is simply a function that runs and then triggers another function (or code block) when it has finished doing whatever it was assigned to do. For example, the funtion sprite_add() will trigger a callback in the asynchronous Image Loaded event when the sprite has been loaded.">callback</a> that tells <span data-keyref="GameMaker Name">GameMaker</span> the file has loaded. You can then use the data returned in this event to do other things, like change room, or purchase an item.</p><p class="dropspot">Note that the above is simply an overview of how the Asynchronous Event works, but for full details on all the available sub-events, please see the following section:</p><ul class="dropspotlist"><li class="dropspot"><a href="Async_Events.htm">Asynchronous Events List</a></li></ul><p class="dropspot">&nbsp;</p></div><p>&nbsp;</p><p>You should also note that you can name events, or at least give them a short descriptive text that will be shown beside them in the Event Editor. To do this, simply add the following into the very first line of the code editor for the event (when using <span data-keyref="GML_Code">GML Code</span>):</p><p class="code">/// @description Your text here</p><p>So, you could have something like this in - for example - an <strong>Alarm</strong> event:</p><p class="code">/// @description This is the AI Fight alarm</p><p>And now in your Event Editor you'll see this:</p><p><img alt="Object Editor Named Events" class="center" src="../../assets/Images/Asset_Editors/Editor_Objects_NamedEvents.png"></p><p>For&nbsp;<span data-keyref="GML_Visual">GML Visual</span> users, adding a comment requires the use of the&nbsp;<strong>Execute Code</strong>&nbsp;action, which should be placed at the very top of the actions for the event, before everything else. When you add this action, you then give it the same line of code that is shown above to name the event, e.g.:</p><p><img alt="Naming An Event In DnD" class="center" src="../../assets/Images/Asset_Editors/Editor_Object_DnD_NamedEvents.png" style="cursor:nwse-resize">For additional information on some of the above events and general event running order, please see the following sections:</p><ul class="colour"><li><a href="Event_Order.htm">Event Order</a></li><li><a href="Other_Events.htm">The Other Events</a></li><li><a href="Draw_Events.htm">The Draw Events</a></li><li><a href="Async_Events.htm">The Async Events</a></li><li><a href="Gesture_Events.htm">The Gesture Events</a></li></ul><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="../Objects.htm">The Object Editor</a></div><div style="float:right">Next:&nbsp;<a href="Parent_Objects.htm">Parent Objects</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>