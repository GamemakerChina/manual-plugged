<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../assets/import/main.css"><script>let str;removeHtml=function(t){return t=(t=(t=(t=t.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(t){return t.match(/(<([^>]+)>)/gi)},setTranslator=function(t,n,a){let e;e=a?t.attr(a):t.html();let l=n[removeHtml(e)];if(null!=l&&l.length){n=retHtml(e);let o=0;n&&n.forEach(function(t,n){var a=l.replace("{"+o+"}",t);l=a===l?l.replace("{}",t):a,o++}),a?t.attr(a,l):t.html(l)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){$(".header").length&&$(".header").append(`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`)},removeExtensionFromHash=function(t){return t.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")},$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption,blockquote").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption,.expandtext").each(function(){setTranslator($(this),json)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../..",gTopicId="8.2.1.1_3"</script><script type="text/javascript" src="../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Addressing Variables In Other Instances</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../assets/css/default.css" type="text/css"><script src="../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page outlining hoe to address variables in other instances"><meta name="rh-index-keywords" content="Addressing Variables In Other Instances"><meta name="search-keywords" content=""><meta name="brsnext" value="GameMaker_Language/GML_Overview/Expressions_And_Operators.htm"><meta name="brsprev" value="GameMaker_Language/GML_Overview/Language_Features/If_Else_and_Conditional_Operators.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="Addressing Variables In Other Instances"><span>Addressing Variables In Other Instances</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1>Addressing Variables In Other Instances</h1><p>In the sections dedicated to <a href="Variables_And_Variable_Scope.htm">variables</a> you found out how to create and use variables within a single instance, or on a global scope, but what happens if you want one instance to access a variable in another, different instance? There are many cases when you may want to do this, for example in a collision with a bullet object, you may want to find out how much damage the bullet does by accessing a variable in the bullet, or you might want to stop the motion of all the balls in a puzzle, or you might want to move the main character to a particular position, or any number of other situations you typically come across in any game. Thankfully the GameMaker Language comes equipped with mechanisms to achieve this.</p><p>One of the most common methods of accessing or changing a variable in <em>another</em> instance is to use its object name as an identifier, and then use a point <span class="inline2">.</span> to tell <span data-keyref="GameMaker Name">GameMaker</span> that the variable being referenced should&nbsp;be assigned or changed within that specific object's instance. This is known as "dot notation", and its syntax is as follows:</p><p class="code">&lt;object_id&gt;.&lt;<em>variable</em>&gt; = &lt;value&gt;;&nbsp;</p><p>In practice it would look like this:</p><p class="code">obj_ball.speed = 0;</p><p>With the above code you are setting the speed of an instance of <span class="inline2">obj_ball</span>. However if you have more than one instance of the given object in the room, <em>then it will apply to ALL of them equally</em> - unless you are using <b>HTML5</b>, in which case it will affect only <em>one</em>, but you have no way of knowing which one it will affect - so if you need to access all instances of an object, you should be using <span class="inline2"><a href="Language_Features/with.htm">with</a></span>, as that is 100% cross-platform compatible. In general, this format should only be used when you have a single instance of the object in the room, or (as you will see in the next part) when you have a specific <i>instance <b>ID</b></i>.</p><p>You can also access a single instance of an object when there are multiple instances within the room using the unique <b>instance name</b> to tell <span data-keyref="GameMaker Name">GameMaker</span> exactly which instance we wish to address. The <b>instance name constant</b> is the unique identifying constant that is given to each and every instance added to a room in your game. You can find this constant by double-clicking on an instance in <a href="../../The_Asset_Editors/Rooms.htm">The Room Editor</a>:</p><p><img alt="The instance constant in the room editor" class="center" src="../../assets/Images/Scripting_Reference/GML/Overview/Instance_Constant.png">Note that this name can be be edited and given a more descriptive name - although the name <em>must</em>&nbsp;be unique to the entire game -&nbsp;and it can be used as the left-hand side of the point:</p><p class="code">inst_4DB70D2.speed = 0;</p><div data-conref="../../assets/snippets/Note_Instance_Name_Stores_Handle_InGame.hts"><p class="note"><span data-conref="../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;In-game, this name is a handle to the instance. See&nbsp;<a href="Data_Types.htm">Data Types</a>&nbsp;for more info.</p></div><p>By far the most common and practical method, however, is to use a&nbsp;<i>variable</i> on the left of the point, as long as the variable in question <i>has stored a valid <b>instance id</b></i>. The following examples illustrate this.</p><p class="code">// Example 1<br>var _inst = instance_position(mouse_x, mouse_y, all);<br>if (instance_exists(_inst))<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;_inst.speed = 0;<br>}<br><br>// Example 2<br>var _inst = instance_create_layer(mouse_x, mouse_y, "Enemies", obj_E_Parent);<br>_inst.direction = point_direction(_inst.x, _inst.y, x, y);<br>_inst.target = id;</p><p>In the above code for Example 1, there is an&nbsp;<span class="inline3_func"><a href="../GML_Reference/Asset_Management/Instances/instance_exists.htm">instance_exists</a></span> call in the code block. This is because using the point method to access or change another instances value will give an error and crash the game if the instance does not exist, and there is the possibility that this is the case in that example. We don't need the check however in Examples 2 and 3 because we <i>know</i> that the instance is there since in Example 2 we created it, and in Example 3, its the other instance in a collision event. However, if there is <i>any</i> possibility that the instance could be destroyed, deactivated, or otherwise removed from the room while using this method, you should <i>always</i> check beforehand using the&nbsp;<span class="inline3_func"><a href="../GML_Reference/Asset_Management/Instances/instance_exists.htm">instance_exists</a></span> function or the&nbsp;<span class="inline3_func"><a href="../GML_Reference/Asset_Management/Instances/instance_number.htm">instance_number</a></span> function.</p><p>Note that you cannot use the special <a href="Instance_Keywords.htm">keyword</a>&nbsp;<span class="inline2">all</span> with this method to target all instances (e.g.: <span class="inline2">all.val = 10;</span> would give an error), but you <i>can</i> use the keywords <span class="inline2">other</span> and <span class="inline2">self</span> without issues. For example, using <span class="inline2">other</span> in a <a href="../../The_Asset_Editors/Object_Properties/Object_Events.htm">collision event</a>:</p><p class="code">// Example 3 other.hp -= 10;<br>if (other.hp &lt;= 0)<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;other.sprite_index = spr_E_Dead;<br>}</p><p>It is also important to note that you cannot use&nbsp;any function by itself as the left-hand side of an assignment. For example, the following code would give you an error:</p><p class="code">instance_nearest(x, y, obj).speed = 0;</p><p>The return value for the expression in that code example is an integer number (the unique ID value for the nearest instance) and so it must be enclosed in brackets <span class="inline2">( )</span> to be used in this way and properly address the instance required. The above code would be correctly written as:</p><p class="code">(instance_nearest(x, y, obj)).speed = 0;<br><br>//or<br><br>var _inst = instance_nearest(x, y, obj);<br>_inst.speed = 0;</p><p>These are all perfectly valid ways of reading, changing and setting variables in other instances, and work because the point is actually an <i>operator</i>. It takes a value as the left <a class="tooltip" title="An operand is a term used to denote the values which can be manipulated using different operators. In the expression A + B + C, A, B and C are the operands.">operand</a> and a variable as the right operand, and returns the address of this particular variable in the indicated object or instance. All the object names, constants, IDs, etc., simply represent values and these can be dealt with like any other value.</p><p>The other way to reference variables in another instance is to use the GameMaker Language statement <a href="Language_Features/with.htm">with</a>:&nbsp;</p><p class="code">// This will affect all instances of the object "obj_Enemy"<br>with (obj_Enemy)<br>{<br>&nbsp; &nbsp; target = other.parent;<br>}<br><br>// This will affect one instance of the object "obj_Enemy"<br>var _enemy = instance_nearest(x, y, obj_Enemy);<br>if (instance_exists(_enemy))<br>{<br>&nbsp; &nbsp; with (_enemy)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; target.x = mouse_x;<br>&nbsp; &nbsp; &nbsp; &nbsp; target.y = mouse_y;<br>&nbsp; &nbsp; }<br>}</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="GML_Overview.htm">GML&nbsp;Overview</a></div><div style="float:right">Next:&nbsp;<a href="Expressions_And_Operators.htm">Expressions And Operators</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>