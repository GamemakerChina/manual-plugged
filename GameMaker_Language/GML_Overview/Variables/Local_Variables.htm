<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/main.css"><script>let str;removeHtml=function(e){return e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(e){return e.match(/(<([^>]+)>)/gi)},setTranslator=function(e,t,a){let o;o=a?e.attr(a):e.html();let i=t[removeHtml(o)];if(null!=i&&i.length){t=retHtml(o);let n=0;t&&t.forEach(function(e,t){var a=i.replace("{"+n+"}",e);i=a===i?i.replace("{}",e):a,n++}),a?e.attr(a,i):e.html(i)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var e=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(e):($(".topic-header").append(e),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(e){return e.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"A {}local{} variable is one that we create for a specific {}event{} or {}function{}&nbsp;{}only{}&nbsp;and then discard when the&nbsp;event or function&nbsp;has finished. If it is created in a custom function then the local variable is only available to the function and then discarded when the function has finished. Why would we need them? Well, variables take up space in memory and it may be that we are only going to use them for one operation or function in which case we only need to have it in memory for that short time that it's used. This keeps your code base clean and tidy as well as keeping memory space optimised for the things that really need it. To declare a local variable we use the {}{}{}var{}{}{}&nbsp;operator like this:":"{}局部{}变量(Local Variables)是我们{6}仅{7}为特定的{}事件{}或{}函数{}创建的变量，然后在事件或函数完成后丢弃。如果局部变量是在自定义函数中创建的，则局部变量仅适用于该函数，然后在函数完成后将其丢弃。我们为什么需要它们？好吧，变量会占用内存中的空间，可能我们只将它们用于一个操作或函数，在这种情况下，我们只需要在使用它的那短时间内将其存入内存。这样可以使您的代码库保持干净整洁，并优化内存空间，以满足真正需要它的事物。要声明局部变量，我们使用{}{}{}var{}{}{}运算符，如下所示：",'All of the variables created in this way will be "forgotten" (ie: removed from memory) at the end of the event (or function) in which they were created. You should be careful that the name you give all {}var{} declared variables does not coincide with another instance variable within the object running the code, and also make sure that you have no intention of using the value stored in that variable outside of the event or function you declare it in (in the examples above, all the {}var{} declared variables have been defined with the underscore "_" preceding the variable name, but this is not required and is done simply to make it more obvious in the code that we are dealing with a local variable). That said, if you find yourself in a situation where you think a local variable&nbsp;{}should{}&nbsp;be the same as an instance variable, then you can use the {}self{} {}keyword{} to identify the instance variable as separate, for example:':'所有以这种方式创建的变量将在创建它们的事件(或函数)结束时被 "遗忘"(即：从内存中删除)。你应该注意，你给所有{}var{}声明的变量起的名字不能与运行代码的对象中的另一个实例变量重合，而且还要确保你无意在你声明的事件或函数之外使用该变量中存储的值(在上面的例子中，所有{}var{}声明的变量都在变量名前面加上了下划线"_"，但这并不是必须的，这样做只是为了在代码中更明显地说明我们在处理一个局部变量)。也就是说，如果你发现自己处于这样一种情况：你认为局部变量{}应该{}与实例变量相同，那么你可以使用{}self{}{}关键字{}来确定实例变量是独立的，比如说。','Here we have used the local variables "{}_x{}" and "{}_y{}" to store some random coordinates that we then use to create an instance. In this example you can see that it is not strictly necessary that we use these variables but for the sake of readability and ease of use, we do. It is MUCH clearer and obvious what we are doing there than if we used this code:':'这里我们使用了局部变量"{}_x{}"和"{}_y{}"来存储一些随机的坐标，然后用它们来创建一个实例。在这个例子中，你可以看到，严格来说，我们没有必要使用这些变量，但为了可读性和易用性，我们还是使用了。比起使用这段代码，我们在这里做的事情要清楚和明显得多。',"Local Variables":"局部变量","Local variables are used a lot in programs, especially in loops for counting {}iteration{}{}s{}, or when using a value several times in one operation that is not going to be repeated again. Here are another couple of examples:":"程序中经常使用局部变量，特别是在循环中用于计数{}迭代{}{} {}，或者在一个操作中多次使用一个值而不会再重复时。下面是另外几个例子。",'One final thing about {}var{} declared local variables should be noted... Since they are unique to the event or function that runs them, they can be used in any other instances through code too! This means that we can use these variables to set and change things in other instances using the "{}with(){}" construct (see the section on {}variable scope{} for more information). The actual code itself would look something like this:':'关于{}var{}声明的局部变量的最后一件事应该注意...由于它们对于运行它们的事件或函数来说是唯一的，因此它们也可以通过代码在任何其他实例中使用！这意味着我们可以使用这些变量通过"{}with(){}"构造来设置和更改其他实例中的内容(有关详细信息，请参阅有关{}变量范围{}的部分)。实际的代码本身看起来像这样：','One other thing about {}var{} declared local variables should be noted... Since they are unique to the event or function that runs them, they can be used in any other instances through code too! This means that we can use these variables to set and change things in other instances using the "{}with(){}" construct (see the section on {}variable scope{} for more information). The actual code itself would look something like this:':'关于{}var{}声明的局部变量，还有一件事需要注意......因为它们对运行它们的事件或函数来说是唯一的，所以它们也可以通过代码在任何其他实例中使用！这意味着我们可以使用这些变量来设置和改变其他实例中的东西，使用"{}with(){}"结构。这意味着我们可以通过"with()"结构，使用这些变量来设置和改变其他实例中的东西(更多信息请参见{}变量范围{}部分)。实际的代码本身看起来会是这样的。','The above code creates a local variable called "{}_i{}" and sets it to 0, all in the same line. Note that in previous versions of {}GameMaker{} you had to declare your local variables first and {}then{} assign them values, but in this version you can declare {}and{} assign them a value at the same time. The above code then uses this variable to initialize an {}array{}. As the variable "{}_i{}" is not going to be used for any further functions in the instance other than this, it can be local in scope. Here is one more example:':'上面的代码创建了一个名为"{}_i{}"的局部变量，并将其设置为0，所有这些都在同一行中完成。请注意，在以前的{}GameMaker{}版本中{}中，你必须先声明你的局部变量，然后{}为它们赋值，但在目前版本中，你可以同时声明{}和{}为它们赋值。然后，上面的代码使用这个变量来初始化一个{}数组{}。由于变量"{}_i{}"不会被用于实例中除此以外的任何其他函数，所以它可以是局部范围的。下面是另外一个例子。','The above code creates a local variable called "{}_i{}" and sets it to 0, all in the same line. Note that in previous versions of&nbsp;{}GameMaker{} you had to declare your local variables first and {}then{} assign them values, but in this version you can declare {}and{} assign them a value at the same time. The above code then uses this variable to initialise an {}array{}. As the variable "{}_i{}" is not going to be used for any further functions in the instance other than this, it can be local in scope. Here is one more example:':'上面的代码创建了一个名为"{}_i{}"的局部变量并将其设置为 0，所有这些都在同一行中。请注意，在之前版本的{}GameMaker{}中，您必须先声明局部变量，{}然后{}为其赋值，但在此版本中，您可以同时声明并为其赋值。{}然后{}，上面的代码使用该变量来初始化一个{}数组{}。由于变量"{}_i{}"不会用于实例中除此之外的任何其他函数，因此它的作用域可以是本地的。这里还有一个例子：',"The above code works because the {}var{} declared variable is local to the {}event{} (or function) it is contained in, not the instance, nor the game world, and so can be used in any function in any object as long as it is in the same code block.":"上述代码之所以有效，是因为{}var{}声明的变量是它所包含的{}事件{}(或函数)的局部，而不是实例，也不是游戏世界，所以只要在同一个代码块中，就可以在任何对象的任何函数中使用。","You can also declare multiple variables in a single local variable statement and assign each of them a value at the same time:&nbsp;":"您还可以在单​​个局部变量语句中声明多个变量，并同时为每个变量分配一个值：","{}{}NOTE{}{}&nbsp;You can also use the above multiple variable initialisation in the&nbsp;{}&lt;assignment&gt;{} part of a&nbsp;{}for{} loop.":"{}{}注意{}{}您还可以在{6}for{7}循环的{}&lt;赋值&gt;{}部分中使用上述多变量初始化。"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(e){json_global=e}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../..",gTopicId="8.2.1.1.0_1"</script><script type="text/javascript" src="../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Local Variables</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../assets/css/default.css" type="text/css"><script src="../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page explaining local variables"><meta name="rh-index-keywords" content="var,Local Variables"><meta name="search-keywords" content="local variables,local,var,local scope"><meta name="brsnext" value="GameMaker_Language/GML_Overview/Variables/Instance_Variables.htm"><meta name="brsprev" value="GameMaker_Language/GML_Overview/Variables_And_Variable_Scope.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="Local Variables"><span>Local Variables</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">Local Variables</span></h1><p>A <strong>local</strong> variable is one that we create for a specific <strong>event</strong> or <strong>function</strong>&nbsp;<i>only</i>&nbsp;and then discard when the&nbsp;event or function&nbsp;has finished. If it is created in a custom function then the local variable is only available to the function and then discarded when the function has finished. Why would we need them? Well, variables take up space in memory and it may be that we are only going to use them for one operation or function in which case we only need to have it in memory for that short time that it's used. This keeps your code base clean and tidy as well as keeping memory space optimised for the things that really need it. To declare a local variable we use the <span class="inline"><strong><span class="inline">var</span></strong></span>&nbsp;operator like this:</p><p class="code">var _i, _num, _str;<br>_i = 0;<br>_num = 24.5;<br>_str = "Hello World";<br><br>// or<br><br>var _i = 0, _num = 24.5, _str = "Hello World";<br><br>// or<br><br>var _i = 0;<br>var _num = 24.5;<br>var _str = "Hello World";</p><p>All of the variables created in this way will be "forgotten" (ie: removed from memory) at the end of the event (or function) in which they were created. You should be careful that the name you give all <span class="inline">var</span> declared variables does not coincide with another instance variable within the object running the code, and also make sure that you have no intention of using the value stored in that variable outside of the event or function you declare it in (in the examples above, all the <span class="inline">var</span> declared variables have been defined with the underscore "_" preceding the variable name, but this is not required and is done simply to make it more obvious in the code that we are dealing with a local variable). That said, if you find yourself in a situation where you think a local variable&nbsp;<em>should</em>&nbsp;be the same as an instance variable, then you can use the <span class="inline">self</span> <a href="../Instance_Keywords.htm">keyword</a> to identify the instance variable as separate, for example:</p><p class="code">var hp = 10;<br>with (obj_Enemy)<br>{<br>&nbsp; &nbsp; self.hp -= hp;<br>}</p><p>Local variables are used a lot in programs, especially in loops for counting <a class="tooltip" title="An iteration is a single pass through a set of operations in your project code. One form of iteration in computer programming is via loops. A loop will repeat a certain segment of code until a condition is met and it can proceed further. Each time the computer runs a loop, it is known as an iteration. In simple terms, iteration is the process of repeating a particular snippet of code over and over again to perform a certain action.">iteration</a><span class="glossextra">s</span>, or when using a value several times in one operation that is not going to be repeated again. Here are another couple of examples:</p><p class="code">var _i = 0;<br>repeat (10)<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;inventory[_i] = 0;<br>&nbsp;&nbsp;&nbsp;&nbsp;_i += 1;<br>}</p><p>The above code creates a local variable called "<span class="inline">_i</span>" and sets it to 0, all in the same line. Note that in previous versions of&nbsp;<span data-keyref="GameMaker Name">GameMaker</span> you had to declare your local variables first and <i>then</i> assign them values, but in this version you can declare <i>and</i> assign them a value at the same time. The above code then uses this variable to initialise an <a href="../Arrays.htm">array</a>. As the variable "<span class="inline">_i</span>" is not going to be used for any further functions in the instance other than this, it can be local in scope. Here is one more example:</p><p class="code">var _x, _y;<br>_x = x - 32 + irandom(64);<br>_y = y - 32 + irandom(64);<br>instance_create_layer(_x, _y, "Effects", obj_blood);</p><p>Here we have used the local variables "<span class="inline">_x</span>" and "<span class="inline">_y</span>" to store some random coordinates that we then use to create an instance. In this example you can see that it is not strictly necessary that we use these variables but for the sake of readability and ease of use, we do. It is MUCH clearer and obvious what we are doing there than if we used this code:</p><p class="code">instance_create_layer(x - 32 + irandom(64), y - 32 + irandom(64), "Effects", obj_guts);</p><p>You can also declare multiple variables in a single local variable statement and assign each of them a value at the same time:&nbsp;</p><p class="code">var a = 10, b = "a text", c = {index: 0, previous: -1};</p><p class="note"><span data-conref="../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;You can also use the above multiple variable initialisation in the&nbsp;<span class="inline2">&lt;assignment&gt;</span> part of a&nbsp;<a href="../Language_Features/for.htm">for</a> loop.</p><p>One final thing about <span class="inline">var</span> declared local variables should be noted... Since they are unique to the event or function that runs them, they can be used in any other instances through code too! This means that we can use these variables to set and change things in other instances using the "<span class="inline">with()</span>" construct (see the section on <a href="../Variables_And_Variable_Scope.htm">variable scope</a> for more information). The actual code itself would look something like this:</p><p class="code">var num = instance_number(obj_Enemy);<br>with (obj_Enemy)<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;if num&gt;10 instance_destroy();<br>}</p><p>The above code works because the <span class="inline">var</span> declared variable is local to the <i>event</i> (or function) it is contained in, not the instance, nor the game world, and so can be used in any function in any object as long as it is in the same code block.</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="../Variables_And_Variable_Scope.htm">Variables And Variables Scope</a></div><div style="float:right">Next: <a href="Instance_Variables.htm">Instance Variables</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>