<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/main.css"><script>let str;removeHtml=function(e){return e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(e){return e.match(/(<([^>]+)>)/gi)},setTranslator=function(e,t,o){let i;i=o?e.attr(o):e.html();let a=t[removeHtml(i)];if(null!=a&&a.length){t=retHtml(i);let n=0;t&&t.forEach(function(e,t){var o=a.replace("{"+n+"}",e);a=o===a?a.replace("{}",e):o,n++}),o?e.attr(o,a):e.html(a)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var e=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(e):($(".topic-header").append(e),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(e){return e.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"For example, if you have a default {}*.txt{} file included with your game and read it into memory using {}working_directory{}, then that file will be taken from the area where the Included Files are stored. If you then choose to write that information to a text file using {}working_directory{}, this will write the file to the target platform's local storage, where it will be read from the next time unless you instruct {}GameMaker{} to delete the file, in which case {}working_directory{} will once more point to the area where the Included Files are stored.":"例如，如果您的游戏包含一个默认的 {}*.txt{} 文件并使用 {}working_directory{} 将其读入内存，那么该文件将从存储包含文件的区域中获取。 如果您随后选择使用 {}working_directory{} 将该信息写入文本文件，这会将文件写入目标平台的本地存储，下次将从那里读取，除非您指示 {}GameMaker{} 删除 文件，在这种情况下，{}working_directory{} 将再次指向存储包含文件的区域。","However, when reading from disk, {}working_directory{} can be {}either{} the local storage ({}{}game_save_id{}{})&nbsp;{}or{} the area where the {}Included Files{} are stored.":"但是，从磁盘读取时，{}working_directory{} 可以是 {}{} 本地存储 ({}{}game_save_id{}{}){} 或 {}{10} 包含文件 {11} 所在的区域 被存储。",'If you are writing a file to disk, {}working_directory{} points to the area of local storage that is reserved for your game on the target device (in Windows this is "{}%LOCALAPPDATA%/gamedir/{}" where the "gamedir" is the directory with the name of your game).':"如果您将文件写入磁盘，{}working_directory{} 指向目标设备上为您的游戏保留的本地存储区域 (在 Windows 中，这是“{}%LOCALAPPDATA%/gamedir/{}”，其中 “gamedir”是您游戏名称的目录)。","In most cases, this is the same as the&nbsp;{}{}program_directory{}{}, which is the path to the game's runner (executable). However if the game's files happen to be in a different directory than the runner (say you use&nbsp;{}{}game_change{}{} to use a different working directory or use command line to run a runner in a different location), then this will point to where the game files are, not the runner.":"在大多数情况下，这与 {}{}program_directory{}{} 相同，即游戏运行程序 (可执行文件) 的路径。但是，如果游戏文件恰好位于与跑步者不同的目录中 (假设您使用 {}{}game_change{}{} 来使用不同的工作目录或使用命令行在不同位置运行跑步者)，那么这将指向游戏文件所在的位置，而不是跑步者。","It is worth noting that&nbsp;{}in general{}&nbsp;you do not need to use this and simply specify the file name itself (plus any additional path information), which is sufficient. For example, this:":"值得注意的是，{}一般情况下{}您不需要使用它，只需指定文件名本身(加上任何其他路径信息)就足够了。 例如，这个：","It may also be a different directory when testing your project through the IDE, as then the game files and the runner are in different locations as well.":"通过 IDE 测试项目时，它也可能是不同的目录，因为游戏文件和运行程序也位于不同的位置。","This returns a path that points to where the game's files are stored.":"这将返回指向游戏文件存储位置的路径。","This will open an INI file from the working directory of the game (creating it if it does not already exist). This could be the save area or the program directory depending on the sandbox level.":"这将从游戏的工作目录中打开一个 INI 文件 (如果尚不存在则创建它)。这可能是保存区域或程序目录，具体取决于沙箱级别。","This will open an ini file from the working directory of the game (creating it if it does not already exist). This could be the local storage, or the area where the included files are depending on whether the file being looked for exists in either place.":"这将从游戏的工作目录打开一个 ini 文件 (如果它不存在就创建它)。这可能是本地存储，也可能是包含文件的区域，具体取决于正在查找的文件是否存在于这两个位置。","When using this directory to write out a file, {}GameMaker{}&nbsp;will redirect it to the&nbsp;{}{}game_save_id{}{}&nbsp;location if the {}file system sandbox{} does not allow writing to the working directory (this is the default behaviour, which can be disabled in the {}Game Options{}&nbsp;for Desktop targets only).":"当使用此目录写出文件时，如果{6}文件系统沙箱{7}不允许写入工作目录，{}GameMaker{} 会将其重定向到 {}{}game_save_id{}{} 位置 (这是默认行为，只能在桌面目标的{}游戏选项{}中禁用 )。","would be better done as this:":"最好这样做:","{}NOTE{}&nbsp;The {}working_directory{} variable will return the path {}including{} the final backslash.":"{} 注意{}{} working_directory{} 变量将返回 {} 包括 {} 最后一个反斜杠的路径。","{}WARNING{}&nbsp;This function may not work as you expect due to {}GameMaker{} being sandboxed! Please see the section on the&nbsp;{}File System{}&nbsp;for more information.":"{} 警告{} 由于 {}GameMaker{} 被沙盒化，此函数可能无法按您预期的方式工作！ 有关详细信息，请参阅 {} 文件系统 {} 部分。","{}Working_directory{} can actually return two different values depending on what you are using it for.":"{}Working_directory{} 实际上可以返回两个不同的值，具体取决于您使用它的目的。","{}{}NOTE{}{}&nbsp;The&nbsp;{}{}working_directory{}{} variable stores the path {}including{} the final slash.":"{}{} 注意{}{}{}{}working_directory{}{} 变量存储 {} 包括 {} 最后一个斜杠的路径。","{}{}WARNING{}{}&nbsp;{}GameMaker{}&nbsp;doesn't limit writing to this directory so whether this is possible depends&nbsp;on OS permissions.&nbsp;It is however discouraged that you write to {}{}working_directory{}{}, as it is possible to damage the game installation this way.":"{}{} 警告{}{}{}GameMaker{} 不限制对此目录的写入，因此这是否可行取决于操作系统权限。不过，我们不建议您写入 {}{}working_directory{}{}，因为这样可能会损坏游戏安装。","{}{}{}WARNING{}{}&nbsp;{}This may not work as you expect due to {}GameMaker{} being sandboxed! Please see the section on&nbsp;{}The File System{} for more information.":"{}{}{} 警告{}{}{} 由于 {}GameMaker{} 处于沙盒状态，这可能无法按您的预期工作！请参阅有关 {} 文件系统 {} 的部分了解更多信息。"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(e){json_global=e}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../..",gTopicId="8.2.2.17.5.0_5"</script><script type="text/javascript" src="../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>working_directory</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css"><script src="../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Reference page for working_directory"><meta name="rh-index-keywords" content="working_directory"><meta name="search-keywords" content="working_directory"><meta name="brsnext" value="GameMaker_Language/GML_Reference/File_Handling/File_Directories/program_directory.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/File_Handling/File_Directories/temp_directory.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="working_directory"><span>working_directory</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">working_directory</span></h1><p>This returns a path that points to where the game's files are stored.</p><p>In most cases, this is the same as the&nbsp;<span class="inline2"><a href="program_directory.htm">program_directory</a></span>, which is the path to the game's runner (executable). However if the game's files happen to be in a different directory than the runner (say you use&nbsp;<span class="inline3_func"><a href="../../General_Game_Control/game_change.htm">game_change</a></span> to use a different working directory or use command line to run a runner in a different location), then this will point to where the game files are, not the runner.</p><p>It may also be a different directory when testing your project through the IDE, as then the game files and the runner are in different locations as well.</p><p>When using this directory to write out a file, <span data-keyref="GameMaker Name">GameMaker</span>&nbsp;will redirect it to the&nbsp;<span class="inline2"><a href="../../General_Game_Control/game_save_id.htm">game_save_id</a></span>&nbsp;location if the <a href="../../../../Additional_Information/The_File_System.htm">file system sandbox</a> does not allow writing to the working directory (this is the default behaviour, which can be disabled in the <a href="../../../../Settings/Game_Options.htm">Game Options</a>&nbsp;for Desktop targets only).</p><div data-conref="../../../../assets/snippets/Note_Warning_GM_FileSystem_Sandboxed.hts"><p class="note"><b><span data-conref="../../../../assets/snippets/Tag_warning.hts"><span class="warning">WARNING</span></span>&nbsp;</b>This may not work as you expect due to <span data-keyref="GameMaker Name">GameMaker</span> being sandboxed! Please see the section on&nbsp;<a href="../../../../Additional_Information/The_File_System.htm">The File System</a> for more information.</p></div><div data-conref="../../../../assets/snippets/Warning_directory_os_permissions.hts"><p class="note"><span data-conref="../../../../assets/snippets/Tag_warning.hts"><span class="warning">WARNING</span></span>&nbsp;<span data-keyref="GameMaker Name">GameMaker</span>&nbsp;doesn't limit writing to this directory so whether this is possible depends&nbsp;on OS permissions.&nbsp;It is however discouraged that you write to <span class="inline2"><span data-field="title" data-format="default">working_directory</span></span>, as it is possible to damage the game installation this way.</p></div><div data-conref="../../../../assets/snippets/Note_Variable_Contains_Path_Including_Final_Slash.hts"><p class="note"><span data-conref="../../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;The&nbsp;<span class="inline2"><span data-field="title" data-format="default">working_directory</span></span> variable stores the path <b>including</b> the final slash.</p></div><p>&nbsp;</p><h4>Syntax:</h4><p class="code"><span data-field="title" data-format="default">working_directory</span></p><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_String"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">String</a></span></p><p>&nbsp;</p><h4>Example:</h4><p class="code">ini_open(working_directory + "temp_ini.ini");</p><p>This will open an INI file from the working directory of the game (creating it if it does not already exist). This could be the save area or the program directory depending on the sandbox level.</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="File_Directories.htm">File Directories</a></div><div style="float:right">Next:&nbsp;<a href="program_directory.htm">program_directory</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>