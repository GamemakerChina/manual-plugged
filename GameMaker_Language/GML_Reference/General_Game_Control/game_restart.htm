<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/main.css"><script>let str;removeHtml=function(e){return e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(e){return e.match(/(<([^>]+)>)/gi)},setTranslator=function(e,t,a){let o;o=a?e.attr(a):e.html();let l=t[removeHtml(o)];if(null!=l&&l.length){t=retHtml(o);let n=0;t&&t.forEach(function(e,t){var a=l.replace("{"+n+"}",e);l=a===l?l.replace("{}",e):a,n++}),a?e.attr(a,l):e.html(l)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var e=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(e):($(".topic-header").append(e),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(e){return e.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"Any asset from the Asset Browser that has been changed at run time within the game - for example if you change the origin for a sprite resource or shift the position of a path resource - will {}not{} be reset.":"资源浏览器中在游戏中运行时更改的任何资源(例如，如果更改精灵资源的原点或移动路径资源的位置)将不会{}重置。","Dynamic resources like buffers, surfaces, data-structures or imported sprites will also not be cleaned up or removed (although you may lose references to them, so take care when using this function to either use global references for the dynamic resource, or to clean them up before the function is called).":"动态资源(如缓冲区、表面、数据结构或导入的精灵)也不会被清理或删除(尽管您可能会丢失对它们的引用，因此在使用此函数时，请注意要么对动态资源使用全局引用，要么在调用此函数之前清理它们)。","Global variables will not be re-initialised unless explicitly coded as such - for example, the built-in global variable {}score{} will not start at zero after a game restart if it has been modified in the game already.":"除非明确编码为全局变量，否则不会重新初始化全局变量-例如，内置全局变量{}score{}在游戏重新启动后不会从零开始，如果它已在游戏中修改。","It should be noted that certain things will {}not{} be reset when this function is called:":"应该注意，调用此函数时，某些事项不会{}重置：","The GPU state will not be changed (so if you have set the draw colour or alpha, for example, it will remain at the changed value).":"GPU 状态不会改变(因此，例如，如果您设置了绘制颜色或 Alpha，它将保持更改后的值)。","The game speed will remain at whatever you set it in your game code (if you changed it this change will be perpetuated).":"game_speed将保持您在游戏代码中设置的任何值(如果您对其进行了更改，则此更改将永久生效)。",'This would restart the game when the player presses the "R" key.':'这将在玩家按下"R"键时重新启动游戏。',"With this function you can restart the game. This is essentially the same as running the game for the first time and so the {}Game Start Event{} will be triggered, {}as well as{} the {}Game End Event{}.":"使用此函数，您可以重新启动游戏。这与首次运行游戏基本相同，因此将触发{}游戏开始事件{}、{}以及{}游戏结束事件{}。","{}NOTE{}&nbsp;You will not be able to create new instances in the same event after this function has been called.":"{}注意{}调用此函数后，将无法在同一事件中创建新实例。"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(e){json_global=e}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../..",gTopicId="8.2.2.4.0_6"</script><script type="text/javascript" src="../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>game_restart</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../assets/css/default.css" type="text/css"><script src="../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="This page outlines the function game_restart"><meta name="rh-index-keywords" content="game_restart"><meta name="search-keywords" content="game_restart"><meta name="brsnext" value="GameMaker_Language/GML_Reference/General_Game_Control/game_change.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/General_Game_Control/game_end.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="game_restart"><span>game_restart</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">game_restart</span></h1><p>With this function you can restart the game. This is essentially the same as running the game for the first time and so the <a href="../../../The_Asset_Editors/Object_Properties/Other_Events.htm">Game Start Event</a> will be triggered, <i>as well as</i> the <a href="../../../The_Asset_Editors/Object_Properties/Other_Events.htm">Game End Event</a>.</p><div data-conref="../../../assets/snippets/changing_room_stops_instance_creation.hts"><p class="note"><span class="note">NOTE</span>&nbsp;You will not be able to <a href="../Asset_Management/Instances/instance_create_layer.htm">create new instances</a> of objects in the same event after this function is called. There is one exception: if the object you're creating an instance of is already <a href="../../../The_Asset_Editors/Objects.htm">marked persistent</a>, or its <span class="inline2"><a href="../Asset_Management/Instances/Instance_Variables/persistent.htm">persistent</a></span> variable is set to <span class="inline2">true</span> in the <a href="../Asset_Management/Instances/instance_create_layer.htm">variable struct</a> passed into the <span class="inline2">instance_create_*()</span> function, it will be created.<br><br>In the latter case (making the new instance persistent through the variable struct), the <a href="../../../The_Asset_Editors/Object_Properties/Object_Variables.htm">Variable Definitions</a> for that instance will not be executed.</p></div><p>It should be noted that certain things will <b>not</b> be reset when this function is called:</p><ul class="colour"><li>Global variables will not be re-initialised unless explicitly coded as such - for example, the built-in global variable <span class="inline">score</span> will not start at zero after a game restart if it has been modified in the game already.</li><li>The GPU state will not be changed (so if you have set the draw colour or alpha, for example, it will remain at the changed value).</li><li>The game speed will remain at whatever you set it in your game code (if you changed it this change will be perpetuated).</li><li>Any asset from the Asset Browser that has been changed at run time within the game - for example if you change the origin for a sprite resource or shift the position of a path resource - will <i>not</i> be reset.</li><li>Dynamic resources like buffers, surfaces, data-structures or imported sprites will also not be cleaned up or removed (although you may lose references to them, so take care when using this function to either use global references for the dynamic resource, or to clean them up before the function is called).</li><br><br>&nbsp;</ul><h4>Syntax:</h4><p class="code"><span data-field="title" data-format="default">game_restart</span>();</p><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_Void">N/A</span></p><p>&nbsp;</p><h4>Example:</h4><p class="code">if keyboard_check_pressed(ord("R")) <span data-field="title" data-format="default">game_restart</span>();</p><p>This would restart the game when the player presses the "R" key.</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="General_Game_Control.htm">General&nbsp;Game Control</a></div><div style="float:right">Next:&nbsp;<a href="game_change.htm">game_change</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>