<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/main.css"><script>let str;removeHtml=function(e){return e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(e){return e.match(/(<([^>]+)>)/gi)},setTranslator=function(e,t,n){let a;a=n?e.attr(n):e.html();let i=t[removeHtml(a)];if(null!=i&&i.length){t=retHtml(a);let o=0;t&&t.forEach(function(e,t){var n=i.replace("{"+o+"}",e);i=n===i?i.replace("{}",e):n,o++}),n?e.attr(n,i):e.html(i)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var e=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(e):($(".topic-header").append(e),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(e){return e.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={'"{}event_type{}" - the type of system event received, which will be "{}virtual keyboard status{}" for virtual keyboards.':"“{}event_type{}”-接收到的系统事件的类型，对于虚拟键盘，该事件将为 “{}虚拟键盘状态{}”。",'"{}keyboard_status{}" - the current status of the keyboard, returned as one of the following strings: {} {}"hiding"{} {}"hidden"{} {}"showing"{} {}"visible"{} {} ':'"{}keyboard_status{}" -键盘的当前状态，作为以下字符串之一返回： {} {}"hiding"{} {}"hidden"{} {}"showing"{} {}"visible"{} {} ','"{}screen_height{}" - the height of the virtual keyboard (in pixels). This will be 0 if the keyboard is invisible.':'"{}screen_height{}"-虚拟键盘的高度 (以像素为单位)。如果键盘是不可见的，这将是0。',"Create your own on-screen {}virtual keys{} to get input":"创建你自己的屏幕上{}虚拟密钥{}以获取输入","If you require text or numeric input in your game on a touchscreen device, then you can use the {}virtual keyboard{} functions provided to use the device OS keyboard. These functions will call up or hide the OS keyboard and accept input from it, however it will {}not{} trigger the regular keyboard events, but rather update the {}{}keyboard_string{}{} variable with the user input (this is due to the fact that the virtual keyboard can input whole words and not just single characters).":"如果您需要在触摸屏设备上的游戏中输入文本或数字，则可以使用提供的{}虚拟键盘{}函数来使用设备操作系统键盘。这些函数将调用或隐藏操作系统键盘并接受来自它的输入，但是它将{}不{}触发常规键盘事件，而是使用用户输入更新{}{}keyboard_string{}{}变量(这是因为虚拟键盘可以输入整个单词，而不仅仅是单个字符)。",'In order for your games to work properly on mobile devices with a touch screen, you may need to be able to assign areas of the screen to respond to certain things when they are touched by the user. This is done by assigning a "virtual Key" to an internally mapped standard keyboard key and then using the keyboard events that they generate to control your application. It is worth noting that these "virtual keys" are mapped to the&nbsp;{}screen{}&nbsp;position rather than room position and so the x/y values are absolute, based on the display size. This means that you don\'t need to worry about the use of views or the relative room coordinates, and can simply define the keys in the Create Event of an object (you only need to define a virtual key once per-room), then draw your key sprites in the&nbsp;{}Draw GUI Event{}, sizing the GUI layer to be the same as the screen.':"为了让游戏在带有触摸屏的移动设备上正常运行，您可能需要分配屏幕区域，以便在用户触摸某些内容时做出响应。这是通过为内部映射的标准键盘按键分配 “虚拟按键”，然后使用它们生成的键盘事件来控制您的应用程序来完成的。值得注意的是，这些 “虚拟按键” 映射到{}屏幕{}位置而不是房间位置，因此 x/ y 值是基于显示屏大小的绝对值。这意味着您无需担心视图或相对房间坐标的使用，只需在对象的 Create Event 中定义按键(每个房间只需要定义一次虚拟密钥)，然后在{}Draw GUI 事件{}中绘制关键精灵，将 GUI 层调整为与屏幕相同。","Opening or closing the virtual keyboard will generate&nbsp;{}System Asynchronous Events{}, in which the&nbsp;{}{}async_load{}{}&nbsp;DS map will be populated with the following key/value pairs:":"打开或关闭虚拟键盘将生成{}系统异步事件{}，其中{}{}async_load{}{}DS映射将填充以下键/值对：","Pop up the OS {}virtual keyboard{} and get input from that":"弹出 OS{}虚拟键盘{}然后从中获取输入","The available virtual key functions are:":"可用的虚拟按键函数有：","The available virtual keyboard functions are:":"可用的虚拟键盘函数包括：","Virtual Keys And Virtual Keyboards":"虚拟按键和虚拟键盘","What you use will depend very much on the game and what you need, but in general you would use virtual keys when you want to have onscreen buttons for player control or for menus, while you'd use the virtual keyboard when you need player input, like getting a name or setting a value.":"你使用什么在很大程度上取决于游戏和你需要什么，但总的来说，当你想让屏幕上的按钮用于玩家控制或菜单时，你会使用虚拟键盘，而当你需要玩家输入时，比如获取名字或设置值，你会使用虚拟键盘。","{}{}NOTE{} {}These functions are only valid for the {}Android{} (including {}AndroidTV{}), and&nbsp;{}iOS {}(including {}tvOS{}) target platforms.":"{}{}注意{}{}这些函数仅对{}Android{}(包括{}AndroidTV{})和{}iOS{}(包括{}tvOS{})目标平台有效。","{}{}NOTE{} {}These functions are only valid for the {}Xbox (GDK){},&nbsp;{}Android{} (including {}AndroidTV{}), and&nbsp;{}iOS {}(including {}tvOS{}) target platforms.":"{}{} 注意{}{} 这些函数仅适用于 {}Xbox(GDK){}、{}Android{}( 包括 {}AndroidTV{}) 和 {}iOS{}( 包括 {}tvOS{}) 目标平台。",'{}{}NOTE{}&nbsp;{}These functions will not work on the Windows, Ubuntu (Linux), nor the MacOS, target platforms using a touch screen, although they will receive mouse clicks as "touches".':"{}{}注意{}{}这些函数在 Windows、Ubuntu (Linux) 或 macOS 上不起作用，它们使用触摸屏的目标平台尽管会以 “触摸” 的形式收到鼠标点击。","{}{}NOTE{}{}&nbsp;These functions are supported in the HTML5 and GX.games targets.":"{}{}注意{}{}HTML5和GX.games目标支持这些函数。","{}{}When developing games for touchscreen devices, it's often important to get keyboard input from the user. When using {}GameMaker{} this can be done in one of two ways:":"{}{}在为触摸屏设备开发游戏时，从用户那里获取键盘输入通常很重要。使用{}GameMaker{}时，可以通过以下两种方式之一完成:"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(e){json_global=e}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../..",gTopicId="8.2.2.8.6"</script><script type="text/javascript" src="../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Virtual Keys And Virtual Keyboards</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css"><script src="../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Reference section for Virtual Keys And Virtual Keyboards"><meta name="rh-index-keywords" content=""><meta name="search-keywords" content="Virtual Keys And Virtual Keyboards,Virtual Keyboard,Virtual Key"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Game_Input/Virtual_Keys_And_Keyboards/virtual_key_add.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Game_Input/GamePad_Input/gamepad_remove_mapping.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="Virtual Keys And Virtual Keyboards"><span>Virtual Keys And Virtual Keyboards</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1>Virtual Keys And Virtual Keyboards</h1><p><b></b>When developing games for touchscreen devices, it's often important to get keyboard input from the user. When using <span data-keyref="GameMaker Name">GameMaker</span> this can be done in one of two ways:</p><ul class="colour"><li>Create your own on-screen <b>virtual keys</b> to get input</li><li>Pop up the OS <b>virtual keyboard</b> and get input from that</li></ul><p>What you use will depend very much on the game and what you need, but in general you would use virtual keys when you want to have onscreen buttons for player control or for menus, while you'd use the virtual keyboard when you need player input, like getting a name or setting a value.</p><p>In order for your games to work properly on mobile devices with a touch screen, you may need to be able to assign areas of the screen to respond to certain things when they are touched by the user. This is done by assigning a "virtual Key" to an internally mapped standard keyboard key and then using the keyboard events that they generate to control your application. It is worth noting that these "virtual keys" are mapped to the&nbsp;<i>screen</i>&nbsp;position rather than room position and so the x/y values are absolute, based on the display size. This means that you don't need to worry about the use of views or the relative room coordinates, and can simply define the keys in the Create Event of an object (you only need to define a virtual key once per-room), then draw your key sprites in the&nbsp;<a href="../../../../The_Asset_Editors/Object_Properties/Draw_Events.htm">Draw GUI Event</a>, sizing the GUI layer to be the same as the screen.</p><p class="note"><b><span class="note">NOTE</span>&nbsp;</b>These functions will not work on the Windows, Ubuntu (Linux), nor the MacOS, target platforms using a touch screen, although they will receive mouse clicks as "touches".</p><p class="note"><span data-conref="../../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;These functions are supported in the HTML5 and GX.games targets.</p><p>The available virtual key functions are:</p><ul class="colour"><li><a href="virtual_key_add.htm">virtual_key_add</a></li><li><a href="virtual_key_show.htm">virtual_key_show</a></li><li><a href="virtual_key_hide.htm">virtual_key_hide</a></li><li><a href="virtual_key_delete.htm">virtual_key_delete</a></li></ul><p>&nbsp;</p><p>If you require text or numeric input in your game on a touchscreen device, then you can use the <b>virtual keyboard</b> functions provided to use the device OS keyboard. These functions will call up or hide the OS keyboard and accept input from it, however it will <i>not</i> trigger the regular keyboard events, but rather update the <span class="inline"><a href="../Keyboard_Input/keyboard_string.htm">keyboard_string</a></span> variable with the user input (this is due to the fact that the virtual keyboard can input whole words and not just single characters).</p><p>Opening or closing the virtual keyboard will generate&nbsp;<a href="../../../../The_Asset_Editors/Object_Properties/Async_Events.htm">System Asynchronous Events</a>, in which the&nbsp;<a href="../../../GML_Overview/Variables/Builtin_Global_Variables/async_load.htm"><span class="inline">async_load</span></a>&nbsp;DS map will be populated with the following key/value pairs:</p><ul class="colour"><li>"<b>event_type</b>" - the type of system event received, which will be "<b>virtual keyboard status</b>" for virtual keyboards.</li><li>"<b>screen_height</b>" - the height of the virtual keyboard (in pixels). This will be 0 if the keyboard is invisible.</li><li>"<b>keyboard_status</b>" - the current status of the keyboard, returned as one of the following strings:<ul class="colour"><li>"hiding"</li><li>"hidden"</li><li>"showing"</li><li>"visible"</li></ul></li></ul><p>The available virtual keyboard functions are:</p><p class="note"><b><span class="note">NOTE</span></b> These functions are only valid for the <strong>Xbox (GDK)</strong>,&nbsp;<strong>Android</strong> (including <strong>AndroidTV</strong>), and&nbsp;<strong>iOS</strong> (including <strong>tvOS</strong>) target platforms.</p><ul class="colour"><li><a href="keyboard_virtual_show.htm">keyboard_virtual_show</a></li><li><a href="keyboard_virtual_hide.htm">keyboard_virtual_hide</a></li><li><a href="keyboard_virtual_status.htm">keyboard_virtual_status</a></li><li><a href="keyboard_virtual_height.htm">keyboard_virtual_height</a></li></ul><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="../Game_Input.htm">Game Input</a></div><div style="float:right">Next:&nbsp;<a href="../Keyboard_Input/Keyboard_Input.htm">Keyboard Input</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>