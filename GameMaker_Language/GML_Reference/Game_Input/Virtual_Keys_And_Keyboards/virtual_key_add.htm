<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/main.css"><script>let str;removeHtml=function(e){return e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(e){return e.match(/(<([^>]+)>)/gi)},setTranslator=function(e,t,a){let n;n=a?e.attr(a):e.html();let i=t[removeHtml(n)];if(null!=i&&i.length){t=retHtml(n);let o=0;t&&t.forEach(function(e,t){var a=i.replace("{"+o+"}",e);i=a===i?i.replace("{}",e):a,o++}),a?e.attr(a,i):e.html(i)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var e=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(e):($(".topic-header").append(e),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(e){return e.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"The above code creates a virtual key 64x64 pixels square, positioned on the screen at (32, 32) which will trigger the vk_left event when touched and assigns the index of this virtual key to a global variable.":"上面的代码创建了一个64x64像素的正方形虚拟键，位于屏幕上的(32，32)处，当被触摸时，它将触发 vk_left 事件，并将该虚拟键的索引分配给一个全局变量。","The actual position of the virtual key is based on the {}screen{} position rather than room position and so the x/y values are absolute on the screen. This means that you don't need to worry about the use of views or the relative room coordinates, and can simply define the keys in the {}Create Event{} of an object (you only need to define a virtual key once per-room), then draw your key sprites in the&nbsp;{}Draw GUI Event{}, sizing the GUI layer to be the same as the screen.":"虚拟键的实际位置基于{}屏幕{}位置而不是房间位置，因此X/Y值在屏幕上是绝对的。这意味着您无需担心视图或相对房间坐标的使用，并且可以简单地在对象的{}创建事件{}中定义按键(您只需为每个房间定义一次虚拟按键)，然后在{}绘制GUI事件{}中绘制您的按键精灵，将GUI层的大小调整为与屏幕相同。","The height of the virtual key":"虚拟键的高度","The width of the virtual key":"虚拟键的宽度","The x coordinate (left side) of the virtual key {}on the screen{}":"虚拟按键{}在屏幕{}上的X坐标(左侧)","The y coordinate (top side) of the virtual key {}on the screen{}":"虚拟按键{}在屏幕{}上的Y坐标(顶边)",'This function enables you to map "touches" of a screen area to keyboard events. This means that once you have assigned an area to a virtual key, all touches on that area will trigger the keyboard event corresponding to the key you have mapped to the area. You can assign each virtual key you define to a variable too, which can then be used in the further virtual key functions to show, hide and delete them. These keys are assigned on a {}per room{} basis and will be automatically removed by {}GameMaker{} when changing rooms.':"此函数使您能够将屏幕区域的“触摸”映射到键盘事件。这意味着，一旦您将某个区域分配给某个虚拟键，该区域上的所有触摸都将触发与您映射到该区域的键相对应的键盘事件。您也可以将您定义的每个虚拟键分配给一个变量，然后可以在进一步的虚拟键函数中使用该变量来显示、隐藏和删除它们。这些钥匙是以{}每个房间{}为基础分配的，并将在更换房间时由{}GameMaker{}自动删除。","Which keyboard key event should be triggered by touching this area":"触摸此区域应触发哪个键盘键事件"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(e){json_global=e}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../..",gTopicId="8.2.2.8.6.0_1"</script><script type="text/javascript" src="../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>virtual_key_add</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css"><script src="../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Reference page for virtual_key_add"><meta name="rh-index-keywords" content="virtual_key_add"><meta name="search-keywords" content="virtual_key_add"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Game_Input/Virtual_Keys_And_Keyboards/virtual_key_show.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Game_Input/Virtual_Keys_And_Keyboards/Virtual_Keys_And_Keyboards.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="virtual_key_add"><span>virtual_key_add</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1>virtual_key_add</h1><p>This function enables you to map "touches" of a screen area to keyboard events. This means that once you have assigned an area to a virtual key, all touches on that area will trigger the keyboard event corresponding to the key you have mapped to the area. You can assign each virtual key you define to a variable too, which can then be used in the further virtual key functions to show, hide and delete them. These keys are assigned on a <i>per room</i> basis and will be automatically removed by <span data-keyref="GameMaker Name">GameMaker</span> when changing rooms.</p><p>The actual position of the virtual key is based on the <i>screen</i> position rather than room position and so the x/y values are absolute on the screen. This means that you don't need to worry about the use of views or the relative room coordinates, and can simply define the keys in the <strong>Create Event</strong> of an object (you only need to define a virtual key once per-room), then draw your key sprites in the&nbsp;<a href="../../../../The_Asset_Editors/Object_Properties/Draw_Events.htm">Draw GUI Event</a>, sizing the GUI layer to be the same as the screen.</p><p>&nbsp;</p><h4>Syntax</h4><p class="code">virtual_key_add(x, y, w, h, keycode);</p><table><tbody><tr><th>Argument</th><th>Type</th><th>Description</th></tr><tr><td>x</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The x coordinate (left side) of the virtual key <i>on the screen</i></td></tr><tr><td>y</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The y coordinate (top side) of the virtual key <i>on the screen</i></td></tr><tr><td>w</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The width of the virtual key</td></tr><tr><td>h</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The height of the virtual key</td></tr><tr><td>keycode</td><td><span data-keyref="Type_Constant_VK"><a target="_blank" href="../Keyboard_Input/Keyboard_Input.htm">Virtual Key Constant (vk_*)</a></span></td><td>Which keyboard key event should be triggered by touching this area</td></tr></tbody></table><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_ID_Virtual_Key_OnScreen"><a target="_blank" href="virtual_key_add.htm">Virtual Key ID</a></span></p><p>&nbsp;</p><h4>Example:</h4><p class="code">global.Left = virtual_key_add(32, 32, 64, 64, vk_left);</p><p>The above code creates a virtual key 64x64 pixels square, positioned on the screen at (32, 32) which will trigger the vk_left event when touched and assigns the index of this virtual key to a global variable.</p><p><b></b></p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="Virtual_Keys_And_Keyboards.htm">Virtual Keys And Keyboards</a></div><div style="float:right">Next:&nbsp;<a href="virtual_key_show.htm">virtual_key_show</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>