<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/main.css"><script>let str;removeHtml=function(t){return t=(t=(t=(t=t.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(t){return t.match(/(<([^>]+)>)/gi)},setTranslator=function(t,e,o){let n;n=o?t.attr(o):t.html();let r=e[removeHtml(n)];if(null!=r&&r.length){e=retHtml(n);let a=0;e&&e.forEach(function(t,e){var o=r.replace("{"+a+"}",t);r=o===r?r.replace("{}",t):o,a++}),o?t.attr(o,r):t.html(r)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var t=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(t):($(".topic-header").append(t),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(t){return t.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"Note that the function writes each pixel of the surface to the buffer using an&nbsp;{}RGBA{} formatting on the Windows target, but on other targets it may be different depending on the OS or even the device.":"请注意，该函数在Windows目标上使用{} RGBA {}格式将表面的每个像素写入缓冲区，但在其他目标上，该函数可能会有所不同，具体取决于O甚至设备。","The buffer must have been created previously and should be a 1-byte aligned buffer large enough to store data for the surface you are going to write (if unsure, use a {}grow{}&nbsp;buffer&nbsp;or see the example at the bottom of this page).":"该缓冲区必须是之前创建的，并且应该是一个足够大的 1 字节对齐缓冲区，足以存储您要写入的表面的数据 (如果不确定，请使用 {}grow{} 缓冲区或参见本节底部的示例页)。","The buffer to use.":"要使用的缓冲区。","The data offset value (in bytes).":"数据偏移值(以字节为单位)。","The index of the buffer to use.":"要使用的缓冲区的索引。","The index of the surface to use.":"要使用的表面的索引。","The information for the surface will always be written to the start of the buffer (regardless of the seek position) but you can choose an offset value (in bytes) to move the write position from the start of the buffer.":"表面的信息将始终写入缓冲区的起始位置(无论寻道位置如何)，但您可以选择偏移值(以字节为单位)，以便从缓冲区的起始位置移动写入位置。","The surface to use.":"要使用的表面。","The {}format{} of the surface will affect how the surface is written into the buffer. Keep in mind that the same format may be written in a different way on different platforms.":"表面的{}格式{}将影响表面写入缓冲区的方式。请记住，相同的格式在不同的平台上可能会以不同的方式编写。","This code will create a fixed-size buffer which has the capacity to store 4 bytes per pixel (for the R, G, B and A components) based on the exact size of the surface, and then copy the surface data into it.":"此代码将创建一个固定大小的缓冲区，该缓冲区具有根据表面的确切大小存储每像素4字节(R、G、B和A分量)的容量，然后将表面数据复制到该缓冲区中。","This function writes information from a surface to a given buffer.":"该函数将信息从表面写入给定的缓冲区。","With this function you can write information from a surface to a given buffer. The buffer must have been created previously and should be a 1-byte aligned buffer large enough to store data for the surface you are going to write (if unsure, use a {}grow{}&nbsp;buffer&nbsp;or see the example at the bottom of this page).":"使用此函数，您可以将信息从表面写入给定缓冲区。缓冲区必须是以前创建的，并且应该是一个1字节对齐的缓冲区，足够大，可以存储要写入的表面的数据(如果不确定，请使用{}增长{}缓冲区或参阅本页底部的示例)。"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(t){json_global=t}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../..",gTopicId="8.2.2.18.0_35"</script><script type="text/javascript" src="../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>buffer_get_surface</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../assets/css/default.css" type="text/css"><script src="../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Reference page for buffer_get_surface"><meta name="rh-index-keywords" content="buffer_get_surface,buffer_surface_copy (Deprecated)"><meta name="search-keywords" content="buffer_get_surface,buffer_surface_copy"><meta name="is_pure" content="true"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Buffers/buffer_set_surface.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Buffers/buffer_async_group_end.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="buffer_get_surface"><span>buffer_get_surface</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">buffer_get_surface</span></h1><p>This function writes information from a surface to a given buffer.</p><p>The buffer must have been created previously and should be a 1-byte aligned buffer large enough to store data for the surface you are going to write (if unsure, use a <a href="buffer_create.htm">grow</a>&nbsp;buffer&nbsp;or see the example at the bottom of this page).</p><p>The information for the surface will always be written to the start of the buffer (regardless of the seek position) but you can choose an offset value (in bytes) to move the write position from the start of the buffer.</p><p>The <a href="../Drawing/Surfaces/surface_create.htm">format</a> of the surface will affect how the surface is written into the buffer. Keep in mind that the same format may be written in a different way on different platforms.</p><p>&nbsp;</p><h4>Syntax:</h4><p class="code"><span data-field="title" data-format="default">buffer_get_surface</span>(buffer, surface, offset);</p><table><tbody><tr><th>Argument</th><th>Type</th><th>Description</th></tr><tr><td>buffer</td><td><span data-keyref="Type_ID_Buffer"><a target="_blank" href="buffer_create.htm">Buffer</a></span></td><td>The buffer to use.</td></tr><tr><td>surface</td><td><span data-keyref="Type_ID_Surface"><a target="_blank" href="../Drawing/Surfaces/surface_create.htm">Surface</a></span></td><td>The surface to use.</td></tr><tr><td>offset</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The data offset value (in bytes).</td></tr></tbody></table><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_Void">N/A</span></p><p>&nbsp;</p><h4>Example:</h4><p class="code">buffer = buffer_create(surf_width * surf_height * 4, buffer_fixed, 1);<br><span data-field="title" data-format="default">buffer_get_surface</span>(buffer, surface, 0);</p><p>This code will create a fixed-size buffer which has the capacity to store 4 bytes per pixel (for the R, G, B and A components) based on the exact size of the surface, and then copy the surface data into it.</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="Buffers.htm">Buffers</a></div><div style="float:right">Next:&nbsp;<a href="buffer_set_surface.htm">buffer_set_surface</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>