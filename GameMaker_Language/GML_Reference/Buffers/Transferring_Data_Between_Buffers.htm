<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/main.css"><script>let str;removeHtml=function(t){return t=(t=(t=(t=t.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(t){return t.match(/(<([^>]+)>)/gi)},setTranslator=function(t,n,a){let e;e=a?t.attr(a):t.html();let l=n[removeHtml(e)];if(null!=l&&l.length){n=retHtml(e);let o=0;n&&n.forEach(function(t,n){var a=l.replace("{"+o+"}",t);l=a===l?l.replace("{}",t):a,o++}),a?t.attr(a,l):t.html(l)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){$(".header").length&&$(".header").append(`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`)},removeExtensionFromHash=function(t){return t.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")},$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption,blockquote").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption,.expandtext").each(function(){setTranslator($(this),json)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../..",gTopicId="8.2.2.18.0_43"</script><script type="text/javascript" src="../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><link rel="stylesheet" type="text/css" href="../../../assets/css/default.css"><script src="../../../../assets/scripts/main_script.js"></script><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="generator" content="Adobe RoboHelp 2022"><title>Transferring Data Between Buffers</title><meta name="topic-status" content="Draft"><link rel="stylesheet" type="text/css" href="../../../assets/css/default.css"><meta name="search-keywords" content="buffer,vertex buffer,data,transfer,stride,copy,update"><meta name="rh-index-keywords" content="buffer,vertex buffer"><meta name="template" content="../../../assets/masterpages/Manual_Page.htt"><meta name="brsnext" value="GameMaker_Language/GML_Reference/UWP_And_XBox_Live/UWP_And_XBox_Live.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Buffers/buffer_base64_decode_ext.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="Transferring Data Between Buffers"><span>Transferring Data Between Buffers</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><div></div><div><h1><span data-field="title" data-format="default">Transferring Data Between Buffers</span></h1><p>This page gives an&nbsp;overview&nbsp;of how you can transfer data between buffers and vertex buffers.</p><p>At the lowest level, a buffer is a contiguous region in memory that consists of bytes. Using the functions&nbsp;<span class="inline3_func"><a href="buffer_read.htm">buffer_read</a></span>&nbsp;and&nbsp;<span class="inline3_func"><a href="buffer_write.htm">buffer_write</a></span>&nbsp;(and&nbsp;<span class="inline3_func"><a href="buffer_peek.htm">buffer_peek</a></span>,&nbsp;<span class="inline3_func"><a href="buffer_poke.htm">buffer_poke</a></span>&nbsp;and <span class="inline3_func"><a href="buffer_fill.htm">buffer_fill</a></span>) basic data types can be written into a buffer. On top of this, these basic data types can be combined to create data structures where each entry in the structure follows a given format.</p><h3>Stride</h3><p>Items stored in a buffer in such a structured way all take up the same number&nbsp;of bytes. This is the number&nbsp;of bytes to move to go from&nbsp;one item to the next and is called the stride.</p><h2>Buffer to Buffer</h2><p>The following functions allow copying parts&nbsp;of data from&nbsp;one buffer to another:&nbsp;</p><ul class="colour"><li><a href="buffer_copy.htm">buffer_copy</a>: copies a contiguous block&nbsp;of bytes&nbsp;once</li><li><a href="buffer_copy_stride.htm">buffer_copy_stride</a>: copies a contiguous block&nbsp;of bytes multiple times. You can use this to copy e.g. all positions, all colours, all UV's, etc.</li></ul><h2>Buffer to&nbsp;Vertex Buffer</h2><p>A vertex buffer is a special type of buffer. The vertex format determines what data is written to the buffer and in which order. You don't have to write the values directly, but can call functions such as&nbsp;<span class="inline3_func"><a href="../Drawing/Primitives/vertex_position_3d.htm">vertex_position_3d</a></span>, <span class="inline3_func"><a href="../Drawing/Primitives/vertex_colour.htm">vertex_colour</a></span>,&nbsp;<span class="inline3_func"><a href="../Drawing/Primitives/vertex_texcoord.htm">vertex_texcoord</a></span>, etc.</p><p>A few things are specific to vertex buffers:&nbsp;</p><ul class="colour"><li>The stride in this case is the size of the vertex format (and that of a vertex).</li><li>Most components&nbsp;of the vertex attributes&nbsp;are stored as a 32bit float (<span class="inline2">buffer_f32</span>).</li><li>Each of the components of a&nbsp;colour attribute (R, G, B, A) is stored as an unsigned byte (<span class="inline2">buffer_u8</span>).</li></ul><p>The following schematic shows how the data in a vertex buffer maps to the data in a buffer, and the other way around:&nbsp;</p><p><img class="center" src="../../../assets/Images/Scripting_Reference/GML/Reference/Buffers/buffer_transfer_overview.png"></p><p class="note"><span data-conref="../../../assets/snippets/Tag_tip.hts"><span class="tip">TIP</span></span>&nbsp;You can use the function&nbsp;<span class="inline3_func"><a href="../Drawing/Primitives/vertex_format_get_info.htm">vertex_format_get_info</a></span>&nbsp;to get information&nbsp;on how the data&nbsp;of a vertex in a given format is laid&nbsp;out in a buffer.</p><p>The following functions can be used to transfer data between buffers and vertex buffers and vice versa:&nbsp;</p><ul class="colour"><li><a href="buffer_create_from_vertex_buffer.htm">buffer_create_from_vertex_buffer</a></li><li><a href="buffer_create_from_vertex_buffer_ext.htm">buffer_create_from_vertex_buffer_ext</a></li><li><a href="buffer_copy_from_vertex_buffer.htm">buffer_copy_from_vertex_buffer</a></li><li><a href="../Drawing/Primitives/vertex_create_buffer_from_buffer.htm">vertex_create_buffer_from_buffer</a></li><li><a href="../Drawing/Primitives/vertex_create_buffer_from_buffer_ext.htm">vertex_create_buffer_from_buffer_ext</a></li><li><a href="../Drawing/Primitives/vertex_update_buffer_from_buffer.htm">vertex_update_buffer_from_buffer</a></li></ul><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div>Back:&nbsp;<a href="Buffers.htm">Buffers</a></div><div>Next:&nbsp;<a href="buffer_exists.htm">buffer_exists</a></div></div></div><h5><span data-conref="../../../assets/snippets/Copyright_Notice_AutoUpdate.hts">© Copyright <span data-keyref="Company Name">YoYo Games</span>&nbsp;<span data-keyref="Company Structure Suffix">Ltd.</span>&nbsp;<span data-field="date" data-format="YYYY">2024</span> All Rights Reserved</span></h5></div></div></body></html>