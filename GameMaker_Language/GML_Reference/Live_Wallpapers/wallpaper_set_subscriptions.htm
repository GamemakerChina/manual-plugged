<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/main.css"><script>let str;removeHtml=function(e){return e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(e){return e.match(/(<([^>]+)>)/gi)},setTranslator=function(e,t,a){let o;o=a?e.attr(a):e.html();let r=t[removeHtml(o)];if(null!=r&&r.length){t=retHtml(o);let n=0;t&&t.forEach(function(e,t){var a=r.replace("{"+n+"}",e);r=a===r?r.replace("{}",e):a,n++}),a?e.attr(a,r):e.html(r)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var e=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(e):($(".topic-header").append(e),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(e){return e.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"An array containing strings, which are the metrics you want to subscribe to":"包含字符串的数组，这些字符串是您要订阅的指标",Arguments:"论点","If some information could not be retrieved from the system, its corresponding variable will not be present in this structure. That may cause a crash if you try to access a variable that doesn't exist. To prevent that, use&nbsp;{}{}struct_exists{}{}&nbsp;to check that a variable exists in a struct, before accessing it.":"如果无法从系统检索某些信息，则其相应的变量将不会出现在该结构中。如果您尝试访问不存在的变量，可能会导致崩溃。为了防止这种情况发生，请在访问变量之前使用 {}{}struct_exists{}{} 检查结构中是否存在变量。","In that file, it writes the current datetime, CPU device count (which is the length of the array), and then proceeds to write the load percentage of each CPU device in the array.":"在该文件中，它写入当前日期时间、CPU 设备计数 (即数组的长度)，然后继续写入数组中每个 CPU 设备的负载百分比。","In the Wallpaper Subscription Data event, it gets the devices array for the CPU, and opens a text file to write metrics to.":"在壁纸订阅数据事件中，它获取 CPU 的设备数组，并打开一个文本文件以写入指标。","Receiving Metrics":"接收指标","The event will contain a {}wallpaper_subscription_data{} variable which is a {}struct{}, containing the following members:":"该事件将包含一个 {}wallpaper_subscription_data{} 变量，该变量是一个 {} 结构体 {}，包含以下成员：","The first line, run in the Create event, enables mouse input and subscribes to CPU metrics.":"第一行在 Create 事件中运行，启用鼠标输入并订阅 CPU 指标。","This code generates the following text in the {}sysinfo.txt{} file, found in the {}working directory{}:":"此代码在 {2} 工作目录 {3} 中的 {}sysinfo.txt{} 文件中生成以下文本：","This function subscribes to the given metric(s) from the Companion app. This is used to get real-time system information, and enable mouse input, which is disabled for Live Wallpapers by default.":"此函数从 Companion 应用程序订阅给定的指标。用于获取实时系统信息，并启用鼠标输入，动态壁纸默认禁用鼠标输入。","Within the&nbsp;{}Wallpaper Subscription Data{}&nbsp;event you will receive updates for subscribed metrics, around once every second, except for audio which is ten times a second.":"在 {} 壁纸订阅数据 {} 事件中，您将收到订阅指标的更新，大约每秒一次，音频除外，每秒十次。",'You pass an array into this function, containing one or more of the following strings: {}"desktop_mouse"{}, {}"cpu"{}, {}"gpu"{}, {}"battery"{}, {}"ram"{}, {}"disk"{}, {}"network"{}, {}"audio"{}.':'您向该函数传递一个数组，其中包含以下一个或多个字符串：{}"desktop_mouse"{}、{}"cpu"{}、{}"gpu"{}、{}"battery"{}、{}" 内存 "{}、{}" 磁盘 "{}、{}" 网络 "{}、{}" 音频 "{}。','{}"desktop_mouse"{}&nbsp;enables mouse input for your Live Wallpaper. The other options allow the&nbsp;{}Wallpaper Subscription Data{} event to be triggered, where you receive data on the metrics you chose to subscribe to.':'{}"desktop_mouse"{} 为您的动态壁纸启用鼠标输入。其他选项允许触发 {} 壁纸订阅数据 {} 事件，您可以在其中接收有关您选择订阅的指标的数据。',"{}audio{} ({}{}Array{}{}&nbsp;of {}{}Real{}{}s):&nbsp;Represents a spectrum analysis of measured sound amplitudes on the system. The frequency will span from 0 Hz up to the Nyquist frequency, i.e half that of the system's sampling rate. If it is, for example, 44.1 kHz (the most common), the frequencies will range from 0 Hz to 22050 Hz. Each bin will always represent a range of 10 Hz. Thus, this array will consist of 2205 data points if the sampling rate is 44.1 kHz, and 2400 if it is 48 kHz (also common). {} {} ":"{} audio {}({}{} 实数 {}{} 的 {}{} 数组 {}{})：表示系统上测得的声音振幅的频谱分析。频率范围从 0 Hz 到奈奎斯特频率，即系统采样率的一半。例如，如果是 44.1 kHz(最常见)，则频率范围为 0 Hz 到 22050 Hz。每个 bin 始终代表 10 Hz 的范围。因此，如果采样率为 44.1 kHz，则该阵列将包含 2205 个数据点 ; 如果采样率为 48 kHz(也很常见)，则该阵列将包含 2400 个数据点。{}{}","{}battery {}({}{}Array{}{}): Array of battery devices.&nbsp;Each entry in this array is a struct, containing the following members: {} {}{}name{} ({}{}String{}{}): The name of the battery.{} {}{}is_charging {}({}{}Boolean{}{}): Indicates if the battery is charging.{} {}{}remaining_charge_pct {}(Integer {}{}Real{}{}): Percentage of the charge left in the battery.{} {}{}remaining_time_min {}(Integer {}{}Real{}{}): The estimated time left of the battery in minutes.{} {} ":"{} battery {}({}{} 数组 {}{})：电池设备数组。该数组中的每个条目都是一个结构体，包含以下成员：{}{}{}name{}({}{}String{}{})：电池的名称。{}{}{}is_charging{}({}{}Boolean{}{})：指示电池是否正在充电。{}{}{}remaining_charge_pct{}(Integer{}{}Real{}{})：电池中剩余电量的百分比。{}{}{}remaining_time_min{}( 整数 {}{} 实数 {}{})：估计电池剩余时间 (以分钟为单位)。{}{}","{}cpu{} ({}{}Array{}{}): Array of CPU devices. Each entry in this array is a struct, containing the following members: {} {}{}name{} ({}{}String{}{}): The name of the CPU.{} {}{}num_logical_cores{} (Integer {}{}Real{}{}): Number of logical cores.{} {}{}num_physical_cores{} (Integer {}{}Real{}{}): Number of physical cores.{} {}{}usage_pct{} (Integer {}{}Real{}{}): The load percentage of the CPU.{} {}{}current_clock_speed_MHz{} (Integer {}{}Real{}{}): The current clock speed of the CPU in MHz.{} {}{}max_clock_speed_MHz{} (Integer {}{}Real{}{}): The maximum clock speed of the CPU in MHz.{} {}{}voltage_V{} (Integer&nbsp;{}{}Real{}{}): The current voltage of the CPU in volts.{} {} ":"{}cpu{}({}{} 数组 {}{})：CPU 设备数组。该数组中的每个条目都是一个结构体，包含以下成员：{}{}{}name{}({}{}String{}{})：CPU 的名称。{}{}{}num_logic_cores{}( 整数 {}{}Real{}{})：逻辑核心数量。{}{}{}num_physical_cores{}( 整数 {}{}Real{}{})：物理核心数量。{}{}{}usage_pct{}( 整数 {}{}Real{}{})：CPU 的负载百分比。{}{}{}current_clock_speed_MHz{}( 整数 {}{}Real{}{})：当前时钟速度 CPU 的最大时钟速度，以 MHz 为单位。{}{}{}max_clock_speed_MHz{}( 整数 {}{}Real{}{})：CPU 的最大时钟速度，以 MHz 为单位。{}{}{} 电压 _V{}( 整数 {}{} 实数 {}{})：CPU 的当前电压 (以伏特为单位)。{}{}","{}disk {}({}{}Array{}{}): Array of disks.&nbsp;Each entry in this array is a struct, containing the following members: {} {}{}name{} ({}{}String{}{}): The name of the disk.{} {}{}available_bytes{} (Integer {}{}Real{}{}): How much of the disk memory is available in bytes.{} {}{}total_bytes{} (Integer {}{}Real{}{}): The total disk memory in bytes.{} {}{}used_bytes{} (Integer {}{}Real{}{}): How much of the GPU memory is used up in bytes.{} {} ":"{} disk {}({}{} 阵列 {}{})：磁盘阵列。该数组中的每个条目都是一个结构体，包含以下成员：{}{}{}name{}({}{}String{}{})：磁盘的名称。{}{}{}available_bytes{}(Integer{}{}Real{}{})：可用磁盘内存量 (以字节为单位)。{}{}{}total_bytes{}(Integer{}{}Real{}{})：总磁盘内存以字节为单位。{}{}{}used_bytes{}( 整数 {}{}Real{}{})：已使用的 GPU 内存量以字节为单位。{}{}","{}gpu {}({}{}Array{}{}): Array of GPU devices. Each entry in this array is a struct, containing the following members: {} {}{}name{} ({}{}String{}{}): The name of the GPU.{} {}{}usage_pct{} (Integer {}{}Real{}{}): The load percentage of the GPU.{} {}{}clock_speed_MHz{} (Integer {}{}Real{}{}): The current clock speed of the GPU in MHz.{} {}{}fan_speed_pct{} or {}fan_speed_rpm{} (Integer {}{}Real{}{}): The target speed of the GPU fan. Expressed as a percentage of the maximum speed on NVIDIA GPUs and in RPM on AMD GPUs.{} {}{}power_usage_W{} (Integer {}{}Real{}{}): The power usage of the GPU in Watt.{} {}{}temperature_C{} (Integer {}{}Real{}{}): The temperature of the GPU in Celsius.{} {}{}memory_used_bytes{} (Integer {}{}Real{}{}): How much of the GPU memory is used up in bytes.{} {}{}memory_available_bytes{} (Integer {}{}Real{}{}): How much of the GPU memory is available in bytes.{} {}{}memory_total_bytes{} (Integer {}{}Real{}{}): The total GPU memory in bytes.{} {} ":"{}gpu{}({}{}Array{}{})：GPU 设备数组。该数组中的每个条目都是一个结构体，包含以下成员：{}{}{}name{}({}{}String{}{})：GPU 的名称。{}{}{}usage_pct{}( 整数 {}{}Real{}{})：GPU 的负载百分比。{}{}{}clock_speed_MHz{}( 整数 {}{}Real{}{})：GPU 的当前时钟速度 MHz。{}{}{}fan_speed_pct{} 或 {}fan_speed_rpm{}( 整数 {}{} 实数 {}{})：GPU 风扇的目标速度。以 NVIDIA GPU 上最大速度的百分比表示，以 AMD GPU 上 RPM 为单位。{}{}{}power_usage_W{}( 整数 {}{} 实数 {}{})：GPU 的功耗 (以瓦特为单位)。{}{}{}Temperature_C{}( 整数 {}{}Real{}{})：GPU 的温度 (以摄氏度为单位)。{}{}{}memory_used_bytes{}( 整数 {}{}Real{}{})：已使用的 GPU 内存量 (以字节为单位)。{}{}{}memory_available_bytes{}( 整数 {}{} 实数 {}{})：可用的 GPU 内存量 (以字节为单位)。{}{}{}memory_total_bytes{}( 整数 {}{}Real{}{})：总 GPU 内存 (以字节为单位)。{}{}","{}network{} ({}{}Array{}{}): Array of network devices.&nbsp;Each entry in this array is a struct, containing the following members: {} {}{}bandwidth_bps{} (Integer {}{}Real{}{}): The bandwidth of the network in bits per second.{} {}{}send_bps{} (Integer {}{}Real{}{}): The current bytes sent per second on the network.{} {}{}received_bps{} (Integer {}{}Real{}{}): The current bytes received per second on the network.{} {} ":"{} network {}({}{} 数组 {}{})：网络设备数组。该数组中的每个条目都是一个结构体，包含以下成员：{}{}{}bandwidth_bps{}( 整数 {}{}Real{}{})：网络带宽 (以每秒位数为单位)。{}{}{}send_bps{}( 整数 {}{}Real{}{})：当前网络上每秒发送的字节数。{}{}{}received_bps{}( 整数 {}{}Real{}{})：当前网络上每秒接收的字节数。{}{}","{}ram {}({}{}Array{}{}): Array of RAM devices.&nbsp;Each entry in this array is a struct, containing the following members: {} {}{}name{} ({}{}String{}{}): The name of the RAM.{} {}{}available_bytes{} (Integer {}{}Real{}{}): How much of the RAM memory is available in bytes.{} {}{}total_bytes{} (Integer {}{}Real{}{}): The total RAM memory in bytes.{} {}{}used_bytes{} (Integer {}{}Real{}{}): How much of the GPU memory is used up in bytes.{} {} ":"{}ram{}({}{}Array{}{})：RAM 设备的数组。该数组中的每个条目都是一个结构体，包含以下成员：{}{}{}name{}({}{}String{}{})：RAM 的名称。{}{}{}available_bytes{}(Integer{}{}Real{}{})：可用 RAM 内存量 (以字节为单位)。{}{}{}total_bytes{}(Integer{}{}Real{}{})：总 RAM 内存以字节为单位。{}{}{}used_bytes{}( 整数 {}{}Real{}{})：已使用的 GPU 内存量以字节为单位。{}{}","{}wallpaper_subscription_data Struct{}{}wallpaper_subscription_data Struct{}":"{}wallpaper_subscription_data 结构 {}{}wallpaper_subscription_data 结构 {}","{}{}IMPORTANT{}{}&nbsp;The user must have the Companion app installed on Windows for metrics to work. {}See this guide{} for setting up the Companion app.":"{}{} 重要提示{}{} 用户必须在 Windows 上安装配套应用才能使指标发挥作用。{} 请参阅本指南 {} 以设置伴侣应用。","{}{}NOTE{}{}&nbsp;Each call to this function cancels any previously active subscriptions, so only those included in the last call remain active.":"{}{} 注意{}{} 每次调用此函数都会取消之前所有活动的订阅，因此只有上次调用中包含的订阅仍保持活动状态。","{}{}NOTE{}{}&nbsp;Graphics drivers must be up-to-date on the target computer for GPU metrics to work correctly.":"{}{} 注意{}{} 目标计算机上的图形驱动程序必须是最新的，GPU 指标才能正常工作。"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(e){json_global=e}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../..",gTopicId="8.2.2.24.0_2"</script><script type="text/javascript" src="../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>wallpaper_set_subscriptions</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" type="text/css" href="../../../assets/css/default.css"><script src="../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Gurpreet S. Matharoo"><meta name="topic-comment" content="Reference page for wallpaper_set_subscriptions"><meta name="rh-index-keywords" content="wallpaper_set_subscriptions"><meta name="search-keywords" content="wallpaper_set_subscriptions"><meta name="template" content="assets/masterpages/Manual_Keyword_Page.htt"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Live_Wallpapers/wallpaper_set_config.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="wallpaper_set_subscriptions"><span>wallpaper_set_subscriptions</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">wallpaper_set_subscriptions</span></h1><p>This function subscribes to the given metric(s) from the Companion app. This is used to get real-time system information, and enable mouse input, which is disabled for Live Wallpapers by default.</p><p class="note"><span data-conref="../../../assets/snippets/Tag_important.hts"><span class="important">IMPORTANT</span></span>&nbsp;<a href="https://help.gamemaker.io/hc/en-us/articles/10070287968285">See this guide</a> for making a basic Live Wallpaper and (optionally) setting up the Companion app on Windows.</p><p class="note"><span data-conref="../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;Graphics drivers must be up-to-date on the target computer for GPU metrics to work correctly.</p><p class="note"><span data-conref="../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;Each call to this function cancels any previously active subscriptions, so only those included in the last call remain active.</p><h2>Arguments</h2><p>You pass an array into this function, containing one or more of the following strings: <span class="inline2">"desktop_mouse"</span>, <span class="inline2">"cpu"</span>, <span class="inline2">"gpu"</span>, <span class="inline2">"battery"</span>, <span class="inline2">"ram"</span>, <span class="inline2">"disk"</span>, <span class="inline2">"network"</span>, <span class="inline2">"audio"</span>.</p><p><span class="inline2">"desktop_mouse"</span>&nbsp;enables mouse input for your Live Wallpaper. The other options allow the&nbsp;<a href="../../../The_Asset_Editors/Object_Properties/Wallpaper_Config_Event.htm#h">Wallpaper Subscription Data</a> event to be triggered, where you receive data on the metrics you chose to subscribe to.</p><h2 id="h">Receiving Metrics</h2><p>Within the&nbsp;<a href="../../../The_Asset_Editors/Object_Properties/Wallpaper_Config_Event.htm#h">Wallpaper Subscription Data</a>&nbsp;event you will receive updates for subscribed metrics, around once every second, except for audio which is ten times a second.</p><p>The event will contain a <span class="inline2">wallpaper_subscription_data</span> variable which is a <a href="../../GML_Overview/Structs.htm">struct</a>, containing the following members:</p><p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down" href="#"><span data-open-text="true" data-skip-index="true">wallpaper_subscription_data Struct</span><span data-close-text="true">wallpaper_subscription_data Struct</span></a></p><div class="droptext" data-targetname="drop-down"><ul class="colour"><li><strong>cpu</strong> (<span data-keyref="Type_Array"><a target="_blank" href="../../GML_Overview/Arrays.htm">Array</a></span>): Array of CPU devices. Each entry in this array is a struct, containing the following members:<ul><li><strong>name</strong> (<span data-keyref="Type_String"><a target="_blank" href="../../GML_Overview/Data_Types.htm">String</a></span>): The name of the CPU.</li><li><strong>num_logical_cores</strong> (Integer <span data-keyref="Type_Real"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Real</a></span>): Number of logical cores.</li><li><strong>num_physical_cores</strong> (Integer <span data-keyref="Type_Real"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Real</a></span>): Number of physical cores.</li><li><strong>usage_pct</strong> (Integer <span data-keyref="Type_Real"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Real</a></span>): The load percentage of the CPU.</li><li><strong>current_clock_speed_MHz</strong> (Integer <span data-keyref="Type_Real"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Real</a></span>): The current clock speed of the CPU in MHz.</li><li><strong>max_clock_speed_MHz</strong> (Integer <span data-keyref="Type_Real"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Real</a></span>): The maximum clock speed of the CPU in MHz.</li><li><strong>voltage_V</strong> (Integer&nbsp;<span data-keyref="Type_Real"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Real</a></span>): The current voltage of the CPU in volts.</li></ul></li><li><strong>gpu</strong> (<span data-keyref="Type_Array"><a target="_blank" href="../../GML_Overview/Arrays.htm">Array</a></span>): Array of GPU devices. Each entry in this array is a struct, containing the following members:<ul><li><strong>name</strong> (<span data-keyref="Type_String"><a target="_blank" href="../../GML_Overview/Data_Types.htm">String</a></span>): The name of the GPU.</li><li><strong>usage_pct</strong> (Integer <span data-keyref="Type_Real"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Real</a></span>): The load percentage of the GPU.</li><li><strong>clock_speed_MHz</strong> (Integer <span data-keyref="Type_Real"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Real</a></span>): The current clock speed of the GPU in MHz.</li><li><strong>fan_speed_pct</strong> or <strong>fan_speed_rpm</strong> (<span data-keyref="Type_Array"><a target="_blank" href="../../GML_Overview/Arrays.htm">Array</a></span>&nbsp;of Integer&nbsp;<span data-keyref="Type_Real"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Real</a></span>s): The target speed of each GPU fan. Expressed as a percentage of the maximum speed on NVIDIA GPUs and in RPM on AMD GPUs (AMD will only return one element in the array).</li><li><strong>power_usage_W</strong> (Integer <span data-keyref="Type_Real"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Real</a></span>): The power usage of the GPU in Watt.</li><li><strong>temperature_C</strong> (Integer <span data-keyref="Type_Real"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Real</a></span>): The temperature of the GPU in Celsius.</li><li><strong>memory_used_bytes</strong> (<span data-keyref="Type_String"><a target="_blank" href="../../GML_Overview/Data_Types.htm">String</a></span>): How much of the GPU memory is used up in bytes.</li><li><strong>memory_available_bytes</strong> (<span data-keyref="Type_String"><a target="_blank" href="../../GML_Overview/Data_Types.htm">String</a></span>): How much of the GPU memory is available in bytes.</li><li><strong>memory_total_bytes</strong> (<span data-keyref="Type_String"><a target="_blank" href="../../GML_Overview/Data_Types.htm">String</a></span>): The total GPU memory in bytes.</li></ul></li><li><strong>battery</strong> (<span data-keyref="Type_Array"><a target="_blank" href="../../GML_Overview/Arrays.htm">Array</a></span>): Array of battery devices.&nbsp;Each entry in this array is a struct, containing the following members:<ul><li><strong>name</strong> (<span data-keyref="Type_String"><a target="_blank" href="../../GML_Overview/Data_Types.htm">String</a></span>): The name of the battery.</li><li><strong>is_charging</strong> (<span data-keyref="Type_Bool"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Boolean</a></span>): Indicates if the battery is charging.</li><li><strong>remaining_charge_pct</strong> (Integer <span data-keyref="Type_Real"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Real</a></span>): Percentage of the charge left in the battery.</li><li><strong>remaining_time_min</strong> (Integer <span data-keyref="Type_Real"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Real</a></span>): The estimated time left of the battery in minutes.</li></ul></li><li><strong>ram</strong> (<span data-keyref="Type_Array"><a target="_blank" href="../../GML_Overview/Arrays.htm">Array</a></span>): Array of RAM devices.&nbsp;Each entry in this array is a struct, containing the following members:<ul><li><strong>name</strong> (<span data-keyref="Type_String"><a target="_blank" href="../../GML_Overview/Data_Types.htm">String</a></span>): The name of the RAM.</li><li><strong>available_bytes</strong> (<span data-keyref="Type_String"><a target="_blank" href="../../GML_Overview/Data_Types.htm">String</a></span>): How much of the RAM memory is available in bytes.</li><li><strong>total_bytes</strong> (<span data-keyref="Type_String"><a target="_blank" href="../../GML_Overview/Data_Types.htm">String</a></span>): The total RAM memory in bytes.</li><li><strong>used_bytes</strong> (<span data-keyref="Type_String"><a target="_blank" href="../../GML_Overview/Data_Types.htm">String</a></span>): How much of the GPU memory is used up in bytes.</li></ul></li><li><strong>disk</strong> (<span data-keyref="Type_Array"><a target="_blank" href="../../GML_Overview/Arrays.htm">Array</a></span>): Array of disks.&nbsp;Each entry in this array is a struct, containing the following members:<ul><li><strong>name</strong> (<span data-keyref="Type_String"><a target="_blank" href="../../GML_Overview/Data_Types.htm">String</a></span>): The name of the disk.</li><li><strong>available_bytes</strong> (<span data-keyref="Type_String"><a target="_blank" href="../../GML_Overview/Data_Types.htm">String</a></span>): How much of the disk memory is available in bytes.</li><li><strong>total_bytes</strong> (<span data-keyref="Type_String"><a target="_blank" href="../../GML_Overview/Data_Types.htm">String</a></span>): The total disk memory in bytes.</li><li><strong>used_bytes</strong> (<span data-keyref="Type_String"><a target="_blank" href="../../GML_Overview/Data_Types.htm">String</a></span>): How much of the GPU memory is used up in bytes.</li></ul></li><li><strong>network</strong> (<span data-keyref="Type_Array"><a target="_blank" href="../../GML_Overview/Arrays.htm">Array</a></span>): Array of network devices.&nbsp;Each entry in this array is a struct, containing the following members:<ul><li><strong>bandwidth_bps</strong> (<span data-keyref="Type_String"><a target="_blank" href="../../GML_Overview/Data_Types.htm">String</a></span>): The bandwidth of the network in bits per second.</li><li><strong>send_bps</strong> (Integer <span data-keyref="Type_Real"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Real</a></span>): The current bytes sent per second on the network.</li><li><strong>received_bps</strong> (Integer <span data-keyref="Type_Real"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Real</a></span>): The current bytes received per second on the network.</li></ul></li><li><strong>audio</strong> (<span data-keyref="Type_Array"><a target="_blank" href="../../GML_Overview/Arrays.htm">Array</a></span>): Array of audio devices. Each entry in this array is a struct, containing the following members:<ul><li><strong>freq_resolution</strong> (Integer <span data-keyref="Type_Real"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Real</a></span>): The frequency resolution, is always 10.</li><li><strong>spectrum_amplitude</strong> (<span data-keyref="Type_Array"><a target="_blank" href="../../GML_Overview/Arrays.htm">Array</a></span>): Represents a spectrum analysis of measured sound amplitudes on the system. The frequency will span from 0 Hz up to the Nyquist frequency, i.e half that of the system's sampling rate. If it is, for example, 44.1 kHz (the most common), the frequencies will range from 0 Hz to 22050 Hz. Each bin will always represent a range of <strong>freq_resolution</strong>. E.g. if it is 10, this array will consist of 2205 data points if the sampling rate is 44.1 kHz, and 2400 if it is 48 kHz (also common).</li></ul></li></ul></div><p>If some information could not be retrieved from the system, its corresponding variable will not be present in this structure. That may cause a crash if you try to access a variable that doesn't exist. To prevent that, use&nbsp;<span class="inline3_func"><a href="../Variable_Functions/variable_struct_exists.htm">struct_exists</a></span>&nbsp;to check that a variable exists in a struct, before accessing it.</p><p>&nbsp;</p><p>&nbsp;</p><h4>Syntax:</h4><p class="code"><span data-field="title" data-format="default">wallpaper_set_subscriptions</span>(subscriptions);</p><table><colgroup><col><col><col></colgroup><tbody><tr><th>Argument</th><th>Type</th><th>Description</th></tr><tr><td>subscriptions</td><td><span data-keyref="Type_Array"><a target="_blank" href="../../GML_Overview/Arrays.htm">Array</a></span></td><td>An array containing strings, which are the metrics you want to subscribe to</td></tr></tbody></table><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_Void">N/A</span></p><p>&nbsp;</p><h4>Example:</h4><div data-conref="../../../assets/snippets/Example_wallpaper_set_subscriptions.hts"><p class="code">// Create Event<br>wallpaper_set_subscriptions(["desktop_mouse", "cpu"]);<br><br><br>// Wallpaper Subscription Data Event<br>var _cpus = wallpaper_subscription_data.cpu;<br><br>file = file_text_open_append("sysinfo.txt");<br>file_text_writeln(file);<br>file_text_write_string(file, string(date_current_datetime()));<br>file_text_write_string(file, $"\nCPU count: {array_length(_cpus)}");<br><br>array_foreach(_cpus, function(_cpu, _num)<br>{<br>&nbsp;&nbsp; &nbsp;if (!struct_exists(_cpu, "usage_pct")) return;<br>&nbsp;&nbsp; &nbsp;var _str = $"\nCPU {_num} load: {_cpu.usage_pct}%";<br>&nbsp;&nbsp; &nbsp;file_text_write_string(file, _str);<br>});<br><br>file_text_close(file);</p><p>The first line, run in the Create event, enables mouse input and subscribes to CPU metrics.</p><p>In the Wallpaper Subscription Data event, it gets the devices array for the CPU, and opens a text file to write metrics to.</p><p>In that file, it writes the current datetime, CPU device count (which is the length of the array), and then proceeds to write the load percentage of each CPU device in the array.</p><p>This code generates the following text in the <span class="inline2">sysinfo.txt</span> file, found in the <a href="../File_Handling/File_Directories/working_directory.htm">working directory</a>:</p><p class="code_plain">45245.33<br>CPU count: 1<br>CPU 0 load: 3%<br>45245.33<br>CPU count: 1<br>CPU 0 load: 3%<br>45245.33<br>CPU count: 1<br>CPU 0 load: 3%</p></div><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div>Back:&nbsp;<a href="Live_Wallpapers.htm">Live Wallpapers</a></div><div>Next:&nbsp;<a href="wallpaper_set_config.htm">wallpaper_set_config</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>