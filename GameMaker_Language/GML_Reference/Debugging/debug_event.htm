<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/main.css"><script>let str;removeHtml=function(t){return t=(t=(t=(t=t.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(t){return t.match(/(<([^>]+)>)/gi)},setTranslator=function(t,n,a){let e;e=a?t.attr(a):t.html();let l=n[removeHtml(e)];if(null!=l&&l.length){n=retHtml(e);let o=0;n&&n.forEach(function(t,n){var a=l.replace("{"+o+"}",t);l=a===l?l.replace("{}",t):a,o++}),a?t.attr(a,l):t.html(l)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){$(".header").length&&$(".header").append(`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`)},removeExtensionFromHash=function(t){return t.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")},$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../..",gTopicId="8.2.2.22.0_2"</script><script type="text/javascript" src="../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>debug_event</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../assets/css/default.css" type="text/css"><script src="../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Reference page for debug_event"><meta name="rh-index-keywords" content="debug_event"><meta name="search-keywords" content="debug_event"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Debugging/debug_get_callstack.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Debugging/debug_mode.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="debug_event"><span>debug_event</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">debug_event</span></h1><p>This function generates a custom debug event that will be shown in the Graph View of <a href="../../../IDE_Tools/The_Debugger.htm">The Debugger</a> when a game is being run in <a href="../../../Introduction/Debugging.htm">Debug Mode</a>. If you require messages to be displayed when <i>not</i> in debug mode, use&nbsp;<span class="inline3_func"><a href="show_debug_message.htm">show_debug_message</a></span>.</p><p>The function will also take five reserved strings to help perform debugging using external applications like Visual Studio. These strings are:</p><ul class="colour"><li>"<span class="inline">OutputDebugOn</span>" - This enables a call to <span class="inline">OutputDebugString</span> for the <b>Windows</b> target, which means that all debug output - everything you see in&nbsp;<a href="../../../Introduction/The_Output_Window.htm">The Output Window</a> - can be viewed by Visual Studio or by 3rd party apps.</li><li>"<span class="inline">OutputDebugOff</span>" - Disables the behaviour described above.</li><li>"<span class="inline">BreakOnError</span>" - This option is for <b>Windows YYC</b> builds only, and means that projects will <i>not</i> display the usual code error screen if the runtime detects an error, but instead just carry on and crash. This allows you to see the stack trace within Visual Studio if debugging.</li><li>"<span class="inline">ResourceCounts</span>" - Lists all the currently active resources, such as Data Structures, Time Sources, Surfaces, etc. Also returns a struct (info given below). Set the optional <span class="inline2">silent</span> argument to <span class="inline2">true</span> to only return the struct.</li><li>"<span class="inline">DumpMemory</span>" - Gives information on the current memory usage. Also returns a struct (info given below).&nbsp;Set the optional <span class="inline2">silent</span> argument to <span class="inline2">true</span> to only return the struct.</li></ul><p>&nbsp;</p><p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down" href="#"><span data-open-text="true" data-skip-index="true">ResourceCounts</span><span data-close-text="true">ResourceCounts</span></a></p><div class="droptext" data-targetname="drop-down"><p class="dropspot">When you call <span class="inline2">debug_event</span> with the <span class="inline2">"ResourceCounts"</span> argument, it returns a struct with information about all the active resources in your game.</p><p class="dropspot">Each resource is represented with three properties:</p><ul class="colour"><li class="dropspot"><span class="inline2">"&lt;resource&gt;Count"</span>: The number of resources of this type that exist when the function is called</li><li class="dropspot"><span class="inline2">"&lt;resource&gt;MaxIndex"</span>: The maximum valid integer index that exists for the resource</li><li class="dropspot"><span class="inline2">"&lt;resource&gt;ArrayAllocatedSize"</span>: The highest number of resources that were ever created for the given resource type</li></ul><p class="dropspot">The struct has the following members:</p><ul class="colour"><li class="dropspot"><span class="inline2">listCount</span></li><li class="dropspot"><span class="inline2">listMaxIndex</span></li><li class="dropspot"><span class="inline2">listArrayAllocatedSize</span></li><li class="dropspot"><span class="inline2">mapCount</span></li><li class="dropspot"><span class="inline2">mapMaxIndex</span></li><li class="dropspot"><span class="inline2">mapArrayAllocatedSize</span></li><li class="dropspot"><span class="inline2">queueCount</span></li><li class="dropspot"><span class="inline2">queueMaxIndex</span></li><li class="dropspot"><span class="inline2">queueArrayAllocatedSize</span></li><li class="dropspot"><span class="inline2">gridCount</span></li><li class="dropspot"><span class="inline2">gridMaxIndex</span></li><li class="dropspot"><span class="inline2">gridArrayAllocatedSize</span></li><li class="dropspot"><span class="inline2">priorityCount</span></li><li class="dropspot"><span class="inline2">priorityMaxIndex</span></li><li class="dropspot"><span class="inline2">priorityArrayAllocatedSize</span></li><li class="dropspot"><span class="inline2">stackCount</span></li><li class="dropspot"><span class="inline2">stackMaxIndex</span></li><li class="dropspot"><span class="inline2">stackArrayAllocatedSize</span></li><li class="dropspot"><span class="inline2">mpGridCount</span></li><li class="dropspot"><span class="inline2">mpGridMaxIndex</span></li><li class="dropspot"><span class="inline2">mpGridArrayAllocatedSize</span></li><li class="dropspot"><span class="inline2">bufferCount</span></li><li class="dropspot"><span class="inline2">bufferMaxIndex</span></li><li class="dropspot"><span class="inline2">bufferArrayAllocatedSize</span></li><li class="dropspot"><span class="inline2">surfaceCount</span></li><li class="dropspot"><span class="inline2">audioEmitterCount</span></li><li class="dropspot"><span class="inline2">audioEmitterMaxIndex</span></li><li class="dropspot"><span class="inline2">audioEmitterArrayAllocatedSize</span></li><li class="dropspot"><span class="inline2">partSystemCount</span></li><li class="dropspot"><span class="inline2">partSystemMaxIndex</span></li><li class="dropspot"><span class="inline2">partSystemArrayAllocatedSize</span></li><li class="dropspot"><span class="inline2">partEmitterCount</span></li><li class="dropspot"><span class="inline2">partTypeCount</span></li><li class="dropspot"><span class="inline2">partTypeMaxIndex</span></li><li class="dropspot"><span class="inline2">partTypeArrayAllocatedSize</span></li><li class="dropspot"><span class="inline2">timeSourceCount</span></li><li class="dropspot"><span class="inline2">spriteCount</span></li><li class="dropspot"><span class="inline2">pathCount</span></li><li class="dropspot"><span class="inline2">fontCount</span></li><li class="dropspot"><span class="inline2">roomCount</span></li><li class="dropspot"><span class="inline2">timelineCount</span></li></ul><p class="dropspot">&nbsp;</p><ul class="colour"></ul></div><p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down1" href="#"><span data-open-text="true" data-skip-index="true">DumpMemory</span> <span data-close-text="true">DumpMemory</span></a></p><div class="droptext" data-targetname="drop-down1"><p class="dropspot">When you call <span class="inline2">debug_event</span> with the <span class="inline2">"DumpMemory"</span> argument, it returns a struct with information about your game's memory usage.</p><p class="dropspot">The members of the struct will differ based on the platform, however all platforms will at least have the following values in the struct (in bytes):</p><ul class="colour"><li class="dropspot"><span class="inline2">totalUsed</span>: How much memory your game is using at the moment</li><li class="dropspot"><span class="inline2">free</span>: How much allocated memory is unused</li><li class="dropspot"><span class="inline2">peakUsage</span>: The highest amount of memory your game used since it was started</li></ul><p class="dropspot">The way these values are measured is different on each platform. Note that this can only show the memory that the runner is in control of, and so the values here may be different than e.g. the values shown in the OS, which may sometimes be higher, as some systems may add overhead that this function cannot track in a platform-agnostic manner.</p><ul class="colour"></ul></div><p>&nbsp;</p><h4>Syntax:</h4><p class="code"><span data-field="title" data-format="default">debug_event</span>(string, [silent]);</p><table><tbody><tr><th>Argument</th><th>Type</th><th>Description</th></tr><tr><td>string</td><td><span data-keyref="Type_String"><a target="_blank" href="../../GML_Overview/Data_Types.htm">String</a></span></td><td>The custom debug event string to use or one of the five reserved strings.</td></tr><tr><td>silent</td><td><span data-keyref="Type_Bool"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Boolean</a></span></td><td><span data-conref="../../../assets/snippets/Tag_optional.hts"><span class="optional">OPTIONAL</span></span>&nbsp;This parameter makes the function silently return the result to the runner in a struct rather than printing the value to the console. Defaults to <span class="inline2">false</span>.</td></tr></tbody></table><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_Struct"><a target="_blank" href="../../GML_Overview/Structs.htm">Struct</a></span>&nbsp;(for some options) or&nbsp;<span data-keyref="Type_Void">N/A</span></p><p>&nbsp;</p><h4><b>Example 1: Custom String</b></h4><p class="code">if (!surface_exists(global.EffectsSurface))<br>{<br>&nbsp; &nbsp; <span data-field="title" data-format="default">debug_event</span>("Recreating Effects Surface");<br>&nbsp; &nbsp; global.EffectsSurface = surface_create(room_width, room_height);<br>}</p><p>The above code checks to see if a surface exists and if it does not, a debug event is triggered in the graph view of the debugger (the game must have been run in Debug Mode for this to be visible) and the surface is recreated.</p><p>&nbsp;</p><h4>Example 2: Reserved Strings</h4><p class="code">var _counts =&nbsp;<span data-field="title" data-format="default">debug_event</span>("ResourceCounts");</p><p>The above code triggers a debug event with the message "ResourceCounts". As this is a reserved string, resource counts are output to the console and also returned in a struct. This struct is stored in a temporary variable <span class="inline2">_counts</span>. To suppress the output to the console, set the second parameter to <span class="inline2">true</span>:&nbsp;</p><p class="code">var _counts =&nbsp;<span data-field="title" data-format="default">debug_event</span>("ResourceCounts", true);</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back:&nbsp;<a href="Debugging.htm">Debugging</a></div><div style="float:right">Next:&nbsp;<a href="debug_get_callstack.htm">debug_get_callstack</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>