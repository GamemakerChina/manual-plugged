<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/main.css"><script>let str;removeHtml=function(e){return e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(e){return e.match(/(<([^>]+)>)/gi)},setTranslator=function(e,t,o){let a;a=o?e.attr(o):e.html();let i=t[removeHtml(a)];if(null!=i&&i.length){t=retHtml(a);let n=0;t&&t.forEach(function(e,t){var o=i.replace("{"+n+"}",e);i=o===i?i.replace("{}",e):o,n++}),o?e.attr(o,i):e.html(i)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var e=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(e):($(".topic-header").append(e),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(e){return e.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"A previously defined revolute joint":"先前定义的旋转关节类型","A previously defined revolute {}or{} prismatic joint":"先前定义的旋转{}或{}棱柱关节","If you want to create a sophisticated mechanical contraption you might want to use gears. In principle you can create gears in {}GameMaker{} by using compounding instances to model gear teeth, but this is not very efficient and might be tedious to author! Thankfully there is a simpler method, and that is to use a {}gear joint{}. To make one you need to have previously defined your fixtures and created the two basic joints that are going to comprise your gear - these {}must{} be made up of one {}revolute joint{} and either a {}prismatic joint{} or another {}revolute joint{}. The image below shows how a gear would typically be created in a game:":"如果要创建复杂的机械装置，可能需要使用齿轮。原则上，您可以通过使用复合实例在 {}GameMaker{} 中创建齿轮来模拟齿轮齿，但这不是很有效，编写起来可能会很乏味！谢天谢地，有一个更简单的方法，那就是使用{}齿轮关节{}。要创建一个，您需要先定义您的固定装置并创建将组成您的齿轮的两个基本关节 - 这些{}必须{}由一个{}旋转关节{}和一个{}棱柱关节{}或另一个{}旋转关节{}组成。下图显示了通常在游戏中如何创建齿轮：","Set the velocity ratio between the two joints":"设置两个关节之间的速度比率",'The above code creates and defines two fixture and then creates three instances, one "obj_Ground" and two others, "obj_Cog" and "obj_Barrel". The fixtures are then bound to these instances and two joints are created. A revolute joint between the ground and the cog, and a prismatic joint between the ground and the barrel. Finally a gear joint is created between the cog and barrel instances using the previously defined revolute and prismatic joints.':'上述代码创建和定义两个装置，然后创建三个实例，"一个 obj_Ground" 和另外两个 "obj_Cog" 和 "obj_Barrel"。然后将装置绑定到这些实例，并创建两个关节。地面和齿轮之间的旋转关节，以及地面和圆筒之间的棱柱形关节。最后，使用先前定义的旋转关节和棱柱关节在齿轮和圆柱体实例之间创建齿轮关节。',"The first instance to connect with the joint":"与关节连接的第一个实例","The second instance to connect with the joint":"与关节连接的第二个实例","{}NOTE{}: If you need to delete either of the two instances that are involved in the gear joint (or just delete their joints) then you {}must{} delete the gear joint first using {}{}{}physics_joint_delete(){}{}{} or else you will get an error!":"{}注意{}：如果需要删除齿轮关节中涉及的两个实例中的任何一个 (或只是删除它们的关节)，则必须{}首先使用{} {}{}{}physics_joint_delete(){}{}{} 删除齿轮关节，否则将出现错误！","{}So what happens? Well, once the two joints are added into the gear, interaction with one will have an effect on the other, so in the example image above, if you rotate inst2, inst3 will move up and down, or if you move inst3 up and down then inst2 will rotate. You can also change the gear ratio, meaning that you need to move one instance more (or less) to get the desired effect. The code in the example at the bottom shows how something like the image above can be created.":"{} 发生了什么事？一旦将两个关节添加到齿轮中，与一个关节的相互作用将对另一个关节产生影响，因此在上面的示例图像中，如果在 inst2 中旋转，则 inst3 将上下移动，或者如果在 inst3 中上下移动，则 inst2 将旋转。也可以更改齿轮比率，这意味着需要多移动一个实例 (或少移动一个实例) 才能获得所需的效果。底部示例中的代码显示了如何创建类似上图的内容。","{}{}NOTE{}{}&nbsp;If you need to delete either of the two instances that are involved in the gear joint (or just delete their joints) then you {}must{} delete the gear joint first using {}{}{}physics_joint_delete(){}{}{} or else you will get an error!":"{}{}注意{}{} 如果您需要删除齿轮联接中涉及的两个实例中的任何一个 (或仅删除它们的联接)，则{}必须{}使用 {6}{7}{8}physics_joint_delete(){9}{10}{11} 删除齿轮联接，否则将出现错误！"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(e){json_global=e}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../..",gTopicId="8.2.2.13.4.0_6"</script><script type="text/javascript" src="../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>physics_joint_gear_create</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css"><script src="../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Reference page for physics_joint_gear_create"><meta name="rh-index-keywords" content="physics_joint_gear_create"><meta name="search-keywords" content="physics_joint_gear_create"><meta name="is_pure" content="true"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Physics/Joints/physics_joint_rope_create.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Physics/Joints/physics_joint_pulley_create.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="physics_joint_gear_create"><span>physics_joint_gear_create</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">physics_joint_gear_create</span></h1><p>If you want to create a sophisticated mechanical contraption you might want to use gears. In principle you can create gears in <span data-keyref="GameMaker Name">GameMaker</span> by using compounding instances to model gear teeth, but this is not very efficient and might be tedious to author! Thankfully there is a simpler method, and that is to use a <i>gear joint</i>. To make one you need to have previously defined your fixtures and created the two basic joints that are going to comprise your gear - these <b>must</b> be made up of one <a href="physics_joint_revolute_create.htm">revolute joint</a> and either a <a href="physics_joint_prismatic_create.htm">prismatic joint</a> or another <i>revolute joint</i>. The image below shows how a gear would typically be created in a game:</p><p><img alt="Gear joint illustration" class="center" src="../../../../assets/Images/Scripting_Reference/GML/Reference/Physics/gear_joint_image.png">So what happens? Well, once the two joints are added into the gear, interaction with one will have an effect on the other, so in the example image above, if you rotate inst2, inst3 will move up and down, or if you move inst3 up and down then inst2 will rotate. You can also change the gear ratio, meaning that you need to move one instance more (or less) to get the desired effect. The code in the example at the bottom shows how something like the image above can be created.</p><p class="note"><span data-conref="../../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;If you need to delete either of the two instances that are involved in the gear joint (or just delete their joints) then you <b>must</b> delete the gear joint first using <span style="font-size:1px"><a href="physics_joint_delete.htm"><span class="inline">physics_joint_delete()</span></a></span> or else you will get an error!</p><p>&nbsp;</p><h4>Syntax:</h4><p class="code"><span data-field="title" data-format="default">physics_joint_gear_create</span>(inst1, inst2, joint_1, joint_2, ratio)</p><table><tbody><tr><th>Argument</th><th>Type</th><th>Description</th></tr><tr><td>inst1</td><td><span data-keyref="Type_ID_Instance"><a target="_blank" href="../../Asset_Management/Instances/Instance_Variables/id.htm">Object Instance</a></span></td><td>The first instance to connect with the joint</td></tr><tr><td>inst2</td><td><span data-keyref="Type_ID_Instance"><a target="_blank" href="../../Asset_Management/Instances/Instance_Variables/id.htm">Object Instance</a></span></td><td>The second instance to connect with the joint</td></tr><tr><td>joint_1</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>A previously defined revolute joint</td></tr><tr><td>joint_2</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>A previously defined revolute <i>or</i> prismatic joint</td></tr><tr><td>ratio</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>Set the velocity ratio between the two joints</td></tr></tbody></table><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_ID_Physics_Joint"><a target="_blank" href="Joints.htm">Physics Joint ID</a></span></p><p>&nbsp;</p><h4>Example:</h4><p class="code">var t_fix, g_fix, inst1, inst2, inst3, r_joint, p_joint;<br>g_fix = physics_fixture_create();<br>physics_fixture_set_box_shape(g_fix, 40, 10);<br>t_fix = physics_fixture_create();<br>physics_fixture_set_circle_shape(t_fix, 10);<br>physics_fixture_set_density(t_fix, 0.5);<br>inst1 = instance_create_layer(60, room_height - 30, "Background", obj_Ground);<br>inst2 = instance_create_layer(40, room_height - 300, "Instances", obj_Cog);<br>inst3 = instance_create_layer(150, room_height - 300, "Instances", obj_Barrel);<br>physics_fixture_bind(g_fix, inst1);<br>physics_fixture_bind(t_fix, inst2);<br>physics_fixture_bind(t_fix, inst3);<br>r_joint = physics_joint_revolute_create(inst1, inst2, 40, room_height - 300, -80, 80, 1, 10, 0.5, 1, 0);<br>p_joint = physics_joint_prismatic_create(inst1, inst3, 150, room_height - 300, 0, 1, -10, 10, true, 0, 0, 0, 0);<br><span data-field="title" data-format="default">physics_joint_gear_create</span>(inst2, inst3, r_joint, p_joint, 0.5);</p><p>The above code creates and defines two fixture and then creates three instances, one "obj_Ground" and two others, "obj_Cog" and "obj_Barrel". The fixtures are then bound to these instances and two joints are created. A revolute joint between the ground and the cog, and a prismatic joint between the ground and the barrel. Finally a gear joint is created between the cog and barrel instances using the previously defined revolute and prismatic joints.</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="Joints.htm">Joints</a></div><div style="float:right">Next:&nbsp;<a href="physics_joint_rope_create.htm">physics_joint_rope_create</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>