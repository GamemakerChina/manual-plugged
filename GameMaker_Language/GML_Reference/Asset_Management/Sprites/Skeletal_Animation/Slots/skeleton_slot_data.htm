<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../../../assets/import/main.css"><script>let str;removeHtml=function(t){return t=(t=(t=(t=t.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(t){return t.match(/(<([^>]+)>)/gi)},setTranslator=function(t,e,a){let o;o=a?t.attr(a):t.html();let s=e[removeHtml(o)];if(null!=s&&s.length){e=retHtml(o);let n=0;e&&e.forEach(function(t,e){var a=s.replace("{"+n+"}",t);s=a===s?s.replace("{}",t):a,n++}),a?t.attr(a,s):t.html(s)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var t=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(t):($(".topic-header").append(t),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(t){return t.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"The ID of the DS list to populate with the DS maps.":"要用DS map填充的DS list的ID.",'The above code creates a DS list and then populates it with the slot data for the instance sprite. This data is then parsed to extract the individual DS maps with the slot data. This is then checked to see if there is an empty slot, and if so the variable "slot_name" is assigned the empty slot name before the DS map is destroyed. Finally we destroy the DS list as it is no longer required.':'上面的代码创建了一个DS list，然后用实例精灵的槽数据填充它。然后解析该数据以提取具有时隙数据的各个DS map。然后检查是否存在空槽，如果存在，则在销毁DS map之前为变量"slot_name"分配空槽名称。最后，我们销毁DS list，因为不再需要它。',"The sprite index of the Spine skeletal animation to get the data from.":"要从中获取数据的脊椎骨骼动画的精灵索引。","The values for each key will be strings and can then be used in the other skeleton attachment functions for these types of sprite. Note that the DS map created are {}not{} destroyed so you will need to loop through the DS list and destroy each of the created maps yourself.":"每个键的值将是字符串，然后可以在这些类型的精灵的其他骨骼附件函数中使用。请注意，创建的DSmap是{}而不是{}销毁的，因此您需要遍历DS列表并自行销毁创建的每个映射。","With this function you can populate a (pre-created) {}DS list{} with data for each of the available attachment slots that an animation contains. This data is returned in the forum of a {}DS map{} which contains the following key/value pairs:":"使用此函数，您可以使用动画包含的每个可用附件插槽的数据填充(预先创建的){}DS list{}。此数据在包含以下键/值对的{}DS map{}的论坛中返回：",'{}"attachment":{} The name of the attachment if one is used or "(none)" if there isn\'t one assigned.':'{}"attachment"：{}如果使用了附件，则为附件的名称；如果未分配附件，则为"(无)"。','{}"bone":{} The name of the bone.':'{}"bone"：{}骨头的名称。','{}"name":{} The name of the slot.':'{}"name"：{}插槽的名称。'},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(t){json_global=t}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../../../..",gTopicId="8.2.2.3.3.4.5.0_2"</script><script type="text/javascript" src="../../../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>skeleton_slot_data</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../../../assets/css/default.css" type="text/css"><script src="../../../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page explaining the function skeleton_slot_data"><meta name="rh-index-keywords" content="skeleton_slot_data"><meta name="search-keywords" content="skeleton_slot_data"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Asset_Management/Sprites/Skeletal_Animation/Slots/skeleton_slot_data_instance.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Asset_Management/Sprites/Skeletal_Animation/Slots/skeleton_slot_list.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="skeleton_slot_data"><span>skeleton_slot_data</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1>skeleton_slot_data</h1><p>With this function you can populate a (pre-created) <a href="../../../../Data_Structures/DS_Lists/DS_Lists.htm">DS list</a> with data for each of the available attachment slots that an animation contains. This data is returned in the forum of a <a href="../../../../Data_Structures/DS_Maps/DS_Maps.htm">DS map</a> which contains the following key/value pairs:</p><ul class="colour"><li><b>"name":</b> The name of the slot.</li><li><b>"bone":</b> The name of the bone.</li><li><b>"attachment":</b> The name of the attachment if one is used or "(none)" if there isn't one assigned.</li></ul><p>The values for each key will be strings and can then be used in the other skeleton attachment functions for these types of sprite. Note that the DS map created are <i>not</i> destroyed so you will need to loop through the DS list and destroy each of the created maps yourself.</p><p>&nbsp;</p><h4>Syntax:</h4><p class="code">skeleton_slot_data(sprite, list);</p><table><tbody><tr><th>Argument</th><th>Type</th><th>Description</th></tr><tr><td>sprite</td><td><span data-keyref="Type_Asset_Sprite"><a target="_blank" href="../../../../../../The_Asset_Editors/Sprites.htm">Sprite Asset</a></span></td><td>The sprite index of the Spine skeletal animation to get the data from.</td></tr><tr><td>list</td><td><span data-keyref="Type_ID_DS_List"><a target="_blank" href="../../../../Data_Structures/DS_Lists/ds_list_create.htm">DS List</a></span></td><td>The ID of the DS list to populate with the DS maps.</td></tr></tbody></table><p>&nbsp;</p><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_Void">N/A</span></p><p>&nbsp;</p><h4>Example:</h4><p class="code">var list = ds_list_create();<br>var open = true;<br>slot_name = "";<br>skeleton_slot_data(sprite_index, list);<br><br>for (var i = 0; i &lt; ds_list_size(list); i++)<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;var map = list[| i];<br>&nbsp;&nbsp;&nbsp;&nbsp;if open<br>&nbsp; &nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if map[? "attachment"] == "(none)"<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;open = false;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slot_name = map[? "name"];<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br><br>&nbsp;&nbsp;&nbsp;&nbsp;ds_map_destroy(map);<br>}<br><br>ds_list_destroy(list);</p><p>The above code creates a DS list and then populates it with the slot data for the instance sprite. This data is then parsed to extract the individual DS maps with the slot data. This is then checked to see if there is an empty slot, and if so the variable "slot_name" is assigned the empty slot name before the DS map is destroyed. Finally we destroy the DS list as it is no longer required.</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="Slots.htm">Slots</a></div><div style="float:right">Next:&nbsp;<a href="skeleton_slot_data_instance.htm">skeleton_slot_data_instance</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>