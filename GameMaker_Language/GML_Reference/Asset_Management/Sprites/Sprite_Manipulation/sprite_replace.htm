<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/main.css"><script>let str;removeHtml=function(e){return e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(e){return e.match(/(<([^>]+)>)/gi)},setTranslator=function(e,t,o){let n;n=o?e.attr(o):e.html();let r=t[removeHtml(n)];if(null!=r&&r.length){t=retHtml(n);let a=0;t&&t.forEach(function(e,t){var o=r.replace("{"+a+"}",e);r=o===r?r.replace("{}",e):o,a++}),o?e.attr(o,r):e.html(r)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var e=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(e):($(".topic-header").append(e),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(e){return e.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={'As you can see in the above image, the sprite has been placed on a dark purple background, and this can be removed by setting the "removeback" argument to {}true{}. This works by checking the {}bottom left{} pixel of the sprite for the colour there and then uses that as the colour to be removed. For example, in the above image, if we had the bottom left pixel colour as green, all the green parts of the sprite would have been removed and the rest of the purple background ignored.':"正如您在上图中所看到的，精灵被放置在深紫色的背景上，这可以通过将“ removeBack ”参数设置为{}true{}来删除。它的工作原理是检查精灵的{}左下{}像素的颜色，然后将其用作要删除的颜色。例如，在上面的图像中，如果我们将左下角的像素颜色设置为绿色，则精灵的所有绿色部分都将被删除，而紫色背景的其余部分将被忽略。","By default all new sprites have their bounding boxes calculated automatically (the exact bbox will depend on the size and transparency of the sprite), however you may wish to customise this, in which case you should also use the function {}{}sprite_collision_mask(){}{}.":"默认情况下，所有新的精灵都会自动计算其边界框(确切的边界框将取决于精灵的大小和透明度)，但是您可能希望对此进行自定义，在这种情况下，您还应该使用函数 {}{}sprite_collision_mask(){}{}。",'Finally you can also specify the x and y {}origin{} for the sprite. This is the point where the sprite is "fixed" onto the instance that uses it, and is always calculated as relative to the 0,0 top left corner of one sprite sub-image. So, for example, a sprite that is 32 x 32 pixels with these values set to (16,16) will have its origin in the center.':"最后，您还可以为精灵指定X和Y{}原点{}。这是精灵被“固定”到使用它的实例上的点，并且总是相对于一个精灵子图像的左上角0，0来计算。因此，例如，将这些值设置为(16，16)的32 X 32像素的精灵将使其原点位于中心。",'If you choose the "removeback" option, you may also want {}GameMaker{} to smooth the edges of the sprite by setting the "smooth" argument to {}true{}. All this does is create a semi-transparent border around the edges of the sprite after it has had its background removed.':"如果您选择“removeback”选项，您可能还希望 {}GameMaker{} 通过将“smooth”参数设置为 {}true{} 来平滑精灵的边缘。所有这些都是在精灵的背景被移除后，在精灵的边缘创建一个半透明的边界。","Indicates whether to make all pixels with the background colour (left-bottom pixel) transparent.":"指示是否将具有背景色的所有像素(左下像素)设置为透明。","Indicates whether to smooth the edges.":"指示是否平滑边缘。",'The above code will replace the image asset indexed in "spr_banner" with another one loaded from an external source.':"上面的代码将“ SPR_横幅”中索引的图像资源替换为从外部源加载的另一个图像资源。","The filename of the image to make the new sprite.":"要创建新精灵的图像的文件名。",'The image file to be loaded should {}always{} be in {}*.png{} format and all images that are to be turned into animated sprites should have a "strip" format (see the image below). They will be split into the number of sub-images specified following the rule {}sprite width = strip width / sub images{}.':"要加载的图像文件应 {} 始终 {} 在 {}*.png{} 格式和所有要转换为动画精灵的图像都应该具有“条带”格式(见下图)。它们将按照规则 {} 精灵宽度 = 条带宽度 / 子图像 {} 分割为指定数量的子图像。","The index of the sprite to permanently replace.":"要永久替换的精灵的索引。","The number of frames the sprite will be cut up into horizontally. Use 1 for one single image or&nbsp;{}*.gif{}.":"精灵将被水平分割的帧数。将1用于单个图像或{}*.GIF{}。","The x coordinate of the origin, relative to the sprite's top left corner.":"原点的X坐标，相对于精灵的左上角。","The y coordinate of the origin, relative to the sprite's top left corner.":"原点的Y坐标，相对于精灵的左上角。","This function works in almost the exact same manner as {}{}sprite_add(){}{}, only instead of returning the index of the sprite you are importing, it overwrites a previously created sprite index. When using this function you should use a sprite index that has been created and stored in a variable using other functions like {}{}sprite_add(){}{} or {}{}sprite_create_from_surface(){}{}, or even {}{}sprite_duplicate(){}{}, rather than a resource tree sprite asset. You {}can{} replace a sprite from the game assets using this function, but doing so means that you will lose the reference ID for the sprite that you are replacing, regardless of whether you call {}game_restart(){} or not, and so is not recommended. Regardless of the sprite being replaced, this function will {}create a new texture page for the sprite{} and so care should be taken when using it as it may adversely affect performance by increasing the number of required texture swaps for rendering.":"此函数的工作方式几乎与{}{}sprite_add(){}{}完全相同，唯一的不同之处在于，它不是返回正在导入的精灵的索引，而是覆盖以前创建的精灵索引。使用此函数时，您应该使用已创建并存储在变量中的精灵索引，而不是使用资源树精灵资源，该变量使用其他函数，如{}{}sprite_add(){}{}或{}{}sprite_create_from_surface(){}{}，或甚至{}{}sprite_duplicate(){}{}。您{}可以使用此函数{}替换游戏资源中的精灵，但这样做意味着您将丢失要替换的精灵的引用ID，无论您是否调用{}game_restart(){}，因此不建议这样做。无论替换哪个精灵，此函数都将{}为精灵创建一个新的纹理页面{}，因此在使用它时应小心，因为它可能会增加渲染所需的纹理交换数量，从而对性能产生不利影响。","{}NOTE{}: Depending on the target platform that is chosen you are limited as to where you can save and load files from. See {}File Handling{} for more information.":"{}注意{}：根据所选的目标平台，保存和加载文件的位置会受到限制。有关详细信息，请参阅{}文件处理{}。","{}NOTE{}: You should be aware that if you are using this function in your HTML5 target game to load resources from an external server, then, due to XSS protection in browsers, attempts to load resources from across domains can be blocked and may appear to return blank results.":"{}注意{}：请注意，如果您在HTML5目标游戏中使用此函数从外部服务器加载资源，则由于浏览器中的XSS保护，从跨域加载资源的尝试可能会被阻止，并且可能会返回空白结果。","{}{}NOTE{}{}&nbsp;Depending on the target platform that is chosen you are limited as to where you can save and load files from. See&nbsp;{}The File System{}&nbsp;for more information.":"{}{}注意{}{}根据所选的目标平台，您保存和加载文件的位置会受到限制。如需了解更多信息，请参阅{}文件系统{}。","{}{}NOTE{}{}&nbsp;You should be aware that if you are using this function in your HTML5 target game to load resources from an external server, then, due to XSS protection in browsers, attempts to load resources from across domains can be blocked and may appear to return blank results.":"{}{}注意{}{}您应该注意，如果您在 HTML5 目标游戏中使用此函数从外部服务器加载资源，那么，由于浏览器中的 XSS 保护，尝试跨域加载资源可能会失败。被阻止，并且可能会返回空白结果。"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(e){json_global=e}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../../..",gTopicId="8.2.2.3.3.2.0_10"</script><script type="text/javascript" src="../../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>sprite_replace</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../../assets/css/default.css" type="text/css"><script src="../../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page explaining the function sprite_replace"><meta name="rh-index-keywords" content="sprite_replace"><meta name="search-keywords" content="sprite_replace"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprite_Manipulation/sprite_duplicate.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprite_Manipulation/sprite_delete.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="sprite_replace"><span>sprite_replace</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1>sprite_replace</h1><p>This function works in almost the exact same manner as <a href="sprite_add.htm"><span class="inline">sprite_add()</span></a>, only instead of returning the index of the sprite you are importing, it overwrites a previously created sprite index. When using this function you should use a sprite index that has been created and stored in a variable using other functions like <a href="sprite_add.htm"><span class="inline">sprite_add()</span></a> or <a href="sprite_create_from_surface.htm"><span class="inline">sprite_create_from_surface()</span></a>, or even <a href="sprite_duplicate.htm"><span class="inline">sprite_duplicate()</span></a>, rather than a resource tree sprite asset. You <i>can</i> replace a sprite from the game assets using this function, but doing so means that you will lose the reference ID for the sprite that you are replacing, regardless of whether you call <span class="inline">game_restart()</span> or not, and so is not recommended. Regardless of the sprite being replaced, this function will <b>create a new texture page for the sprite</b> and so care should be taken when using it as it may adversely affect performance by increasing the number of required texture swaps for rendering.</p><p>The image file to be loaded should <b>always</b> be in <span class="inline">*.png</span> format and all images that are to be turned into animated sprites should have a "strip" format (see the image below). They will be split into the number of sub-images specified following the rule <b>sprite width = strip width / sub images</b>.</p><p><img alt="Example Sprite Strip" class="center" src="../../../../../assets/Images/Scripting_Reference/GML/Reference/Sprites/spr_strip.png"></p><p>As you can see in the above image, the sprite has been placed on a dark purple background, and this can be removed by setting the "removeback" argument to <span class="inline">true</span>. This works by checking the <i>bottom left</i> pixel of the sprite for the colour there and then uses that as the colour to be removed. For example, in the above image, if we had the bottom left pixel colour as green, all the green parts of the sprite would have been removed and the rest of the purple background ignored.</p><p>If you choose the "removeback" option, you may also want <span data-keyref="GameMaker Name">GameMaker</span> to smooth the edges of the sprite by setting the "smooth" argument to <span class="inline">true</span>. All this does is create a semi-transparent border around the edges of the sprite after it has had its background removed.</p><p>Finally you can also specify the x and y <i>origin</i> for the sprite. This is the point where the sprite is "fixed" onto the instance that uses it, and is always calculated as relative to the 0,0 top left corner of one sprite sub-image. So, for example, a sprite that is 32 x 32 pixels with these values set to (16,16) will have its origin in the center.</p><p>By default all new sprites have their bounding boxes calculated automatically (the exact bbox will depend on the size and transparency of the sprite), however you may wish to customise this, in which case you should also use the function <a href="sprite_collision_mask.htm"><span class="inline">sprite_collision_mask()</span></a>.</p><div data-conref="../../../../../assets/snippets/Note_File_Handling_Limitations.hts"><p class="note"><span data-conref="../../../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;Depending on the target platform that is chosen you are limited as to where you can save and load files from. See&nbsp;<a href="../../../../../Additional_Information/The_File_System.htm">The File System</a>&nbsp;for more information.</p></div><p class="note"><span data-conref="../../../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;You should be aware that if you are using this function in your HTML5 target game to load resources from an external server, then, due to XSS protection in browsers, attempts to load resources from across domains can be blocked and may appear to return blank results.</p><p>&nbsp;</p><h4>Syntax:</h4><p class="code">sprite_replace(ind, fname, imgnumb, removeback, smooth, xorig, yorig);</p><table><tbody><tr><th>Argument</th><th>Type</th><th>Description</th></tr><tr><td>ind</td><td><span data-keyref="Type_Asset_Sprite"><a target="_blank" href="../../../../../The_Asset_Editors/Sprites.htm">Sprite Asset</a></span></td><td>The index of the sprite to permanently replace.</td></tr><tr><td>fname</td><td><span data-keyref="Type_String"><a target="_blank" href="../../../../GML_Overview/Data_Types.htm">String</a></span></td><td>The filename of the image to make the new sprite.</td></tr><tr><td>imgnumb</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The number of frames the sprite will be cut up into horizontally. Use 1 for one single image or&nbsp;<span class="inline">*.gif</span>.</td></tr><tr><td>removeback</td><td><span data-keyref="Type_Bool"><a target="_blank" href="../../../../GML_Overview/Data_Types.htm">Boolean</a></span></td><td>Indicates whether to make all pixels with the background colour (left-bottom pixel) transparent.</td></tr><tr><td>smooth</td><td><span data-keyref="Type_Bool"><a target="_blank" href="../../../../GML_Overview/Data_Types.htm">Boolean</a></span></td><td>Indicates whether to smooth the edges.</td></tr><tr><td>xorig</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The x coordinate of the origin, relative to the sprite's top left corner.</td></tr><tr><td>yorig</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The y coordinate of the origin, relative to the sprite's top left corner.</td></tr></tbody></table><p>&nbsp;</p><h4>Returns</h4><p class="code"><span data-keyref="Type_Void">N/A</span></p><p>&nbsp;</p><h4>Example:</h4><p class="code">sprite_replace(spr_banner, "gravemaker.png", 1, false, false, 0, 0);</p><p>The above code will replace the image asset indexed in "spr_banner" with another one loaded from an external source.</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="Sprite_Manipulation.htm">Sprite Manipulation</a></div><div style="float:right">Next:&nbsp;<a href="sprite_duplicate.htm">sprite_duplicate</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>