<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/main.css"><script>let str;removeHtml=function(e){return e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(e){return e.match(/(<([^>]+)>)/gi)},setTranslator=function(e,t,n){let a;a=n?e.attr(n):e.html();let i=t[removeHtml(a)];if(null!=i&&i.length){t=retHtml(a);let o=0;t&&t.forEach(function(e,t){var n=i.replace("{"+o+"}",e);i=n===i?i.replace("{}",e):n,o++}),n?e.attr(n,i):e.html(i)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var e=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(e):($(".topic-header").append(e),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(e){return e.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"A diamond collision mask shape":"一种菱形碰撞面罩形状，","A precise collision mask, where the mask will conform to the non-transparent pixels of the sprite, based on the tolerance value given (see below))":"精确的碰撞遮罩，其中遮罩将与精灵的非透明像素一致，基于给定的公差值(见下文))","A rectangular (non-rotating) rectangle collision mask shape":"矩形(非旋转)碰撞屏蔽形状","An elliptical collision mask shape":"椭圆形碰撞掩模形状","Bounding Box Kind (Shape) Constant":"Bounding Box种类(形状)常量","Indicates the tolerance in the transparency value (0=no tolerance, 255=full tolerance).":"指示透明度值中的公差(0=无公差，255=完全公差)。","Setting the kind of mask sets the general shape for the mask itself, but note that anything other than a rectangular mask will require more processing power when resolving collisions, with a subsequent drop in performance. In general, you should only use mask types other than rectangular when absolutely necessary.":"设置遮罩类型可设置遮罩本身的一般形状，但请注意，在解决冲突时，除矩形遮罩以外的任何遮罩都将需要更多的处理能力，从而导致性能下降。通常，只有在绝对必要的情况下，才应使用矩形以外的遮罩类型。",'The above code loads a sprite from an external source and stores the new index in the variable "spr". The code then sets the new sprite to have a precise collision mask for each of its sub-images.':"上面的代码从外部源加载精灵，并将新索引存储在变量“ SPR ”中。然后，代码将新精灵设置为对其每个子图像具有精确的碰撞遮罩。","The index of the sprite to set the bounding box of.":"要设置边界框的精灵的索引。","The kind of mask that can be set will be one of the following constants:":"可以设置的掩码类型为以下常量之一：","The kind of mask, a constant (see the table in the description).":"掩码的种类，常量(参见说明中的表)。","The maximum bottom position of the bounding box.":"边界框的最大底部位置。","The maximum left position of the bounding box.":"边界框的最大左侧位置。","The maximum right position of the bounding box.":"边界框的最大右侧位置。","The maximum top position of the bounding box.":"边界框的最大顶部位置。","What kind of bounding box to use. 0 = automatic, 1 = full image, 2 = user defined.":"使用哪种边界框。0=自动，1=完整映像，2=用户定义。","Whether to create collision masks for each sub-image of the sprite ({}true{}), or one mask for all ({}false{}).":"是为精灵的每个子图像创建碰撞遮罩({}true{})，还是为所有子图像创建一个遮罩({}false{})。","With this function you can set the properties of the collision mask that a sprite should have. If you select either automatic (0) or full image (1) as the bounding box mode then the individual bounding box values can be set to 0. However for a user defined mask (2) you will have to set these values. The different bounding box values are always relative to the top left corner of the sprite (irrespective of the x and y origin) which is considered position (0, 0).":"使用此函数，您可以设置sprite应具有的碰撞遮罩的属性。如果选择“自动”(0)或“完整图像”(1)作为边界框模式，则可以将各个边界框值设置为0。但是，对于用户定义的掩码(2)，您必须设置这些值。不同的边界框值始终相对于精灵的左上角(与X和Y原点无关)，即位置(0，0)。",'{} Finally, tolerance is used to define how precise the precise the mask is (when used with a "full image" mask, this will have no effect), with a tolerance of 0 meaning that the mask will follow every single pixel that has a transparency over 0, while other values will shift the collision mask perimeter depending on the transparency of the pixels.':"{}最后，容差用于定义遮罩的精确程度(当与“全图像”遮罩一起使用时，这将不起作用)，容差为0表示遮罩将跟随透明度大于0的每个像素，而其他值将根据像素的透明度移动碰撞遮罩周长。",'{} Finally, tolerance is used to define how precise&nbsp;the mask is (when used with a "full image" mask, this will have no effect), with a tolerance of 0 meaning that the mask will follow every single pixel that has a transparency over 0, while other values will shift the collision mask perimeter depending on the transparency of the pixels.':'{}最后，容差用于定义遮罩的精确度(与"完整图像"遮罩一起使用时，这不会产生任何效果)，容差为 0 意味着遮罩将遵循具有透明度的每个像素超过 0，而其他值将根据像素的透明度改变碰撞蒙版周长。',"{}NOTE{}: This function does not permit the {}rotated rectangle{} collision mask kind.":"{}注意{}：此函数不允许{}旋转矩形{}碰撞掩码类型。","{}NOTE{}: This function is only useful for {}bitmap{} sprites and will not work with SWF or JSON (Spine) sprites.":"{}注意{}：此函数仅适用于{}位图{}精灵，不适用于SWF或JSON(脊柱)精灵。","{}NOTE{}: This function will only work on added sprites or duplicated sprites and {}not{} directly on pre-made resources. You can duplicate sprites using the function {}{}{}sprite_duplicate(){}{}{}.":"{}注意{}：此函数只对添加的精灵或复制的精灵起作用，{}不能{}直接对预先制作的资源起作用。您可以使用函数{}{}{}sprite_duplicate(){}{}{})来复制sprite.","{}{}NOTE{}{}&nbsp;This function does not permit the {}rotated rectangle{} collision mask kind.":"{}{}注意{}{}此函数不允许{}旋转矩形{}碰撞掩码类型。","{}{}NOTE{}{}&nbsp;This function is only useful for {}bitmap{} sprites and will not work with SWF or JSON (Spine) sprites.":"{}{}注意{}{}此函数仅适用于{}位图{}精灵，不适用于 SWF 或 JSON(Spine) 精灵。","{}{}NOTE{}{}&nbsp;This function will only work on added sprites or duplicated sprites and {}not{} directly on pre-made resources. You can duplicate sprites using the function {}{}{}sprite_duplicate(){}{}{}.":"{}{}注意{}{}此函数仅适用于添加的精灵或重复的精灵，{}不能{}直接适用于预制资源。您可以使用函数{}{}{}sprite_duplicate(){}{}{}复制精灵。"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(e){json_global=e}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../../..",gTopicId="8.2.2.3.3.2.0_1"</script><script type="text/javascript" src="../../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>sprite_collision_mask</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../../assets/css/default.css" type="text/css"><script src="../../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page explaining the function sprite_collision_mask"><meta name="rh-index-keywords" content="sprite_collision_mask,bboxkind_precise,bboxkind_diamond,bboxkind_ellipse,bboxkind_rectangular"><meta name="search-keywords" content="sprite_collision_mask,bboxkind_rectangular,bboxkind_ellipse,bboxkind_diamond,bboxkind_precise"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprite_Manipulation/sprite_set_offset.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprite_Manipulation/Sprite_Manipulation.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="sprite_collision_mask"><span>sprite_collision_mask</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1>sprite_collision_mask</h1><p>With this function you can set the properties of the collision mask that a sprite should have. If you select either automatic (0) or full image (1) as the bounding box mode then the individual bounding box values can be set to 0. However for a user defined mask (2) you will have to set these values. The different bounding box values are always relative to the top left corner of the sprite (irrespective of the x and y origin) which is considered position (0, 0).</p><p>Setting the kind of mask sets the general shape for the mask itself, but note that anything other than a rectangular mask will require more processing power when resolving collisions, with a subsequent drop in performance. In general, you should only use mask types other than rectangular when absolutely necessary.</p><p class="note"><span data-conref="../../../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;This function does not permit the <b>rotated rectangle</b> collision mask kind.</p><p>The kind of mask that can be set will be one of the following constants:</p><table><colgroup><col><col></colgroup><tbody><tr><th colspan="2"><span data-keyref="Type_Constant_Bbox_Kind"><a target="_blank" href="sprite_collision_mask.htm">Bounding Box Kind (Shape) Constant</a></span></th></tr><tr><th>Constant</th><th>Description</th></tr><tr><td><span class="inline">bboxkind_rectangular</span></td><td>A rectangular (non-rotating) rectangle collision mask shape</td></tr><tr><td><span class="inline">bboxkind_ellipse</span></td><td>An elliptical collision mask shape</td></tr><tr><td><span class="inline">bboxkind_diamond</span></td><td>A diamond collision mask shape</td></tr><tr><td><span class="inline">bboxkind_precise</span></td><td>A precise collision mask, where the mask will conform to the non-transparent pixels of the sprite, based on the tolerance value given (see below))</td></tr></tbody></table><p><br>Finally, tolerance is used to define how precise&nbsp;the mask is (when used with a "full image" mask, this will have no effect), with a tolerance of 0 meaning that the mask will follow every single pixel that has a transparency over 0, while other values will shift the collision mask perimeter depending on the transparency of the pixels.</p><p class="note"><span data-conref="../../../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;This function is only useful for <b>bitmap</b> sprites and will not work with SWF or JSON (Spine) sprites.</p><p class="note"><span data-conref="../../../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;This function will only work on added sprites or duplicated sprites and <b>not</b> directly on pre-made resources. You can duplicate sprites using the function <span style="font-size:1px"><a href="sprite_duplicate.htm"><span class="inline">sprite_duplicate()</span></a></span>.</p><p>&nbsp;</p><h4>Syntax:</h4><p class="code">sprite_collision_mask(ind, sepmasks, bboxmode, bbleft, bbtop, bbright, bbbottom, kind, tolerance);</p><table><tbody><tr><th>Argument</th><th>Type</th><th>Description</th></tr><tr><td>ind</td><td><span data-keyref="Type_Asset_Sprite"><a target="_blank" href="../../../../../The_Asset_Editors/Sprites.htm">Sprite Asset</a></span></td><td>The index of the sprite to set the bounding box of.</td></tr><tr><td>sepmasks</td><td><span data-keyref="Type_Bool"><a target="_blank" href="../../../../GML_Overview/Data_Types.htm">Boolean</a></span></td><td>Whether to create collision masks for each sub-image of the sprite (<span class="inline">true</span>), or one mask for all (<span class="inline">false</span>).</td></tr><tr><td>bboxmode</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>What kind of bounding box to use. 0 = automatic, 1 = full image, 2 = user defined.</td></tr><tr><td>bbleft</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The maximum left position of the bounding box.</td></tr><tr><td>bbtop</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The maximum top position of the bounding box.</td></tr><tr><td>bbright</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The maximum right position of the bounding box.</td></tr><tr><td>bbbottom</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The maximum bottom position of the bounding box.</td></tr><tr><td>kind</td><td><span data-keyref="Type_Constant_Bbox_Kind"><a target="_blank" href="sprite_collision_mask.htm">Bounding Box Kind (Shape) Constant</a></span></td><td>The kind of mask, a constant (see the table in the description).</td></tr><tr><td>tolerance</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>Indicates the tolerance in the transparency value (0=no tolerance, 255=full tolerance).</td></tr></tbody></table><p>&nbsp;</p><h4>Returns</h4><p class="code"><span data-keyref="Type_Void">N/A</span></p><p>&nbsp;</p><h4>Example:</h4><p class="code">spr = sprite_add("player_5.png", 16, true, true, 0, 0);<br>sprite_collision_mask(spr, true, 1, 0, 0, 0, 0, 0, 0);</p><p>The above code loads a sprite from an external source and stores the new index in the variable "spr". The code then sets the new sprite to have a precise collision mask for each of its sub-images.</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="Sprite_Manipulation.htm">Sprite Manipulation</a></div><div style="float:right">Next:&nbsp;<a href="sprite_nineslice_create.htm">sprite_nineslice_create</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>