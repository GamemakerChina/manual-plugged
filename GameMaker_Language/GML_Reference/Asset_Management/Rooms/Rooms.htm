<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/main.css"><script>let str;removeHtml=function(e){return e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(e){return e.match(/(<([^>]+)>)/gi)},setTranslator=function(e,t,n){let a;a=n?e.attr(n):e.html();let r=t[removeHtml(a)];if(null!=r&&r.length){t=retHtml(a);let o=0;t&&t.forEach(function(e,t){var n=r.replace("{"+o+"}",e);r=n===r?r.replace("{}",e):n,o++}),n?e.attr(n,r):e.html(r)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var e=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(e):($(".topic-header").append(e),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(e){return e.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"An important thing to note when creating room layers is that {}you can have multiple different element types on one layer{}. So, for example, you may have a layer for enemies, and on that layer have the enemy instances as well as certain sprite assets that are only related to that enemy. Or you could have a background element with a tile map element to create the look of a room. This is not permitted in the room editor, but when creating things dynamically you can do this, which is why functions like {}{}layer_get_all_elements(){}{}&nbsp;exist.":"创建房间图层时需要注意的是，{}在一个层上可以有多个不同的元素类型{}。 所以，例如，你可能有一个敌人的层，在这个层上有敌人实例以及某些与敌人有关的精灵资源。或者，您可以使用带有图块地图元素的背景元素来创建房间的外观。这在房间编辑器中是不允许的，但在动态创建对象时，可以执行此操作，这就是为什么存在类似{}{}layer_get_all_elements(){}{}的函数的原因。","Background Layers":"背景图层","Filter and Effect Functions":"滤镜和效果函数","Function Reference":"功能参考","General Layer Functions":"常规图层函数",Global:"全局",Information:"信息","Modifying Rooms":"修改房间","Next, we have a series of functions that can be used to change rooms and their contents or even create new rooms and add to them. It should be noted that these functions should {}never be run from within the room that you wish to change{}, but rather be run from an instance in another room first. Also note that if you change any room asset in this way, the change is&nbsp;{}permanent{} and will be maintained for the entire duration of the game, even if you call the room_restart() function (closing and restarting the game will reset the room properties though).":"接下来，我们有一系列函数可以用来更改房间及其内容，甚至可以创建新房间并添加到其中。应该注意的是，这些函数{}不应在你想要更改的房间内运行{}，而应先从另一个房间的实例中运行。另请注意，如果你以这种方式更改任何房间资源，则更改将是{}永久的{}，即使你调用了 room_restart() 函数(但关闭和重启游戏会重置房间属性)，更改将在游戏的整个持续时间内保持不变。","Room Layers &amp; Elements":"房间层数和元素",Rooms:"房间","Rooms are created in the {}Room Editor{} in {}GameMaker{}{}&nbsp;and&nbsp;{}are where everything happens in your game. You must have at least one room in any game for it to run, but you may need many more depending on the type of game and how you structure your project. This section has all the general GML functions and variables related to rooms and for getting information about them as well as for setting certain properties within them.":"房间是在{}GameMaker{}{}中的{}房间编辑器{}中创建的，{}是游戏中发生一切的地方。你必须在任何游戏中至少有一个房间来运行它，但你可能需要更多，这取决于游戏的类型和你如何构建你的项目。本节包含与房间相关的所有通用GML函数和变量，用于获取有关房间的信息以及设置房间中的某些属性。","Rooms are created in {}The Room Editor{}&nbsp;in {}GameMaker{}{}&nbsp;and&nbsp;{}are where everything happens in your game. You must have at least one room in any game for it to run, but you may need many more depending on the type of game and how you structure your project. This section has all the general GML functions and variables related to rooms and for getting information about them as well as for setting certain properties within them.":"房间是在 {}GameMaker{}{} 的 {0} 房间编辑器 {1} 中创建的，并且是游戏中所有事情发生的地方。在任何游戏中，您都必须至少拥有一个房间才能运行，但您可能需要更多房间，具体取决于游戏类型以及您构建项目的方式。本节包含与房间相关的所有通用 GML 函数和变量，用于获取有关房间的信息以及设置其中的某些属性。","Sequence Layers":"序列图层","Sprite Layers":"精灵图层","Switching Rooms":"切换房间","The following&nbsp;{}global variables{}&nbsp;and functions can be used for getting basic information about any given room:":"以下{}全局变量{}和函数可用于获取有关任何给定房间的基本信息：","There are also a number of different functions related to creating and manipulating the different types of elements that can be placed on layers in the room. These functions are listed in the appropriate sections for each element type listed below:":"还有许多与创建和操作不同类型的元素相关的不同函数，这些元素可以放置在房间中的层上。这些函数在下面列出的每个元素类型的相应部分中列出：","Tile Map Layers":"图块集层","You can also use the following functions to find&nbsp;out if a room exists,&nbsp;get its name (as defined in {}The Asset Browser{}) and general info:&nbsp;":"您还可以使用以下函数来查明房间是否存在、获取其名称 (如 {} 资产浏览器 {} 中所定义) 和一般信息：","You can also use the following functions to get the name of the current room (as defined in the {}Asset Browser{}) as well as move between rooms:":"您还可以使用以下函数来获取当前房间的名称(如{}资源浏览器{}中所定义)以及在房间之间移动：","{}NOTE{} The variables listed above will not be valid in a script, as scripts are executed before the first room is loaded.{} {} This only applies to code written at the root of a script, but not to functions created inside scripts, as those functions can be executed at any time during the game. ":"{}注意{}上面列出的变量在脚本中无效，因为脚本在加载第一个房间之前执行。{}{}这仅适用于在脚本根处编写的代码，但不适用于在脚本中创建的函数，因为这些函数可以在游戏中的任何时间执行。","{}{}IMPORTANT{}{}&nbsp;When creating room layers&nbsp;{}you can have multiple different element types on one layer{}. So, for example, you may have a layer for enemies, and on that layer have the enemy instances as well as certain sprite assets that are only related to that enemy. Or you could have a background element with a tile map element to create the look of a room. This is not permitted in {}The Room Editor{}, but when creating things dynamically you can do this, which is why functions like&nbsp;{}{}layer_get_all_elements{}{} exist.":"{}{} 重要提示{}{} 创建房间层时 {} 您可以在一个层上拥有多种不同的元素类型 {}。因此，例如，您可能有一个敌人层，并且该层上有敌人实例以及仅与该敌人相关的某些精灵资产。或者，您可以使用带有图块地图元素的背景元素来创建房间的外观。这在 {} 房间编辑器 {} 中是不允许的，但在动态创建内容时您可以这样做，这就是存在 {}{}layer_get_all_elements{}{} 等函数的原因。","{}{}NOTE{}{}&nbsp;If you change any room asset in this way, the change is&nbsp;{}permanent{} and will be maintained for the entire duration of the game, even if you call the&nbsp;{}{}room_restart{}{} function (closing and restarting the game will reset the room properties though).":"{}{} 注意{}{} 如果您以这种方式更改任何房间资产，则该更改是 {} 永久 {} 的，并且将在整个游戏期间保持不变，即使您调用 {}{}room_restart{}{} 函数 (关闭并重新启动游戏将重置房间属性)。","{}{}NOTE{}{}&nbsp;The variables listed above will not be valid in a script, as scripts are executed before the first room is loaded.{} {} This only applies to code written at the root of a script, but not to functions created inside scripts, as those functions can be executed at any time during the game. ":"{}{} 注意{}{} 上面列出的变量在脚本中无效，因为脚本是在加载第一个房间之前执行的。{}{} 这仅适用于在脚本根部编写的代码，但不要在脚本内创建的函数，因为这些函数可以在游戏过程中随时执行。","{}{}NOTE{}{}&nbsp;These functions should {}never be run from within the room that you wish to change{}, but rather be run from an instance in another room first.":"{}{} 注意{}{} 这些函数 {} 不应从您希望更改的房间内运行 {}，而应首​​先从另一个房间中的实例运行。"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(e){json_global=e}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../..",gTopicId="8.2.2.3.14"</script><script type="text/javascript" src="../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Rooms</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css"><script src="../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page outlining the different functions and variables associated with Rooms"><meta name="rh-index-keywords" content=""><meta name="search-keywords" content="Rooms"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Asset_Management/Rooms/room_first.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Asset_Management/Instances/alarm_set.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="Rooms"><span>Rooms</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">Rooms</span></h1><p>Rooms<span>&nbsp;</span>are where everything happens in your game. You create them in the <a href="../../../../The_IDE/The_IDE.htm" title="GameMaker IDE">IDE</a> using&nbsp;<a href="../../../../The_Asset_Editors/Rooms.htm">The Room Editor</a>&nbsp;or at runtime using the functions under <a href="Rooms.htm#modifying_rooms" title="functions for Modifying Rooms">Modifying Rooms</a>.</p><p>Any&nbsp;<span data-keyref="GameMaker Name">GameMaker</span>&nbsp;game must have at least one room in it for it to run, but you may need many more depending on the type of game and how you structure your project. By default, a new&nbsp;<span data-keyref="GameMaker Name">GameMaker</span>&nbsp;project has a single room added to it.</p><p>This section has all the general GML functions and variables related to rooms, for getting information about them as well as for setting certain properties within them.</p><h2 id="func_ref">Function Reference</h2><h3 id="global">Global</h3><p>The following&nbsp;<a href="../../../GML_Overview/Variables/Global_Variables.htm">global variables</a>&nbsp;and functions can be used for getting basic information about any given room:</p><ul class="colour"><li><a href="room_first.htm">room_first</a></li><li><a href="room_last.htm">room_last</a></li><li><a href="room_next.htm">room_next</a></li><li><a href="room_previous.htm">room_previous</a></li><li><a href="room.htm">room</a></li><li><a href="room_speed.htm">room_speed</a>&nbsp;<span data-conref="../../../../assets/snippets/Tag_deprecated.hts"><span class="warning">DEPRECATED</span></span></li><li><a href="room_height.htm">room_height</a></li><li><a href="room_width.htm">room_width</a></li><li><a href="room_persistent.htm">room_persistent</a></li></ul><p class="note"><span data-conref="../../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;The variables listed above will not be valid in a script, as scripts are executed before the first room is loaded.<br><br>This only applies to code written at the root of a script, but not to functions created inside scripts, as those functions can be executed at any time during the game.</p><h3 id="information">Information</h3><p>You can also use the following functions to find&nbsp;out if a room exists,&nbsp;get its name (as defined in <a href="../../../../Introduction/The_Asset_Browser.htm">The Asset Browser</a>) and general info:&nbsp;</p><ul class="colour"><li><a href="room_exists.htm">room_exists</a></li><li><a href="room_get_name.htm">room_get_name</a></li><li><a href="room_get_info.htm">room_get_info</a></li></ul><h3 id="switching_rooms">Switching Rooms</h3><ul class="colour"><li><a href="room_goto.htm">room_goto</a></li><li><a href="room_goto_next.htm">room_goto_next</a></li><li><a href="room_goto_previous.htm">room_goto_previous</a></li><li><a href="room_restart.htm">room_restart</a></li></ul><h3 id="modifying_rooms">Modifying Rooms</h3><p class="note"><span data-conref="../../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;These functions should <i>never be run from within the room that you wish to change</i>, but rather be run from an instance in another room first.</p><p class="note"><span data-conref="../../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;If you change any room asset in this way, the change is&nbsp;<strong>permanent</strong> and will be maintained for the entire duration of the game, even if you call the&nbsp;<span class="inline3_func"><a href="room_restart.htm">room_restart</a></span> function (closing and restarting the game will reset the room properties though).</p><ul class="colour"><li><a href="room_add.htm">room_add</a></li><li><a href="room_duplicate.htm">room_duplicate</a></li><li><a href="room_assign.htm">room_assign</a></li><li><a href="room_instance_add.htm">room_instance_add</a></li><li><a href="room_instance_clear.htm">room_instance_clear</a></li><li><a href="room_set_height.htm">room_set_height</a></li><li><a href="room_set_width.htm">room_set_width</a></li><li><a href="room_set_persistent.htm">room_set_persistent</a></li><li><a href="room_set_view_enabled.htm">room_set_view_enabled</a></li><li><a href="room_set_viewport.htm">room_set_viewport</a></li><li><a href="room_get_viewport.htm">room_get_viewport</a></li><li><a href="room_set_camera.htm">room_set_camera</a></li><li><a href="room_get_camera.htm">room_get_camera</a></li></ul><h3 id="room_layers_elements">Layers and Elements</h3><ul class="colour"><li><a href="General_Layer_Functions/General_Layer_Functions.htm">Layers</a></li><li><a href="Tile_Map_Layers/Tile_Map_Layers.htm">Tile Map Elements</a></li><li><a href="Background_Layers/Background_Layers.htm">Background Elements</a></li><li><a href="Sprite_Layers/Sprite_Layers.htm">Sprite Elements</a></li><li><a href="Sequence_Layers/Sequence_Layers.htm">Sequence Elements</a></li><li>Particle System Elements:&nbsp;<a href="../../Drawing/Particles/Particle_Systems/part_system_create_layer.htm">part_system_create_layer</a></li></ul><h3>Filters and Effects</h3><ul class="colour"><li><a href="Filter_Effect_Layers/Filter_Effect_Functions.htm">Filter and Effect Functions</a></li></ul><p class="note"><span data-conref="../../../../assets/snippets/Tag_important.hts"><span class="important">IMPORTANT</span></span>&nbsp;When creating room layers&nbsp;<i>you can have multiple different element types on one layer</i>. So, for example, you may have a layer for enemies, and on that layer have the enemy instances as well as certain sprite assets that are only related to that enemy. Or you could have a background element with a tile map element to create the look of a room. This is not permitted in <a href="../../../../The_Asset_Editors/Rooms.htm">The Room Editor</a>, but when creating things dynamically you can do this, which is why functions like&nbsp;<span class="inline3_func"><a href="General_Layer_Functions/layer_get_all_elements.htm">layer_get_all_elements</a></span> exist.</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back:&nbsp;<a href="../Asset_Management.htm">Asset Management</a></div><div style="float:right">Next:&nbsp;<a href="../Extensions/Extensions.htm">Extensions</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>