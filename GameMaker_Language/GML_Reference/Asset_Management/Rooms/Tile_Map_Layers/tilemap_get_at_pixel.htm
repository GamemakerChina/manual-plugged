<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/main.css"><script>let str;removeHtml=function(t){return t=(t=(t=(t=t.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(t){return t.match(/(<([^>]+)>)/gi)},setTranslator=function(t,e,a){let o;o=a?t.attr(a):t.html();let i=e[removeHtml(o)];if(null!=i&&i.length){e=retHtml(o);let n=0;e&&e.forEach(function(t,e){var a=i.replace("{"+n+"}",t);i=a===i?i.replace("{}",t):a,n++}),a?t.attr(a,i):t.html(i)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var t=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(t):($(".topic-header").append(t),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(t){return t.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={'The above code gets the ID for the tile map "Clouds" on the layer "Tiles_Sky" and then uses that to get the data from the tile at position (64, 128). This tile data is then flipped before being used to set the tile on the tile map again.':'上面的代码获取"Tiles_Sky"层上的图块映射"云"的ID，然后使用该ID从位置(64，128)的图块中获取数据。然后翻转此图块数据，然后再用于设置图块贴图上的图块。',"The position along the x-axis to get the tile data from (in room pixels)":"沿x轴从(房间像素中)获取图块数据的位置","The position along the y-axis to get the tile data from (in room pixels)":"沿y轴从(房间像素中)获取图块数据的位置","The unique ID value of the tile map element to get the tile-data of":"图块图元素的唯一ID值，用于获取",'Using this function you can retrieve the tile data from a position (within the room) of the tile map element. You give the tile map element ID (which you get when you create a tile map element using {}{}layer_tilemap_create(){}{} or when you use the function {}{}layer_tilemap_get_id(){}{}) as well as the x and y position {}in the room{} to get the tile data from and the function will return the tile data "blob". This data is essentially a bit mask that contains the tile index, the flip/rotate/mirror booleans and any mask data that has been applied (see {}{}tilemap_set_mask(){}{} for details), and the resulting data value can then be used in the {}tile_*{}&nbsp;functions to change a tiles properties. If you need to get the tile data from a specific tile cell you should be using the function {}{}tilemap_get(){}{} instead.':'使用此函数，您可以从图块地图元素的某个位置(在房间内)检索图块数据。您可以提供互动程序地图元素Id(当您使用{}{}layer_tilemap_create(){}{}创建互动程序地图元素时，或者当您使用函数{}{}layer_tilemap_get_id(){}{})以及房间{}中的x和y位置{}从中获取互动程序地图元素数据时，将获得此ID，并且此函数将返回互动程序数据"blob"。此数据基本上是一个位掩码，其中包含互动程序索引、翻转/旋转/镜像布尔值和已应用的任何掩码数据(有关详细信息，请参见{}{}tilemap_set_mask(){}{})，然后可以在{}互动程序{}函数中使用生成的数据值来更改互动程序属性。如果需要从特定的互动程序单元格获取互动程序数据，则应改用函数{}{}tilemap_get(){}{}。','{}IMPORTANT!{} If the tiles in the tile map have been unchanged (ie: they are {}not{} rotated or flipped etc...), then the return value of the tile set data will be exactly equal to the index of the tile on the tile set. So you can create "collision maps" of tiles using one tile at index 1 in the tile set - for example - then use this function to check for 1 or 0 (an empty tile) to calculate collisions.':'{}重要！{} 如果图块地图中的图块未更改(即：它们{}不{}旋转或翻转等...)，则图块集数据的返回值将恰好等于图块集上的图块的索引。因此，您可以使用图块集中索引为1的一个图块创建图块的"碰撞贴图"-例如-然后使用此函数检查1或0(空图块)以计算碰撞。'},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(t){json_global=t}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../../..",gTopicId="8.2.2.3.14.2.0_26"</script><script type="text/javascript" src="../../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>tilemap_get_at_pixel</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../../assets/css/default.css" type="text/css"><script src="../../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page outlining the function tilemap_get_at_pixel"><meta name="rh-index-keywords" content="tilemap_get_at_pixel"><meta name="search-keywords" content="tilemap_get_at_pixel"><meta name="is_pure" content="true"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Asset_Management/Rooms/Tile_Map_Layers/tilemap_get_cell_x_at_pixel.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Asset_Management/Rooms/Tile_Map_Layers/tilemap_get.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="tilemap_get_at_pixel"><span>tilemap_get_at_pixel</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">tilemap_get_at_pixel</span></h1><p>Using this function you can retrieve the tile data from a position (within the room) of the tile map element.</p><p>You give the tile map element ID (which you get when you create a tile map element using <a href="layer_tilemap_create.htm"><span class="inline">layer_tilemap_create()</span></a> or when you use the function <a href="layer_tilemap_get_id.htm"><span class="inline">layer_tilemap_get_id()</span></a>) as well as the x and y position <i>in the room</i> to get the tile data from and the function will return the tile data "blob". This data is essentially a bit mask that contains the tile index, the flip/rotate/mirror booleans and any mask data that has been applied (see <a href="tilemap_set_mask.htm"><span class="inline">tilemap_set_mask()</span></a> for details), and the resulting data value can then be used in the <span class="inline">tile_*</span>&nbsp;functions to change a tiles properties. If you need to get the tile data from a specific tile cell you should be using the function <a href="tilemap_get.htm"><span class="inline">tilemap_get()</span></a> instead.</p><p class="note"><span data-conref="../../../../../assets/snippets/Tag_important.hts"><span class="important">IMPORTANT</span></span>&nbsp;If the tiles in the tile map have been unchanged (i.e.: they are <b>not</b> rotated, flipped, etc.), then the return value of the tile set data will be exactly equal to the index of the tile on the tile set. So you can create "collision maps" of tiles using one tile at index 1 in the tile set - for example - then use this function to check for 1 or 0 (an empty tile) to calculate collisions.</p><p>&nbsp;</p><h4>Syntax:</h4><p class="code"><span data-field="title" data-format="default">tilemap_get_at_pixel</span>(tilemap_element_id, x, y)</p><table><tbody><tr><th>Argument</th><th>Type</th><th>Description</th></tr><tr><td>tilemap_element_id</td><td><span data-keyref="Type_ID_Element_Tilemap"><a target="_blank" href="layer_tilemap_get_id.htm">Tile Map Element ID</a></span></td><td>The unique ID value of the tile map element to get the tile-data of</td></tr><tr><td>x</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The position along the x-axis to get the tile data from (in room pixels)</td></tr><tr><td>y</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The position along the y-axis to get the tile data from (in room pixels)</td></tr></tbody></table><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_Real_Tile_Data"><a target="_blank" href="tilemap_get.htm">Tile Data</a></span> (-1 if there is an error)</p><p>&nbsp;</p><h4>Example:</h4><p class="code">var lay_id = layer_get_id("Tiles_sky");<br>var map_id = layer_tilemap_get_id(lay_id);<br>var data = tilemap_get_at_pixel(map_id, 64, 128);<br>data = tile_set_flip(data, true);<br>tilemap_set_at_pixel(map_id, data, 64, 128);</p><p>The above code gets the ID for the tile map "Clouds" on the layer "Tiles_Sky" and then uses that to get the data from the tile at position (64, 128). This tile data is then flipped before being used to set the tile on the tile map again.</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back:&nbsp;<a href="Tile_Map_Layers.htm">Tile Map Elements</a></div><div style="float:right">Next:&nbsp;<a href="tilemap_get_cell_x_at_pixel.htm">tilemap_get_cell_x_at_pixel</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>