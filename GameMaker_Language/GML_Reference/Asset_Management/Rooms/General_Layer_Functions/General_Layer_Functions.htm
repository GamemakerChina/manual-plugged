<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/main.css"><script>let str;removeHtml=function(e){return e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(e){return e.match(/(<([^>]+)>)/gi)},setTranslator=function(e,t,a){let o;o=a?e.attr(a):e.html();let s=t[removeHtml(o)];if(null!=s&&s.length){t=retHtml(o);let n=0;t&&t.forEach(function(e,t){var a=s.replace("{"+n+"}",e);s=a===s?s.replace("{}",e):a,n++}),a?e.attr(a,s):e.html(s)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var e=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(e):($(".topic-header").append(e),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(e){return e.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"Finally, and this is exclusively for use with {}instances{} on layers (although the layer itself can have other elements, they will not be affected by the following functions), you have a couple of functions that can be used to deactivate or reactivate all instances:":"最后，这是专门用于图层上的{}实例{}(尽管该图层本身可以具有其他元素，但它们不会受到以下函数的影响)，但有几个函数可用于取消激活或重新激活所有实例：","General Layer Functions":"常规图层函数","The {}GameMaker{} {}Room Editor{} permits you to add {}layers{} of different assets to your room. These can be tile maps (using tile sets), backgrounds, sprites or sequences, and instances, but note that unlike the room editor, you are {}not{} limited to a single asset type per layer, and can add multiple asset types to the same layer - for example you can have a background and a tile map all on the same layer. Note that each asset that is added to a layer is considered an {}element{}&nbsp;of that layer.":"{}GameMaker{}{}房间编辑器{}允许您将{}层{}不同资源添加到您的房间。这些可以是图块贴图(使用图块集)、背景、精灵或序列和实例，但请注意，与房间编辑器不同，您{}不限于每个层的单个资源类型，并且可以向同一层添加多个资源类型。例如，您可以在同一层上拥有背景和图块贴图。请注意，添加到层的每个资源都被视为该层的{}元素{}。","The {}GameMaker{} {}Room Editor{} permits you to add {}layers{} of different assets to your room. These can be tile maps (using tile sets), backgrounds, sprites or sequences, particle systems and instances, but note that unlike the room editor, you are {}not{} limited to a single asset type per layer, and can add multiple asset types to the same layer - for example you can have a background and a tile map all on the same layer.":"{}GameMaker{}{}房间编辑器{}允许您将{}层{}不同资源添加到您的房间。这些可以是图块贴图(使用图块集)、背景、精灵或序列和实例，但请注意，与房间编辑器不同，您{}不限{}于每个层的单个资源类型，并且可以向同一层添加多个资源类型。例如，您可以在同一层上拥有背景和图块贴图。","This section outlines the general functions used when working with room layers, as well as a few functions specific to working with {}{}instance layer{}&nbsp;{}elements:":"本节概述了在处理房间图层时使用的一般函数，以及一些特定于使用{}{}实例层{}{}元素的函数：","We also have a couple of extra functions relating to targeting layers in a different room. It may be that you want to change something in a room that is not the current room, or maybe you want to generate rooms procedurally, or any number of things. To enable this we use the following functions:":"我们还有几个与不同房间中的目标层相关的额外函数。您可能想要更改不是当前房间的房间中的某些内容，或者您可能想要按程序生成房间，或者任何数量的内容。为此，我们使用以下函数：","What you do here is set the target room using the appropriate function and then call the layer functions are normal. These layer functions will now apply {}only{} to the target room and not the current one. When you are finished you'd call the reset function to return the code scope back to the current room again.":"您在这里所做的是使用适当的函数设置目标房间，然后调用层函数是正常的。这些图层函数现在将{}仅{}应用于目标房间，而不应用于当前房间。完成后，您可以调用重置函数将代码范围重新返回到当前房间。","{}General Layer Functions{}":"{}常规图层函数{}","{}WARNING!{} While targeting another room, you can use all the regular layer functions {}except{} you cannot create instances using {}{}{}instance_create_layer(){}{}{} or {}{}{}instance_create_depth(){}{}{}, nor will the layer function {}{}{}layer_add_instance(){}{}{}&nbsp;be available.":"{}警告!{} 将另一个房间作为目标时，您可以使用除此{}之外的所有常规图层函数{}，不能使用 {}{}{}instance_create_layer(){}{}{} 或 {}{}{}instance_create_depth(){}{}{} 创建实例，也不能使用图层函数 {}{}{}layer_add_instance(){}{}{}。","{}{}NOTE{}{}&nbsp;Each asset that is added to a layer is considered an {}element{}&nbsp;of that layer.":"{}{}注意{}{} 添加到层的每个资源都被视为该层的{}元素{}。","{}{}WARNING{}{}&nbsp;While targeting another room, you can use all the regular layer functions {}except{} you cannot create instances using {}{}{}instance_create_layer(){}{}{} or {}{}{}instance_create_depth(){}{}{}, nor will the layer function {}{}{}layer_add_instance(){}{}{}&nbsp;be available.":"{}{}警告!{}{} 将另一个房间作为目标时，您可以使用除此{}之外的所有常规图层函数{}，不能使用 {}{}{}instance_create_layer(){}{}{} 或 {}{}{}instance_create_depth(){}{}{} 创建实例，也不能使用图层函数 {}{}{}layer_add_instance(){}{}{}。"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(e){json_global=e}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../../..",gTopicId="8.2.2.3.14.1"</script><script type="text/javascript" src="../../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Layers</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../../assets/css/default.css" type="text/css"><script src="../../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page outlining the different functions and variables associated with Layers in general"><meta name="rh-index-keywords" content=""><meta name="search-keywords" content="layer functions"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Asset_Management/Rooms/General_Layer_Functions/layer_exists.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Asset_Management/Rooms/room_get_camera.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="Layers"><span>Layers</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">Layers</span></h1><p>Any assets that you add to rooms are placed on a layer. These assets can be tile maps (using tile sets), backgrounds, sprites or sequences, particle systems and instances. You can add and modify a room's layers in&nbsp;<a href="../../../../../The_Asset_Editors/Rooms.htm">The Room Editor</a>&nbsp;or at runtime through code.</p><p>Layers are useful for a few reasons:</p><ul class="colour"><li>they logically group assets.</li><li>they affect how these assets on the layer are drawn:<ul><li>at an offset (x, y) and moving with a certain speed.</li><li>at a certain depth, the&nbsp;<span class="inline3_func"><a href="layer_depth.htm">layer_depth</a></span>.</li><li>using custom code (<span class="inline3_func"><a href="layer_script_begin.htm">layer_script_begin</a></span>&nbsp;and <span class="inline3_func"><a href="layer_script_end.htm">layer_script_end</a></span>) and shader (<span class="inline3_func"><a href="layer_shader.htm">layer_shader</a></span>).</li></ul></li></ul><p>You can get all layers in the current room using&nbsp;<span class="inline3_func"><a href="layer_get_all.htm">layer_get_all</a></span>&nbsp;or a single layer based on the name you gave it in the Room Editor using <span class="inline3_func"><a href="layer_get_id.htm">layer_get_id</a></span>.</p><p class="note"><span data-conref="../../../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;Unlike the Room Editor, you are <i>not</i> limited to only certain asset types per layer, and can add assets of different types to the same layer - for example you can have a background, a tile map and an instance all on the same layer.</p><h3 id="layer_elements">Layer Elements</h3><p>Each asset that you add to a layer is considered an <strong>element</strong> of that layer.</p><p>When you use&nbsp;<a href="../../../../../The_Asset_Editors/Rooms.htm">The Room Editor</a>&nbsp;to add assets to a room, a new element is added to that layer every time you drag an asset onto the editor canvas. There are two exceptions to this: in case of tiles the element that's added is a <a href="../Tile_Map_Layers/Tile_Map_Layers.htm">tile map</a>, rather than the individual tiles that you place and also, no element is added for <a href="../../Paths/Paths.htm">Paths</a>.</p><p>To get all elements on a layer you can use the function&nbsp;<span class="inline3_func"><a href="layer_get_all_elements.htm">layer_get_all_elements</a></span>.</p><p>To get the underlying asset type of an element, you can use the function&nbsp;<span class="inline3_func"><a href="layer_get_element_type.htm">layer_get_element_type</a></span>.</p><h2 id="func_ref">Function Reference</h2><h3 id="func_ref_general">General</h3><p>This section outlines the general functions used when working with room layers, as well as a few functions specific to working with <strong><a href="../../../../../The_Asset_Editors/Room_Properties/Layer_Properties.htm">instance layer</a>&nbsp;</strong>elements:</p><ul class="colour"><li><a href="layer_exists.htm">layer_exists</a></li><li><a href="layer_get_id.htm">layer_get_id</a></li><li><a href="layer_get_depth.htm">layer_get_depth</a></li><li><a href="layer_get_id_at_depth.htm">layer_get_id_at_depth</a></li><li><a href="layer_get_name.htm">layer_get_name</a></li><li><a href="layer_get_all.htm">layer_get_all</a></li><li><a href="layer_get_all_elements.htm">layer_get_all_elements</a></li><li><a href="layer_get_element_layer.htm">layer_get_element_layer</a></li><li><a href="layer_get_element_type.htm">layer_get_element_type</a></li><li><a href="layer_get_x.htm">layer_get_x</a></li><li><a href="layer_get_y.htm">layer_get_y</a></li><li><a href="layer_get_hspeed.htm">layer_get_hspeed</a></li><li><a href="layer_get_vspeed.htm">layer_get_vspeed</a></li><li><a href="layer_create.htm">layer_create</a></li><li><a href="layer_destroy.htm">layer_destroy</a></li><li><a href="layer_x.htm">layer_x</a></li><li><a href="layer_y.htm">layer_y</a></li><li><a href="layer_hspeed.htm">layer_hspeed</a></li><li><a href="layer_vspeed.htm">layer_vspeed</a></li><li><a href="layer_add_instance.htm">layer_add_instance</a></li><li><a href="layer_has_instance.htm">layer_has_instance</a></li><li><a href="layer_instance_get_instance.htm">layer_instance_get_instance</a></li><li><a href="layer_destroy_instances.htm">layer_destroy_instances</a></li><li><a href="layer_element_move.htm">layer_element_move</a></li><li><a href="layer_set_visible.htm">layer_set_visible</a></li><li><a href="layer_get_visible.htm">layer_get_visible</a></li><li><a href="layer_depth.htm">layer_depth</a></li><li><a href="layer_force_draw_depth.htm">layer_force_draw_depth</a></li><li><a href="layer_is_draw_depth_forced.htm">layer_is_draw_depth_forced</a></li><li><a href="layer_get_forced_depth.htm">layer_get_forced_depth</a></li><li><a href="layer_script_begin.htm">layer_script_begin</a></li><li><a href="layer_script_end.htm">layer_script_end</a></li><li><a href="layer_shader.htm">layer_shader</a></li><li><a href="layer_get_script_begin.htm">layer_get_script_begin</a></li><li><a href="layer_get_script_end.htm">layer_get_script_end</a></li><li><a href="layer_get_shader.htm">layer_get_shader</a></li></ul><h3 id="func_ref_targeting_layers_in_a_different_room">Targeting Layers in a Different Room</h3><p>We also have a couple of extra functions relating to targeting layers in a different room. It may be that you want to change something in a room that is not the current room, or maybe you want to generate rooms procedurally, or any number of things. To enable this we use the following functions:</p><ul class="colour"><li><a href="layer_set_target_room.htm">layer_set_target_room</a></li><li><a href="layer_get_target_room.htm">layer_get_target_room</a></li><li><a href="layer_reset_target_room.htm">layer_reset_target_room</a></li></ul><p>What you do here is set the target room using the appropriate function and then call the layer functions are normal. These layer functions will now apply <i>only</i> to the target room and not the current one. When you are finished you'd call the reset function to return the code scope back to the current room again.</p><h3 id="func_ref_activate_deactivate_instances_on_layers">Activate/Deactivate Instances on Layers</h3><p class="note"><span data-conref="../../../../../assets/snippets/Tag_warning.hts"><span class="warning">WARNING</span></span>&nbsp;While targeting another room, you can use all the regular layer functions,&nbsp;<b>except</b> you cannot create instances using&nbsp;<span class="inline3_func"><a href="../../Instances/instance_create_layer.htm">instance_create_layer</a></span> or <span class="inline3_func"><a href="../../Instances/instance_create_depth.htm">instance_create_depth</a></span>, nor will the layer function&nbsp;<span class="inline3_func"><a href="layer_add_instance.htm">layer_add_instance</a></span> be available.</p><p>Exclusively for use with <i>instances</i> on layers (although the layer itself can have other elements, they will not be affected by the following functions) you have a couple of functions that can be used to deactivate or reactivate all instances:</p><ul class="colour"><li><a href="../../Instances/Deactivating_Instances/instance_deactivate_layer.htm">instance_deactivate_layer</a></li><li><a href="../../Instances/Deactivating_Instances/instance_activate_layer.htm">instance_activate_layer</a></li></ul><h3 id="func_ref_particle_systems">Particle Systems</h3><p>There are no functions to get access to particle systems on a layer, but you can create them on a specific layer using the function:&nbsp;</p><ul class="colour"><li><a href="../../../Drawing/Particles/Particle_Systems/part_system_create_layer.htm">part_system_create_layer</a></li></ul><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="../Rooms.htm">Rooms</a></div><div style="float:right">Next: <a href="../Tile_Map_Layers/Tile_Map_Layers.htm">Tile Map Layers</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>