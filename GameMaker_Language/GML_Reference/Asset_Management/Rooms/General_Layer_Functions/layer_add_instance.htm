<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/main.css"><script>let str;removeHtml=function(e){return e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(e){return e.match(/(<([^>]+)>)/gi)},setTranslator=function(e,t,a){let o;o=a?e.attr(a):e.html();let r=t[removeHtml(o)];if(null!=r&&r.length){t=retHtml(o);let n=0;t&&t.forEach(function(e,t){var a=r.replace("{"+n+"}",e);r=a===r?r.replace("{}",e):a,n++}),a?e.attr(a,r):e.html(r)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var e=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(e):($(".topic-header").append(e),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(e){return e.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={'The above code will first get the index of the nearest instance to the given x/y position and store it in a local variable. It then gets the unique instance layer ID for the layer named "Instances Front", and moves the found instance onto that layer.':'上面的代码将首先获取与给定x/y位置最近的实例的索引，并将其存储在局部变量中。然后，它获取名为"Instances Front"的层的唯一实例层ID，并将找到的实例移动到该层上。',"The unique ID value of the instance layer to target (or the layer name as a string)":"实例层到目标的唯一ID值(或层名称作为字符串)","The unique instance ID value of the instance to move over to the target layer":"要移动到目标层的实例的唯一实例ID值","This function can be used to move a given instance from the layer it is currently on to another layer.":"此函数可用于将给定实例从当前所在的层移动到另一层。","This function can be used to move a given instance from the layer it is currently on to another layer. You supply the layer ID (which you get when you create the layer using {}{}layer_create(){}{}) or the layer name (as a string - this will have a performance impact) and the instance ID of the instance to move between layers. For example, say your player is on a layer that is at a lower depth than another layer and you want it to appear behind the layers between the two. You can use this function to switch the player from the foreground layer to the background layer and make it appear behind the other layers being drawn.":"此函数可用于将给定实例从当前所在的层移动到另一个层。提供层 ID(使用{}{}layer_create(){}{}创建层时获得的 ID)或层名称(作为字符串，这将对性能产生影响)以及要在层之间移动的实例的实例 ID。例如，假设您的玩家位于比另一层深度低的层上，而您希望该层位于两层之间的层之后。您可以使用此函数将播放器从前景层切换到背景层，并使其显示在正在绘制的其他层之后。","You supply the layer ID (which you get when you create the layer using {}{}layer_create{}{}) or the layer name (as a string - this will have a performance impact) and the instance ID of the instance to move between layers. For example, say your player is on a layer that is at a lower depth than another layer and you want it to appear behind the layers between the two. You can use this function to switch the player from the foreground layer to the background layer and make it appear behind the other layers being drawn.":"您提供图层 ID(在使用 {}{}layer_create{}{} 创建图层时获得) 或图层名称 (作为字符串 - 这会对性能产生影响) 以及要移动的实例的实例 ID 各层之间。例如，假设您的播放器位于比另一层深度更低的层上，并且您希望它出现在两层之间的层后面。您可以使用此功能将播放器从前景层切换到背景层，并使其出现在正在绘制的其他层后面。","{}NOTE{}: This function is only valid within the scope of the current room and cannot be used when the scope has been changes using the function&nbsp;{}{}layer_set_target_room(){}{}.":"{}注意{}：此函数仅在当前房间的范围内有效，当使用函数 {}{}layer_set_target_room(){}{} 更改范围时，不能使用该函数。","{}{}NOTE{}{} This function cannot be used to add a new instance to a layer. You {}must{} have created the instance previously and stored its ID to a variable.":"{}{}注意{}{}此函数不能用于向层添加新实例。{}必须{}以前创建了实例并将其 ID 存储到变量中。","{}{}NOTE{}{}&nbsp;This function cannot be used to add a new instance to a layer. You {}must{} have created the instance previously and stored its reference in a variable.":"{}{} 注意{}{} 此函数不能用于向层添加新实例。您 {} 必须 {} 之前已创建实例并将其引用存储在变量中。","{}{}{}NOTE{}{}{} This function is only valid within the scope of the current room and cannot be used when the scope has been changed using the function {}{}layer_set_target_room{}{}.":"{}{}{} 注意{}{}{} 该函数仅在当前房间范围内有效，当使用函数 {}{}layer_set_target_room{}{} 更改范围时无法使用。"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(e){json_global=e}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../../..",gTopicId="8.2.2.3.14.1.0_20"</script><script type="text/javascript" src="../../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>layer_add_instance</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../../assets/css/default.css" type="text/css"><script src="../../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page outlining the function layer_add_instance"><meta name="rh-index-keywords" content="layer_add_instance"><meta name="search-keywords" content="layer_add_instance"><meta name="is_pure" content="true"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Asset_Management/Rooms/General_Layer_Functions/layer_has_instance.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Asset_Management/Rooms/General_Layer_Functions/layer_vspeed.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="layer_add_instance"><span>layer_add_instance</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">layer_add_instance</span></h1><p>This function can be used to move a given instance from the layer it is currently on to another layer.</p><p>You supply the layer ID (which you get when you create the layer using <span class="inline3_func"><a href="layer_create.htm">layer_create</a></span>) or the layer name (as a string - this will have a performance impact) and the instance ID of the instance to move between layers. For example, say your player is on a layer that is at a lower depth than another layer and you want it to appear behind the layers between the two. You can use this function to switch the player from the foreground layer to the background layer and make it appear behind the other layers being drawn.</p><p class="note"><span data-conref="../../../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;This function cannot be used to add a new instance to a layer. You <b>must</b> have created the instance previously and stored its reference in a variable.</p><p class="note"><strong><span data-conref="../../../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span></strong> This function is only valid within the scope of the current room and cannot be used when the scope has been changed using the function <span class="inline3_func"><a href="layer_set_target_room.htm">layer_set_target_room</a></span>.</p><p>&nbsp;</p><h4>Syntax:</h4><p class="code"><span data-field="title" data-format="default">layer_add_instance</span>(layer_id, instance_id)</p><table><tbody><tr><th>Argument</th><th>Type</th><th>Description</th></tr><tr><td>layer_id</td><td><span data-keyref="Type_String"><a target="_blank" href="../../../../GML_Overview/Data_Types.htm">String</a></span>&nbsp;or&nbsp;<span data-keyref="Type_ID_Layer"><a target="_blank" href="layer_get_id.htm">Layer</a></span></td><td>The unique ID value of the instance layer to target (or the layer name as a string)</td></tr><tr><td>instance_id</td><td><span data-keyref="Type_ID_Instance"><a target="_blank" href="../../Instances/Instance_Variables/id.htm">Object Instance</a></span></td><td>The unique instance ID value of the instance to move over to the target layer</td></tr></tbody></table><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_Void">N/A</span></p><p>&nbsp;</p><h4>Example:</h4><p class="code">var near = instance_nearest(x, y, obj_Tree);<br>var layer_id = layer_get_id("Instances Front");<br>layer_add_instance(layer_id, near);</p><p>The above code will first get the index of the nearest instance to the given x/y position and store it in a local variable. It then gets the unique instance layer ID for the layer named "Instances Front", and moves the found instance onto that layer.</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back:&nbsp;<a href="General_Layer_Functions.htm">Layers</a></div><div style="float:right">Next:&nbsp;<a href="layer_has_instance.htm">layer_has_instance</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>