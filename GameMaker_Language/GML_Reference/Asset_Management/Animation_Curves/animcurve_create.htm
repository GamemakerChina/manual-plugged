<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/main.css"><script>let str;removeHtml=function(t){return t=(t=(t=(t=t.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(t){return t.match(/(<([^>]+)>)/gi)},setTranslator=function(t,e,n){let o;o=n?t.attr(n):t.html();let i=e[removeHtml(o)];if(null!=i&&i.length){e=retHtml(o);let a=0;e&&e.forEach(function(t,e){var n=i.replace("{"+a+"}",t);i=n===i?i.replace("{}",t):n,a++}),n?t.attr(n,i):t.html(i)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var t=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(t):($(".topic-header").append(t),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(t){return t.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"Note that animation curves created in this way {}must be deleted when no longer required{} as they will take up space in memory otherwise, which may lead to a memory leak, slowing down and eventually crashing your game. You can remove an animation curve when no longer needed using the function {}{}animcurve_destroy(){}{}. You do not need to to clean up any channel or point data within the curve, as this will be done by the garbage collector automatically when the curve itself is destroyed.":"请注意，以这种方式创建的动画曲线{}必须在不再需要{}时删除，否则它们将占用内存空间，这可能会导致内存泄漏，减慢速度并最终使游戏崩溃。您可以在不再需要时使用函数{}{}animcurve_destroy(){}{}移除动画曲线。您不需要清理曲线内的任何通道或点数据，因为这将由垃圾收集器自动完成，当曲线本身被破坏时。",'The above code creates a new animation curve struct and stores it in the variable "my_curve". This struct is then populated with a name and a channel array. The channel array contains a single channel with three points.':"上面的代码创建了一个新的动画曲线结构，并将其存储在变量 “my_curve” 中。然后用名称和通道数组填充此结构。通道阵列包含具有三个点的单个通道。","The function will return a pointer to the struct and this is then used to add channels and other data to the animation curve. You can also supply this to functions like {}{}animcurve_get(){}{} to later get the data from the curve.":"该函数将返回一个指向结构的指针，然后将其用于向动画曲线添加通道和其他数据。您还可以将其提供给 {}{}animcurve_get(){}{} 之类的函数，以便以后从曲线中获取数据。","This function creates an empty animation curve {}struct{}, ready for you to populate with channel data.":"此函数将创建一个空的动画曲线{}struct{}，供您填充通道数据。","This function will create an empty animation curve {}struct{}, ready for you to populate with channel data. The function will return a pointer to the struct and this is then used to add channels and other data to the animation curve. You can also supply this to functions like {}{}animcurve_get(){}{} to later get the data from the curve.":"此函数将创建一个空的动画曲线{}struct{}，供您填充通道数据。该函数将返回一个指向结构的指针，然后将其用于向动画曲线添加通道和其他数据。您还可以将其提供给{}animcurve_get(){}{}之类的函数，以便以后从曲线中获取数据。",'When you use this function, the struct created will have no data in it, and to use it you should add at least one channel and the channel should have points added to it. To add a channel, see the function {}{}animcurve_channel_new(){}{}, and to add points to the channel, see the function {}{}animcurve_point_new(){}{}. Additionally you can give the animation curve struct a name by setting the "name" variable (as shown in the example code, below). Channels added to a new animation curve should be added as an {}array{}, where each item in the array references a channel struct, and the points in a channel should also be added as an array, where each array item references a point struct.':"当您使用此函数时，创建的结构将没有数据，要使用它，您应该至少添加一个通道，并且该通道应该添加点。要添加通道，请参见函数{}{}animcurve_channel_new(){}{}, 要向通道添加点，请参见函数{}{}animcurve_point_new(){}{}。此外，您可以通过设置 “名称” 变量为动画曲线结构命名 (如下面的示例代码所示)。添加到新动画曲线的通道应添加为{}数组{}, 其中数组中的每个项目引用一个通道结构，并且通道中的点也应添加为数组，其中每个数组项目引用一个点结构。"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(t){json_global=t}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../..",gTopicId="8.2.2.3.2.0_5"</script><script type="text/javascript" src="../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>animcurve_create</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css"><script src="../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page explaining the function animcurve_create"><meta name="rh-index-keywords" content="animcurve_create"><meta name="search-keywords" content="animcurve_create"><meta name="is_pure" content="true"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Asset_Management/Animation_Curves/animcurve_exists.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Asset_Management/Animation_Curves/animcurve_channel_evaluate.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="animcurve_create"><span>animcurve_create</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1>animcurve_create</h1><p>This function creates an empty animation curve <a href="../../../GML_Overview/Structs.htm">struct</a>, ready for you to populate with channel data.</p><p>The function will return a pointer to the struct and this is then used to add channels and other data to the animation curve. You can also supply this to functions like <a href="animcurve_get.htm"><span class="inline">animcurve_get()</span></a> to later get the data from the curve.</p><p>When you use this function, the struct created will have no data in it, and to use it you should add at least one channel and the channel should have points added to it. To add a channel, see the function <a href="animcurve_channel_new.htm"><span class="inline">animcurve_channel_new()</span></a>, and to add points to the channel, see the function <a href="animcurve_point_new.htm"><span class="inline">animcurve_point_new()</span></a>. Additionally you can give the animation curve struct a name by setting the "name" variable (as shown in the example code, below). Channels added to a new animation curve should be added as an <a href="../../../GML_Overview/Arrays.htm">array</a>, where each item in the array references a channel struct, and the points in a channel should also be added as an array, where each array item references a point struct.</p><p>Note that animation curves created in this way <b>must be deleted when no longer required</b> as they will take up space in memory otherwise, which may lead to a memory leak, slowing down and eventually crashing your game. You can remove an animation curve when no longer needed using the function <a href="animcurve_destroy.htm"><span class="inline">animcurve_destroy()</span></a>. You do not need to to clean up any channel or point data within the curve, as this will be done by the garbage collector automatically when the curve itself is destroyed.</p><p>&nbsp;</p><p>&nbsp;</p><h4>Syntax:</h4><p class="code">animcurve_create();</p><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_Struct_AnimCurve"><a target="_blank" href="animcurve_get.htm">Animation Curve Struct</a></span></p><p>&nbsp;</p><h4>Example:</h4><p class="code">my_curve = animcurve_create();<br>my_curve.name = "My_Curve";<br>var _channels = array_create(1);<br>_channels[0] = animcurve_channel_new();<br>_channels[0].name = "alpha";<br>_channels[0].type = animcurvetype_catmullrom;<br>_channels[0].iterations = 8;<br>var _points = array_create(3);<br>_points[0] = animcurve_point_new();<br>_points[0].posx = 0;<br>_points[0].value = 0;<br>_points[1] = animcurve_point_new();<br>_points[1].posx = 0.5;<br>_points[1].value = 1;<br>_points[2] = animcurve_point_new();<br>_points[2].posx = 1;<br>_points[2].value = 0;<br>_channels[0].points = _points;<br>my_curve.channels = _channels;</p><p>The above code creates a new animation curve struct and stores it in the variable "my_curve". This struct is then populated with a name and a channel array. The channel array contains a single channel with three points.</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="Animation_Curves.htm">Animation&nbsp;Curves</a></div><div style="float:right">Next:&nbsp;<a href="animcurve_exists.htm">animcurve_exists</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>