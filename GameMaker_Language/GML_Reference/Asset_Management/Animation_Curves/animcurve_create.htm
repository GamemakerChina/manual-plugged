<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/main.css"><script>let str;removeHtml=function(t){return t=(t=(t=(t=t.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(t){return t.match(/(<([^>]+)>)/gi)},setTranslator=function(t,n,a){let e;e=a?t.attr(a):t.html();let l=n[removeHtml(e)];if(null!=l&&l.length){n=retHtml(e);let o=0;n&&n.forEach(function(t,n){var a=l.replace("{"+o+"}",t);l=a===l?l.replace("{}",t):a,o++}),a?t.attr(a,l):t.html(l)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){$(".header").length&&$(".header").append(`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`)},removeExtensionFromHash=function(t){return t.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")},$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../..",gTopicId="8.2.2.3.2.0_5"</script><script type="text/javascript" src="../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>animcurve_create</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css"><script src="../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page explaining the function animcurve_create"><meta name="rh-index-keywords" content="animcurve_create"><meta name="search-keywords" content="animcurve_create"><meta name="is_pure" content="true"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Asset_Management/Animation_Curves/animcurve_exists.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Asset_Management/Animation_Curves/animcurve_channel_evaluate.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="animcurve_create"><span>animcurve_create</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1>animcurve_create</h1><p>This function creates an empty animation curve <a href="../../../GML_Overview/Structs.htm">struct</a>, ready for you to populate with channel data.</p><p>The function will return a pointer to the struct and this is then used to add channels and other data to the animation curve. You can also supply this to functions like <a href="animcurve_get.htm"><span class="inline">animcurve_get()</span></a> to later get the data from the curve.</p><p>When you use this function, the struct created will have no data in it, and to use it you should add at least one channel and the channel should have points added to it. To add a channel, see the function <a href="animcurve_channel_new.htm"><span class="inline">animcurve_channel_new()</span></a>, and to add points to the channel, see the function <a href="animcurve_point_new.htm"><span class="inline">animcurve_point_new()</span></a>. Additionally you can give the animation curve struct a name by setting the "name" variable (as shown in the example code, below). Channels added to a new animation curve should be added as an <a href="../../../GML_Overview/Arrays.htm">array</a>, where each item in the array references a channel struct, and the points in a channel should also be added as an array, where each array item references a point struct.</p><p>Note that animation curves created in this way <b>must be deleted when no longer required</b> as they will take up space in memory otherwise, which may lead to a memory leak, slowing down and eventually crashing your game. You can remove an animation curve when no longer needed using the function <a href="animcurve_destroy.htm"><span class="inline">animcurve_destroy()</span></a>. You do not need to to clean up any channel or point data within the curve, as this will be done by the garbage collector automatically when the curve itself is destroyed.</p><p>&nbsp;</p><p>&nbsp;</p><h4>Syntax:</h4><p class="code">animcurve_create();</p><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_Struct_AnimCurve"><a target="_blank" href="animcurve_get.htm">Animation Curve Struct</a></span></p><p>&nbsp;</p><h4>Example:</h4><p class="code">my_curve = animcurve_create();<br>my_curve.name = "My_Curve";<br>var _channels = array_create(1);<br>_channels[0] = animcurve_channel_new();<br>_channels[0].name = "alpha";<br>_channels[0].type = animcurvetype_catmullrom;<br>_channels[0].iterations = 8;<br>var _points = array_create(3);<br>_points[0] = animcurve_point_new();<br>_points[0].posx = 0;<br>_points[0].value = 0;<br>_points[1] = animcurve_point_new();<br>_points[1].posx = 0.5;<br>_points[1].value = 1;<br>_points[2] = animcurve_point_new();<br>_points[2].posx = 1;<br>_points[2].value = 0;<br>_channels[0].points = _points;<br>my_curve.channels = _channels;</p><p>The above code creates a new animation curve struct and stores it in the variable "my_curve". This struct is then populated with a name and a channel array. The channel array contains a single channel with three points.</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="Animation_Curves.htm">Animation&nbsp;Curves</a></div><div style="float:right">Next:&nbsp;<a href="animcurve_exists.htm">animcurve_exists</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>