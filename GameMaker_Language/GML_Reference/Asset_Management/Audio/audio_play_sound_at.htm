<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/main.css"><script>let str;removeHtml=function(e){return e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(e){return e.match(/(<([^>]+)>)/gi)},setTranslator=function(e,t,o){let a;a=o?e.attr(o):e.html();let i=t[removeHtml(a)];if(null!=i&&i.length){t=retHtml(a);let n=0;t&&t.forEach(function(e,t){var o=i.replace("{"+n+"}",e);i=o===i?i.replace("{}",e):o,n++}),o?e.attr(o,i):e.html(i)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var e=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(e):($(".topic-header").append(e),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(e){return e.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"Flags the sound as looping or not.":"标记声音是否循环。","Optional Properties":"可选属性","Set the channel priority for the sound.":"设置声音的通道优先级。",'The above code checks the global variable "SFX" and if it returns {}true{} then the sound indexed in the variable "snd_Waterfall" will be looped at its room position using the given falloff settings and no change in gain. The sound immediately starts playing from second 2.':'上述代码检查全局变量"SFX"，如果它返回{}true{}，则变量"snd_Waterfall"中索引的声音将使用给定衰减设置在其房间位置循环，且增益没有变化。声音从第二秒立即开始播放。','The above code checks the global variable "SFX" and if it returns {}true{} then the sound indexed in the variable "snd_Waterfall" will be looped at its room position, with a fall-off reference of 100, a falloff distance of 300, a falloff factor of 1 and a low priority.':'上面的代码检查全局变量"SFX"，如果它返回{}true{}，变量"snd_Waterfall"中索引的声音将在其房间位置循环，衰减参考为100，衰减距离为300，衰减因子为1，优先级较低。',"The falloff factor (default 1).":"衰减系数(默认值1)。","The falloff reference relative to the listener (clamp).":"相对于监听器(钳位)的衰减参考。","The index of the sound to play.":"播放声音的索引。","The maximum falloff distance relative to the listener.":"相对于侦听器的最大衰减距离。","The next two arguments are to set the sound is to loop or not and for assigning a priority to the sound. This priority is then used to determine how sounds are dealt with when the number of sounds playing is over the limit set by the function {}{}audio_channel_num(){}{}. Lower priority sounds will be stopped in favour of higher priority sounds, and the priority value can be any real number (the actual value is arbitrary, and can be from 0 to 1 or 0 to 100, as {}GameMaker{} will prioritise them the same). Note that when dealing with priority, the {}higher{} the number the {}higher{} the priority, such that a sound with priority 100 will be favoured over a sound with priority 1.":"接下来的两个参数是设置声音是否循环，并为声音分配优先级。当播放的声音数超过函数{}{}audio_channel_num(){}{}设置的限制时，此优先级用于确定如何处理声音。 优先级较低的声音将停止，以支持优先级较高的声音，并且优先级值可以是任何实数(实际值是任意的，可以是 0 到 1 或 0 到 100，因为{}GameMaker{}会以相同的优先级排列它们)。请注意，当处理优先级时，{}越高{}的数字{}优先级越高{}，这样优先级 100 的声音将优于优先级为 1 的声音。","The x position.":"X 位置","The y position.":"Y 位置","The z position.":"Z 位置","There are four optional arguments that allow you to change the properties of the sound being played:":"有四个可选参数允许您更改正在播放的声音的属性：","There are four optional arguments that allow you to change the&nbsp;{}Audio Properties{} of the sound being played at the instance/voice level:":"有四个可选参数可让您更改在实例/语音级别播放的声音的{}音频属性{}：","These parameters are applied to the sound immediately. This fixes the issues you would face when calling a separate function to change any of these values, which could cause an undesired delay in the change.":"这些参数立即应用于声音。这可以修复您在调用单独的函数来更改这些值时遇到的问题，这些问题可能会导致更改出现不希望的延迟。","These properties are multiplied by their corresponding value of the sound asset. See&nbsp;{}Audio Properties Overview{}&nbsp;for a full overview.":"这些属性乘以健全资产的相应价值。如需完整概述，请参阅{}音频属性概述{}。","They are applied to the sound immediately. This fixes the issues you would face when calling a separate function to change any of these values, which could cause an undesired delay in the change.":"它们立即应用于声音。这解决了调用单独的函数来更改任何这些值时可能会遇到的问题，这可能会导致更改出现意外的延迟。","This function will also return a unique index for the sound being played, which can be stored in a variable so you can later&nbsp;{}pause it{} or {}stop it{}. This means that if you have multiple instances of the same sound playing at any one time, you can target just one instance of that sound using the {}audio functions{}.":"此函数还将返回正在播放的声音的唯一索引，该索引可以存储在变量中，以便以后{}暂停{}或{}停止{}。 这意味着，如果在同一时间播放同一声音的多个实例，则可以使用{}音频函数{}只瞄准该声音的一个实例。","With this function you can play any sound asset at a given position within the audio space.":"使用此函数，您可以在音频空间内的给定位置播放任何声音资源。","You can also set a fall-off distance (0 will make the sound silent, default is 100) which will make the sound fade out as it gets further from the listener position. How the fade itself is heard will depend on the falloff reference (which is the distance under which the volume for the source would normally drop by half) and the roll off factor (which affects the sound past the falloff reference distance only). The default factor is normally 1, and the effect of the different falloff values will depend on the model chosen (for a complete guide to the different falloff models and how these values are used, please see the function {}{}audio_falloff_set_model(){}{}).":"您还可以设置衰减距离(0 将使声音静音，默认值为 100)，使声音在远离收听者位置时逐渐衰减。如何听到衰减本身将取决于衰减参考(即源音量通常下降一半的距离)和滚降因子(仅影响经过衰减参考距离的声音)。默认因子通常为1，不同衰减值的效果将取决于所选模型(有关不同衰减模型的完整指南以及这些值的使用，请参见函数{}{}audio_falloff_set_model(){}{})。","You provide the sound index and then assign it a position within the 3D space. The default listener position is {}(0, 0, 0){} so this means that if the listener has not been moved and you want the sound to come from the left (for example), you should set the x position to a negative value (for more information on setting the listener position see {}{}audio_listener_position(){}{}).":"提供声音索引，然后在 3D 空间中为其指定一个位置。默认收听者位置是{}( 0， 0， 0){}，因此这意味着如果收听者没有被移动，并且希望声音从左边来(例如)，您应该将x位置设置为负值(有关设置收听者位置的详细信息，请参见{}{}audio_listener_position(){}{})。","{}OPTIONAL{}&nbsp;The bitmask data to set for the sound. On the HTML5 target&nbsp; this will have no effect as the target does not support more than one listener.":"{}OPTIONAL{}为声音设置的位掩码数据。在HTML5目标上，由于目标不支持多个侦听器，这将没有效果。","{}OPTIONAL{}&nbsp;The pitch multiplier (default 1).":"{}可选{}音高乘数(默认值1)。","{}OPTIONAL{}&nbsp;The time (in seconds) to set the start point to. Values beyond the end of the sound are clamped to its length.":"{}可选{}设置起始点的时间(以秒为单位)。超出声音末端的值被限制到其长度。","{}OPTIONAL{}&nbsp;The time (in seconds) to set the start point to. Values longer than the length of the given sound are ignored.":"{}OPTIONAL{}设置起点的时间(秒)。长于给定声音长度的值将被忽略。","{}OPTIONAL{}&nbsp;Value for the gain.":"{}可选{}增益值。","{}{}NOTE{}{}&nbsp;To change the value of any of these properties after playback of a sound has been started, see&nbsp;{}audio_sound_gain{}&nbsp;for gain,&nbsp;{}audio_sound_set_track_position{}&nbsp;for offset,&nbsp;{}audio_sound_pitch{}&nbsp;for pitch and&nbsp;{}audio_sound_set_listener_mask{}&nbsp;for listener mask.":"{}{}注意{}{}要在开始播放声音后更改这些属性中任意属性的值，请参见{}audio_sound_gain{}获取增益，{}audio_sound_set_track_position{}了解偏移，{}audio_sound_pitch{}表示音调，{}audio_sound_set_listener_mask{}表示收听者掩码。","{}{}OPTIONAL{}{}&nbsp;The bitmask data to set for the sound. On the HTML5 target&nbsp; this will have no effect as the target does not support more than one listener.":"{}{}可选{}{}为声音设置的位掩码数据。在 HTML5 目标上，这不会产生任何影响，因为该目标不支持多个侦听器。","{}{}OPTIONAL{}{}&nbsp;The gain of the sound instance (defaults to 1).":"{}{}可选{}{}声音实例的增益(默认为 1)。","{}{}OPTIONAL{}{}&nbsp;The pitch multiplier (defaults to 1).":"{}{}可选{}{}音调乘数(默认为 1)。","{}{}OPTIONAL{}{}&nbsp;The time (in seconds) to start playing. Values beyond the end of the sound are clamped to its length. The default value is the asset-level offset, this value overrides it when provided.":"{}{}可选{}{}开始播放的时间(以秒为单位)。超出声音末尾的值将被限制在其长度内。默认值是资产级别偏移量，该值在提供时会覆盖它。"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(e){json_global=e}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../..",gTopicId="8.2.2.3.5.0_9"</script><script type="text/javascript" src="../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>audio_play_sound_at</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css"><script src="../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page explaining the function audio_play_sound_at"><meta name="rh-index-keywords" content="audio_play_sound_at"><meta name="search-keywords" content="audio_play_sound_at"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Asset_Management/Audio/audio_pause_sound.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Asset_Management/Audio/audio_play_sound_ext.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="audio_play_sound_at"><span>audio_play_sound_at</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">audio_play_sound_at</span></h1><p>With this function you can play any sound asset at a given position within the audio space.</p><div data-conref="../../../../assets/snippets/Note_Triggers_Audio_Playback_Event.hts"><p class="note"><span data-conref="../../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;An <a href="../../../../The_Asset_Editors/Object_Properties/Async_Events/Audio_Playback_Ended.htm">Audio Playback Ended</a>&nbsp;event is triggered for the sound when it stops playing.</p></div><p>You provide the sound index and then assign it a position within the 3D space. The default listener position is <span data-keyref="Position_Origin">(0, 0, 0)</span> so this means that if the listener has not been moved and you want the sound to come from the left (for example), you should set the x position to a negative value (for more information on setting the listener position see <a href="Audio_Listeners/audio_listener_position.htm"><span class="inline">audio_listener_position()</span></a>).</p><p>You can also set a fall-off distance (0 will make the sound silent, default is 100) which will make the sound fade out as it gets further from the listener position. How the fade itself is heard will depend on the falloff reference (which is the distance under which the volume for the source would normally drop by half) and the roll off factor (which affects the sound past the falloff reference distance only). The default factor is normally 1, and the effect of the different falloff values will depend on the model chosen (for a complete guide to the different falloff models and how these values are used, please see the function <a href="audio_falloff_set_model.htm"><span class="inline">audio_falloff_set_model()</span></a>).</p><p>The next two arguments are to set the sound is to loop or not and for assigning a priority to the sound. This priority is then used to determine how sounds are dealt with when the number of sounds playing is over the limit set by the function <a href="audio_channel_num.htm"><span class="inline">audio_channel_num()</span></a>. Lower priority sounds will be stopped in favour of higher priority sounds, and the priority value can be any real number (the actual value is arbitrary, and can be from 0 to 1 or 0 to 100, as <span data-keyref="GameMaker Name">GameMaker</span> will prioritise them the same). Note that when dealing with priority, the <i>higher</i> the number the <i>higher</i> the priority, such that a sound with priority 100 will be favoured over a sound with priority 1.</p><p>This function will also return a unique index for the sound being played, which can be stored in a variable so you can later&nbsp;<a href="audio_pause_sound.htm">pause it</a> or <a href="audio_stop_sound.htm">stop it</a>. This means that if you have multiple instances of the same sound playing at any one time, you can target just one instance of that sound using the <a href="Audio.htm">audio functions</a>.</p><div data-conref="../../../../assets/snippets/audio_play_sound_last_arguments.hts"><h2>Optional Properties</h2><p>There are four optional arguments that allow you to change the&nbsp;<a href="Audio.htm#h">Audio Properties</a> of the sound being played at the instance/voice level:</p><p class="code_plain"><span>... [gain], [offset], [pitch], [listener_mask]</span></p><p>They are applied to the sound immediately. This fixes the issues you would face when calling a separate function to change any of these values, which could cause an undesired delay in the change.</p><p>These properties are multiplied by their corresponding value of the sound asset. See&nbsp;<a href="Audio_Properties.htm">Audio Properties Overview</a>&nbsp;for a full overview.</p><p class="note"><span data-conref="../../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;To change the value of any of these properties after playback of a sound has been started, see&nbsp;<a href="audio_sound_gain.htm">audio_sound_gain</a>&nbsp;for gain,&nbsp;<a href="audio_sound_set_track_position.htm">audio_sound_set_track_position</a>&nbsp;for offset,&nbsp;<a href="audio_sound_pitch.htm">audio_sound_pitch</a>&nbsp;for pitch and&nbsp;<a href="audio_sound_set_listener_mask.htm">audio_sound_set_listener_mask</a>&nbsp;for listener mask.</p></div><p>&nbsp;</p><h4>Syntax:</h4><p class="code"><span data-field="title" data-format="default">audio_play_sound_at</span>(index, x, y, z, falloff_ref, falloff_max, falloff_factor, loop, priority, [gain], [offset], [pitch], [listener_mask]);</p><table><tbody><tr><th>Argument</th><th>Type</th><th>Description</th></tr><tr><td>index</td><td><span data-keyref="Type_Asset_Sound"><a target="_blank" href="../../../../The_Asset_Editors/Sounds.htm">Sound Asset</a></span>&nbsp;or&nbsp;<span data-keyref="Type_ID_Audio_Queue"><a target="_blank" href="Audio_Buffers/audio_create_play_queue.htm">Audio Queue ID</a></span></td><td>The index of the sound to play.</td></tr><tr><td>x</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The x position.</td></tr><tr><td>y</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The y position.</td></tr><tr><td>z</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The z position.</td></tr><tr><td>falloff_ref</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The falloff reference relative to the listener (clamp).</td></tr><tr><td>falloff_max</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The maximum falloff distance relative to the listener.</td></tr><tr><td>falloff_factor</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The falloff factor (default 1).</td></tr><tr><td>loop</td><td><span data-keyref="Type_Bool"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Boolean</a></span></td><td>Flags the sound as looping or not.</td></tr><tr><td>priority</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>Set the channel priority for the sound.</td></tr><tr><td>gain</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td><span data-conref="../../../../assets/snippets/Tag_optional.hts"><span class="optional">OPTIONAL</span></span>&nbsp;The gain of the sound instance (defaults to 1).</td></tr><tr><td>offset</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td><span data-conref="../../../../assets/snippets/Tag_optional.hts"><span class="optional">OPTIONAL</span></span>&nbsp;The time (in seconds) to start playing. Values beyond the end of the sound are clamped to its length. The default value is the asset-level offset, this value overrides it when provided.</td></tr><tr><td>pitch</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td><span data-conref="../../../../assets/snippets/Tag_optional.hts"><span class="optional">OPTIONAL</span></span>&nbsp;The pitch multiplier (defaults to 1).</td></tr><tr><td>listener_mask</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td><span data-conref="../../../../assets/snippets/Tag_optional.hts"><span class="optional">OPTIONAL</span></span>&nbsp;The bitmask data to set for the sound. On the HTML5 target&nbsp; this will have no effect as the target does not support more than one listener.</td></tr></tbody></table><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_ID_Sound_Instance"><a target="_blank" href="audio_play_sound.htm">Sound Instance ID</a></span></p><p>&nbsp;</p><h4>Example 1:</h4><p class="code">if (global.SFX)<br>{<br>&nbsp; &nbsp; <span data-field="title" data-format="default">audio_play_sound_at</span>(snd_Waterfall, x, y, 0, 100, 300, 1, true, 1);<br>}</p><p>The above code checks the global variable "SFX" and if it returns <span class="inline">true</span> then the sound indexed in the variable "snd_Waterfall" will be looped at its room position, with a fall-off reference of 100, a falloff distance of 300, a falloff factor of 1 and a low priority.</p><h4>Example 2:</h4><p class="code">if (global.SFX)<br>{<br>&nbsp; &nbsp; <span data-field="title" data-format="default">audio_play_sound_at</span>(snd_Waterfall, x, y, 0, 100, 300, 1, true, 1, 1, 2);<br>}</p><p>The above code checks the global variable "SFX" and if it returns <span class="inline">true</span> then the sound indexed in the variable "snd_Waterfall" will be looped at its room position using the given falloff settings and no change in gain. The sound immediately starts playing from second 2.</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back:&nbsp;<a href="Audio.htm">Audio</a></div><div style="float:right">Next:&nbsp;<a href="audio_pause_sound.htm">audio_pause_sound</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>