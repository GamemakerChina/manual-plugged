<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/main.css"><script>let str;removeHtml=function(e){return e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(e){return e.match(/(<([^>]+)>)/gi)},setTranslator=function(e,t,o){let n;n=o?e.attr(o):e.html();let i=t[removeHtml(n)];if(null!=i&&i.length){t=retHtml(n);let a=0;t&&t.forEach(function(e,t){var o=i.replace("{"+a+"}",e);i=o===i?i.replace("{}",e):o,a++}),o?e.attr(o,i):e.html(i)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var e=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(e):($(".topic-header").append(e),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(e){return e.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"The above code would be called in the asynchronous {}Audio Recording{} event and assigns some recorded data to a buffer, which is then added to an audio queue. This is then played.":"上述代码将在异步{}音频记录{}事件中调用，并将一些记录数据分配给缓冲器，然后将其添加到音频队列中。然后播放。","The buffer to add to the queue.":"要添加到队列中的缓冲区。","The index of the queue to add to.":"要添加到的队列的索引。","The length of the buffer (the number of the bytes in the buffer).":"缓冲区的长度(缓冲区中的字节数)。","The offset within the source buffer to start from.":"要开始的源缓冲区中的偏移量。","This function will add the data from a buffer into the audio queue that you previously created using the function {}{}audio_create_play_queue(){}{}. You specify the queue index to add to, and the buffer ID to get the data from as well as the position (offset) within the buffer and the number of bytes to add. Once you have added audio from a buffer to a queue, the buffer cannot be deleted until you have first freed the queue using the function {}{}audio_free_play_queue(){}{}, and the buffer properties should match those of the queue that you are adding the sound to.":"此函数将从缓冲区将数据添加到您先前使用函数 {}{}audio_create_play_queue(){}{} 创建的音频队列中。 您可以指定要添加到的队列索引、从中获取数据的缓冲区 ID、缓冲区内的位置 (偏移) 和要添加的字节数。将音频从缓冲区添加到队列后，在您首先使用函数 {}{}audio_free_play_queue(){}{} 释放队列之前，无法删除该缓冲区，并且缓冲区属性应与要添加声音的队列属性匹配。","This function will add the data from a buffer into the audio queue that you previously created using the function {}{}audio_create_play_queue(){}{}. You specify the queue index to add to, and the buffer ID to get the data from as well as the position (offset) within the buffer and the number of bytes to add. Once you have added audio from a buffer to a queue, the buffer cannot be deleted until you have first freed the queue using the function {}{}audio_free_play_queue(){}{}, and the buffer properties should match those of the the queue that you are adding the sound to.":"此函数将从缓冲区将数据添加到您先前使用函数{}{}audio_create_play_queue(){}{}创建的音频队列中。 您可以指定要添加到的队列索引、从中获取数据的缓冲区 ID、缓冲区内的位置(偏移)和要添加的字节数。将音频从缓冲区添加到队列后，在您首先使用函数{}{}audio_free_play_queue(){}{}释放队列之前，无法删除该缓冲区，并且缓冲区属性应与要添加声音的队列属性匹配。"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(e){json_global=e}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../../..",gTopicId="8.2.2.3.5.5.0_5"</script><script type="text/javascript" src="../../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>audio_queue_sound</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../../assets/css/default.css" type="text/css"><script src="../../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page explaining the function audio_queue_sound"><meta name="rh-index-keywords" content="audio_queue_sound"><meta name="search-keywords" content="audio_queue_sound"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Asset_Management/Audio/Audio_Buffers/audio_start_recording.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Asset_Management/Audio/Audio_Buffers/audio_free_play_queue.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="audio_queue_sound"><span>audio_queue_sound</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1>audio_queue_sound</h1><p>This function will add the data from a buffer into the audio queue that you previously created using the function <a href="audio_create_play_queue.htm"><span class="inline">audio_create_play_queue()</span></a>. You specify the queue index to add to, and the buffer ID to get the data from as well as the position (offset) within the buffer and the number of bytes to add. Once you have added audio from a buffer to a queue, the buffer cannot be deleted until you have first freed the queue using the function <a href="audio_free_play_queue.htm"><span class="inline">audio_free_play_queue()</span></a>, and the buffer properties should match those of the queue that you are adding the sound to.</p><p>&nbsp;</p><h4>Syntax:</h4><p class="code">audio_queue_sound(queueIndex, bufferId, bufferOffset, bufferLength);</p><table><tbody><tr><th>Argument</th><th>Type</th><th>Description</th></tr><tr><td>queueIndex</td><td><span data-keyref="Type_ID_Audio_Queue"><a target="_blank" href="audio_create_play_queue.htm">Audio Queue ID</a></span></td><td>The index of the queue to add to.</td></tr><tr><td>bufferId</td><td><span data-keyref="Type_ID_Buffer"><a target="_blank" href="../../../Buffers/buffer_create.htm">Buffer</a></span></td><td>The buffer to add to the queue.</td></tr><tr><td>bufferOffset</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The offset within the source buffer to start from.</td></tr><tr><td>bufferLength</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The length of the buffer (the number of the bytes in the buffer).</td></tr></tbody></table><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_Void">N/A</span></p><p>&nbsp;</p><h4>Example:</h4><p class="code">len = async_load[? "data_len"];<br>audio_buff = buffer_create(len, buffer_fast, 1);<br>buffer_copy(async_load[? "buffer_id"], 0, len, buff, 0);<br>audio_queue_sound(audio_queue, audio_buff, 0, len);<br>audio_play_sound(audio_queue, 10, 0);</p><p>The above code would be called in the asynchronous <a href="../../../../../The_Asset_Editors/Object_Properties/Async_Events/Audio_Recording.htm">Audio Recording</a> event and assigns some recorded data to a buffer, which is then added to an audio queue. This is then played.</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="../Audio.htm">Audio Buffers</a></div><div style="float:right">Next:&nbsp;<a href="audio_start_recording.htm">audio_start_recording</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>