<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/main.css"><script>let str;removeHtml=function(e){return e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(e){return e.match(/(<([^>]+)>)/gi)},setTranslator=function(e,t,a){let o;o=a?e.attr(a):e.html();let r=t[removeHtml(o)];if(null!=r&&r.length){t=retHtml(o);let n=0;t&&t.forEach(function(e,t){var a=r.replace("{"+n+"}",e);r=a===r?r.replace("{}",e):a,n++}),a?e.attr(a,r):e.html(r)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var e=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(e):($(".topic-header").append(e),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(e){return e.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"The above code will create a new layer with a depth of -1000 and then set the instance {}layer{} variable to the returned layer ID, moving the instance from the layer it is currently on to the new layer being created.":"上面的代码将创建一个深度为- 1000的新层，然后将实例{}层{}变量设置为返回的层ID，将实例从其当前所在的层移动到正在创建的新层。","This {}built-in variable{} is created for every instance in a room and contains the layer ID value of the layer that the instance is assigned to. This value can then be used in other functions like {}{}layer_get_depth(){}{}&nbsp;or it can be changed to move the instance to another layer, but note that if the layer being assigned does not exist in the current room, then you will get an error that will force your game to close. When assigning a layer, you must supply the unique {}layer ID{} as returned by the function {}{}layer_get_id(){}{}&nbsp;(when using named room layers), or as returned by the function {}{}layer_create(){}{}&nbsp;(when you create your own layers at run time).":"此 {} 内置变量 {} 是为房间中的每个实例创建的，包含实例分配到的图层的图层 ID 值。然后可以在其他函数中使用该值，例如 {}{}layer_get_depth(){}{}，或者可以更改它以将实例移动到另一层，但请注意，如果当前房间中不存在所分配的层，那么你会收到一个错误，迫使你的游戏关闭。分配图层时，您必须提供由函数 {}{}layer_get_id(){}{} 返回的唯一 {6} 图层 ID{7}( 使用命名房间图层时)，或由函数 {}{}  layer_create(){}{} 返回 ( 当您在运行时创建自己的层时)。",'{}IMPORTANT{}&nbsp;If you have created the instance using the {}{}{}instance_create_depth(){}{}{} function, or have manually changed the {}{}{}depth{}{}{} variable, the layer assigned to the instance becomes a "managed" layer, which is one that {}GameMaker{} controls and manages automatically. In these cases the {}layer{} variable will return -1.':'{} 重要提示{} 如果您使用 {}{}{}instance_create_depth(){}{}{} 函数创建了实例，或者手动更改了 {}{}{} depth {}{}{} 变量，分配给实例的层成为 " 托管 " 层，这是由 {}GameMaker{} 自动控制和管理的层。在这些情况下，{}layer{} 变量将返回 -1。'},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(e){json_global=e}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../../..",gTopicId="8.2.2.3.13.1.0_6"</script><script type="text/javascript" src="../../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>layer</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../../assets/css/default.css" type="text/css"><script src="../../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page outlining the variable layer"><meta name="rh-index-keywords" content="layer"><meta name="search-keywords" content="layer"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Asset_Management/Instances/Instance_Variables/alarm.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Asset_Management/Instances/Instance_Variables/depth.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="layer"><span>layer</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1>layer</h1><p>This <b>built-in variable</b> is created for every instance in a room and contains the layer ID value of the layer that the instance is assigned to. This value can then be used in other functions like <a href="../../Rooms/General_Layer_Functions/layer_get_depth.htm"><span class="inline">layer_get_depth()</span></a>&nbsp;or it can be changed to move the instance to another layer, but note that if the layer being assigned does not exist in the current room, then you will get an error that will force your game to close. When assigning a layer, you must supply the unique <b>layer ID</b> as returned by the function <a href="../../Rooms/General_Layer_Functions/layer_get_id.htm"><span class="inline">layer_get_id()</span></a>&nbsp;(when using named room layers), or as returned by the function <a href="../../Rooms/General_Layer_Functions/layer_create.htm"><span class="inline">layer_create()</span></a>&nbsp;(when you create your own layers at run time).</p><p class="note"><span class="important">IMPORTANT</span>&nbsp;If you have created the instance using the <span style="font-size:1px"><a href="../instance_create_depth.htm"><span class="inline">instance_create_depth()</span></a></span> function, or have manually changed the <span style="font-size:1px"><a href="depth.htm"><span class="inline">depth</span></a></span> variable, the layer assigned to the instance becomes a "managed" layer, which is one that <span data-keyref="GameMaker Name">GameMaker</span> controls and manages automatically. In these cases the <span class="inline">layer</span> variable will return -1.</p><p>&nbsp;</p><h4>Syntax:</h4><p class="code">layer;</p><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_ID_Layer"><a target="_blank" href="../../Rooms/General_Layer_Functions/layer_get_id.htm">Layer</a></span></p><p>&nbsp;</p><h4>Example:</h4><p class="code">layer = layer_create(-1000);</p><p>The above code will create a new layer with a depth of -1000 and then set the instance <span class="inline">layer</span> variable to the returned layer ID, moving the instance from the layer it is currently on to the new layer being created.</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="Instance_Variables.htm">Instance Variables</a></div><div style="float:right">Next: <a href="alarm.htm">alarm</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>