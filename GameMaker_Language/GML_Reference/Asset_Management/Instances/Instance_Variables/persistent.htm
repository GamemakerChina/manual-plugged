<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/main.css"><script>let str;removeHtml=function(e){return e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(e){return e.match(/(<([^>]+)>)/gi)},setTranslator=function(e,t,a){let o;o=a?e.attr(a):e.html();let s=t[removeHtml(o)];if(null!=s&&s.length){t=retHtml(o);let n=0;t&&t.forEach(function(e,t){var a=s.replace("{"+n+"}",e);s=a===s?s.replace("{}",e):a,n++}),a?e.attr(a,s):e.html(s)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var e=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(e):($(".topic-header").append(e),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(e){return e.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"A persistent object will still have its {}Game Start{}, {}Game End{}, {}Room Start{} and {}Room End{} events triggered, however if you restart the game (with, for example, the {}game_restart(){} function) all persistent objects will be removed and only exist when created again by the game. Also note that if you deactivate a persistent object, it will no longer pass from one room to another unless re-activated before the Room End event is triggered.":"持久对象仍会触发其{}Game Start{}、{}Game End{}、{}Room Start{}和{}Room End{}事件，但是，如果您重新启动游戏(例如，使用{}game_restart(){}函数)，所有持久对象将被删除，且仅当游戏再次创建时才存在。另外请注意，如果您停用了持久对象，它将不再从一个房间传递到另一个房间，除非在房间结束事件被触发之前重新激活。","The above code will check the instance to see if persistence is flagged as {}false{} and if the instance is NOT persistent the persistence flag is set to {}true{}.":"上面的代码将检查实例以查看持久性是否标记为{}false{}，如果实例不持久，则持久性标志设置为{}true{}。",'This variable can be read to find out if the instance is flagged as {}persistent{} or not, or it can used to set persistence to {}true{} (persistent) or {}false{} (not persistent) for the instance. A persistent instance is one that will be "carried over" from room to room, meaning (for example) that it only has to be created once at the start of the game and it will be present in all further rooms. Care should be taken with persistence as it is easy to lose track of persistent instances which can lead to problems later in the development of the game.':"可以读取此变量来查找实例是否标记为{}持久性{}，或者它可用于将实例的持久性设置为{}true{}(持久性)或{}false{}(非持久性)。持久化实例是从一个房间转到另一个房间，这意味着(例如)它只需要在游戏开始时创建一次，并且它将出现在以后的所有房间中。应小心坚持，因为很容易失去对持久实例的跟踪，这可能导致游戏开发后期出现问题。",'When you create an instance with persistence enabled in a room, this variable will be set to {}true{} and it will be assigned a layer or a depth (depending on which function you used to create the instance of the object). When the room is changed, and if the following room does {}not{} have a layer with the same name or depth as the one assigned, then a new layer will be created for the instance that is persisting across the rooms. If you gave a named layer when the instance was created, then the new layer will also be named the same as original layer, while if you assigned a depth to the instance then the new layer will be named "{}_layer_XXX{}", where "XXX" is a hex value used to give the layer a unique name. These layers will be removed from the room on Room End. Another thing to note about layers and persistent instances is that if you have assigned the instance a named layer on creation, and there is another layer in the following rooms with the same name, then the persisted instance will be assigned to the layer with the same name {}regardless of the depth of the layer{}. Finally, if a persisted instance moves to a room with a layer at the same depth as the instance was created on, it will {}not{} be assigned to this layer, but instead a new layer will be created at the same depth (following the naming convention explained previously).':'在房间中创建启用持久性的实例时，此变量将设置为{}true{}，并将指定一个图层或深度(取决于用于创建对象实例的函数)。更改房间时，如果下列房间{}没有{}与所分配的图层具有相同名称或深度的图层，则将为贯穿这些房间的实例创建新的图层。如果在创建实例时指定了命名层，则新层的名称也与原始层相同，而如果为实例指定了深度，则新层将命名为"{}_layer_XXX{}"，其中"XXX"是用于给层指定唯一名称的十六进制值。这些层将从房间末端的房间移除。关于层和持久实例，需要注意的是，如果您在创建时为实例分配了命名层，并且以下房间中有另一个层具有相同名称，则不管层{}的深度如何，持久实例都将被分配给具有相同名称的层{}。 最后，如果持久实例移动到层深度与实例创建深度相同的房间，则{}不会{}将其分配给此层，而是在相同深度创建新层(遵循前面说明的命名约定)。'},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(e){json_global=e}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../../..",gTopicId="8.2.2.3.13.1.0_4"</script><script type="text/javascript" src="../../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>persistent</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../../assets/css/default.css" type="text/css"><script src="../../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page outlining the variable persistent"><meta name="rh-index-keywords" content="persistent"><meta name="search-keywords" content="persistent"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Asset_Management/Instances/Instance_Variables/depth.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Asset_Management/Instances/Instance_Variables/solid.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="persistent"><span>persistent</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1>persistent</h1><p>This variable can be read to find out if the instance is flagged as <span class="inline">persistent</span> or not, or it can used to set persistence to <span class="inline">true</span> (persistent) or <span class="inline">false</span> (not persistent) for the instance. A persistent instance is one that will be "carried over" from room to room, meaning (for example) that it only has to be created once at the start of the game and it will be present in all further rooms. Care should be taken with persistence as it is easy to lose track of persistent instances which can lead to problems later in the development of the game.</p><p>When you create an instance with persistence enabled in a room, this variable will be set to <span class="inline">true</span> and it will be assigned a layer or a depth (depending on which function you used to create the instance of the object). When the room is changed, and if the following room does <i>not</i> have a layer with the same name or depth as the one assigned, then a new layer will be created for the instance that is persisting across the rooms. If you gave a named layer when the instance was created, then the new layer will also be named the same as original layer, while if you assigned a depth to the instance then the new layer will be named "<span class="inline">_layer_XXX</span>", where "XXX" is a hex value used to give the layer a unique name. These layers will be removed from the room on Room End. Another thing to note about layers and persistent instances is that if you have assigned the instance a named layer on creation, and there is another layer in the following rooms with the same name, then the persisted instance will be assigned to the layer with the same name <i>regardless of the depth of the layer</i>. Finally, if a persisted instance moves to a room with a layer at the same depth as the instance was created on, it will <i>not</i> be assigned to this layer, but instead a new layer will be created at the same depth (following the naming convention explained previously).</p><p>A persistent object will still have its <b>Game Start</b>, <b>Game End</b>, <b>Room Start</b> and <b>Room End</b> events triggered, however if you restart the game (with, for example, the <span class="inline">game_restart()</span> function) all persistent objects will be removed and only exist when created again by the game. Also note that if you deactivate a persistent object, it will no longer pass from one room to another unless re-activated before the Room End event is triggered.</p><p>&nbsp;</p><h4>Syntax:</h4><p class="code">persistent;</p><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_Bool"><a target="_blank" href="../../../../GML_Overview/Data_Types.htm">Boolean</a></span></p><p>&nbsp;</p><h4>Example:</h4><p class="code">if (!persistent)<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;persistent = true;<br>}</p><p>The above code will check the instance to see if persistence is flagged as <span class="inline">false</span> and if the instance is NOT persistent the persistence flag is set to <span class="inline">true</span>.</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="Instance_Variables.htm">Instance Variables</a></div><div style="float:right">Next: <a href="depth.htm">depth</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>