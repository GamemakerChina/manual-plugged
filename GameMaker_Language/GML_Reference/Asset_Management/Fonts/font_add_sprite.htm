<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/main.css"><script>let str;removeHtml=function(e){return e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(e){return e.match(/(<([^>]+)>)/gi)},setTranslator=function(e,t,a){let o;o=a?e.attr(a):e.html();let i=t[removeHtml(o)];if(null!=i&&i.length){t=retHtml(o);let n=0;t&&t.forEach(function(e,t){var a=i.replace("{"+n+"}",e);i=a===i?i.replace("{}",e):a,n++}),a?e.attr(a,i):e.html(i)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var e=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(e):($(".topic-header").append(e),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(e){return e.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"It is also worth noting that there cannot be any {}spaces{} in the character map, so that if you, for example, use '.' and '0' but not '/', you need to either include '/' anyway or leave a blank sub-image between the two used characters.":"同样值得注意的是，字符映射中不能有任何{}空格{}，因此，如果您例如使用 '.' 和 '0' 但不使用 '/'，则无论如何都需要包含 '/' 或在两个使用的字符之间留下空白的子图像。","Set as proportional font or not.":"是否设置为比例字体。",'The above code will create a new font asset from a sprite asset and store the index of the new font in the variable "global.Font" for later use.':'上面的代码将从精灵资源创建一个新的字体资源，并将新字体的索引存储在变量 "global.font" 中以供以后使用。',"The function returns an {}index{} value that should be stored in a variable as this will be needed in all further codes that refer to this font, or it will return -1 if the function fails for any reason.":"该函数返回一个{}index{}值，该值应存储在变量中，因为在引用此字体的所有其他代码中都需要此值，或者如果该函数由于任何原因而失败，它将返回-1。","The index of the first available character.":"第一个可用字符的索引。","The space to leave between each letter.":"每个字母之间要留出的空间。","The sprite itself can be a sprite asset from the Asset Browser or one loaded from a file using {}sprite_add{} first to get the index of the loaded sprite (which is then used in the function). It's important to note that for the font alignment functions (like {}{}draw_set_halign(){}{}) to work as expected when using a sprite font, the sprite should have its origin set to the {}top left corner{}. If you use other values then you will need to take the origin offset into consideration when drawing text using the font.":"精灵本身可以是来自资源浏览器的精灵资源，也可以是首先使用{}sprite_add{}从文件加载的精灵资源，以获取加载的精灵的索引 (然后在函数中使用)。重要的是要注意，要使字体对齐函数 (例如{}{}draw_set_halign(){}{}) 在使用精灵字体时按预期工作，精灵应将其原点设置为{}左上角{}。如果使用其他值，则在使用字体绘制文本时需要考虑原点偏移量。","The sprite to add a font based on.":"要添加字体的精灵.",'With this function you can use a "sprite strip" to create a new font asset, where each sub-image would be an individual symbol or letter. The index is the UTF8 map number for the first character to use and the ranges to use are the same as you would for a normal font, starting with "!" but remember that you should only include what you need and that you should be using the {}{}ord(){}{}&nbsp;function to get the correct UTF8 value for the starting letter. The created sprite font will then have the sub-images set to an individual glyph from the font, where the "first" glyph will have the image_index of 0. You can define "space" as being any character you want, for example a single line the size that you want the space to be, and all spaces in text will be rendered at that width (but the image chosen will {}never{} be rendered), or if you don\'t supply a sprite for space then the width of the widest character in the sprite font will be used instead.':'使用此函数，您可以使用 "精灵条" 来创建新的字体资源，其中每个子图像将是一个单独的符号或字母。索引是第一个要使用的字符的UTF8地图编号，使用的范围与普通字体相同，以 "!" 但是请记住，您应该仅包含所需的内容，并且应该使用{}{}ord(){}{}函数来获取起始字母的正确UTF8值。然后，创建的精灵字体将子图像设置为该字体中的单个字形，其中 "第一个" 字形的image_index为0。您可以将 "空格" 定义为您想要的任何字符，例如，您希望空格大小的单行，并且文本中的所有空格都将以该宽度呈现 (但是选择的图像将{}永远不会{}被呈现)，或者，如果您不提供sprite空间，则将使用精灵字体中最宽字符的宽度。','With this function you can use a {}sprite strip{} to create a new font asset, where each sub-image would be an individual symbol or letter. The index is the UTF8 map number for the first character to use and the ranges to use are the same as you would for a normal font, starting with "!" but remember that you should only include what you need and that you should be using the {}{}ord(){}{}&nbsp;function to get the correct UTF8 value for the starting letter. The created sprite font will then have the sub-images set to an individual glyph from the font, where the "first" glyph will have the image_index of 0. You can define "space" as being any character you want, for example a single line the size that you want the space to be, and all spaces in text will be rendered at that width (but the image chosen will {}never{} be rendered), or if you don\'t supply a sprite for space then the width of the widest character in the sprite font will be used instead.':'使用此函数，您可以使用 {} 精灵条 {} 来创建新的字体资源，其中每个子图像将是一个单独的符号或字母。索引是第一个要使用的字符的 UTF8 地图编号，使用的范围与普通字体相同，以 "!" 开始但是请记住，您应该仅包含所需的内容，并且应该使用 {}{}ord(){}{} 函数来获取起始字母的正确 UTF8 值。然后，创建的精灵字体将子图像设置为该字体中的单个字形，其中 " 第一个 " 字形的 image_index 为 0。您可以将 " 空格 " 定义为您想要的任何字符，例如，您希望空格大小的单行，并且文本中的所有空格都将以该宽度呈现 (但是选择的图像将 {} 永远不会 {} 被呈现)，或者，如果您不提供精灵空间，则将使用精灵字体中最宽字符的宽度。','You can also set the spacing for the font to be proportional ({}true{}) or not ({}false{}), where a proportional font is spaced based on the actual width of the letters (so the letter "i" takes less room than the letter "w", for example) while a non-proportional font will be spaced based on the sub-image width, like a monospaced font. Finally, you can define the space to leave between each letter when writing, and this can be any integer value, with 0 being no space (the letters will "touch" if proportional).':'您还可以将字体的间距设置为按比例 ({}true{}) 或不按比例 ({}false{})，其中按比例字体的间距是根据字母的实际宽度进行的 (因此，字母 "i" 占用的空间比字母 "w" 少，例如)，而非比例字体将根据子图像宽度进行间隔，例如等宽字体。最后，您可以定义书写时每个字母之间要留出的空间，这可以是任何整数值，0是没有空格的 (如果比例，字母将 "触摸")。',"{}{}NOTE{} {}When you load a font into {}GameMaker{} you must remember to remove it again (with {}{}{}font_delete(){}{}{}) when no longer needed, otherwise there is risk of a memory leak which will slow down and eventually crash your game.":"{}{}注意{}{}当您将字体加载到{}GameMaker{}时，您必须记住在不再需要时再次将其删除 (使用{}{}{}font_delete(){}{}{})，否则存在内存泄漏的风险，这将减慢速度并最终使您的游戏崩溃。"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(e){json_global=e}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../..",gTopicId="8.2.2.3.10.0_14"</script><script type="text/javascript" src="../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>font_add_sprite</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css"><script src="../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page outlining the function font_add_sprite"><meta name="rh-index-keywords" content="font_add_sprite"><meta name="search-keywords" content="font_add_sprite"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Asset_Management/Fonts/font_add_sprite_ext.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Asset_Management/Fonts/font_add.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="font_add_sprite"><span>font_add_sprite</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1>font_add_sprite</h1><p>With this function you can use a <a href="../../../../The_Asset_Editors/Sprite_Properties/Sprite_Strips.htm">sprite strip</a> to create a new font asset, where each sub-image would be an individual symbol or letter. The index is the UTF8 map number for the first character to use and the ranges to use are the same as you would for a normal font, starting with "!" but remember that you should only include what you need and that you should be using the <a href="../../Strings/ord.htm"><span class="inline">ord()</span></a>&nbsp;function to get the correct UTF8 value for the starting letter. The created sprite font will then have the sub-images set to an individual glyph from the font, where the "first" glyph will have the image_index of 0. You can define "space" as being any character you want, for example a single line the size that you want the space to be, and all spaces in text will be rendered at that width (but the image chosen will <i>never</i> be rendered), or if you don't supply a sprite for space then the width of the widest character in the sprite font will be used instead.</p><p>You can also set the spacing for the font to be proportional (<span class="inline">true</span>) or not (<span class="inline">false</span>), where a proportional font is spaced based on the actual width of the letters (so the letter "i" takes less room than the letter "w", for example) while a non-proportional font will be spaced based on the sub-image width, like a monospaced font. Finally, you can define the space to leave between each letter when writing, and this can be any integer value, with 0 being no space (the letters will "touch" if proportional).</p><p>The function returns an <i>index</i> value that should be stored in a variable as this will be needed in all further codes that refer to this font, or it will return -1 if the function fails for any reason.</p><p>It is also worth noting that there cannot be any <i>spaces</i> in the character map, so that if you, for example, use '.' and '0' but not '/', you need to either include '/' anyway or leave a blank sub-image between the two used characters.</p><p>The sprite itself can be a sprite asset from the Asset Browser or one loaded from a file using <span class="inline">sprite_add</span> first to get the index of the loaded sprite (which is then used in the function). It's important to note that for the font alignment functions (like <a href="../../Drawing/Text/draw_set_halign.htm"><span class="inline">draw_set_halign()</span></a>) to work as expected when using a sprite font, the sprite should have its origin set to the <i>top left corner</i>. If you use other values then you will need to take the origin offset into consideration when drawing text using the font.</p><p class="note"><b><span class="note">NOTE</span></b> When you load a font into <span data-keyref="GameMaker Name">GameMaker</span> you must remember to remove it again (with <span style="font-size:1px"><a href="font_delete.htm"><span class="inline">font_delete()</span></a></span>) when no longer needed, otherwise there is risk of a memory leak which will slow down and eventually crash your game.</p><p>&nbsp;</p><h4>Syntax:</h4><p class="code">font_add_sprite(spr, first, prop, sep);</p><table><tbody><tr><th>Argument</th><th>Type</th><th>Description</th></tr><tr><td>spr</td><td><span data-keyref="Type_Asset_Sprite"><a target="_blank" href="../../../../The_Asset_Editors/Sprites.htm">Sprite Asset</a></span></td><td>The sprite to add a font based on.</td></tr><tr><td>first</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The index of the first available character.</td></tr><tr><td>prop</td><td><span data-keyref="Type_Bool"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Boolean</a></span></td><td>Set as proportional font or not.</td></tr><tr><td>sep</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The space to leave between each letter.</td></tr></tbody></table><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_Asset_Font"><a target="_blank" href="../../../../The_Asset_Editors/Fonts.htm">Font Asset</a></span></p><p>&nbsp;</p><h4>Example:</h4><p class="code">global.Font = font_add_sprite(spr_HUD_Font, ord("!"), true, 2);</p><p>The above code will create a new font asset from a sprite asset and store the index of the new font in the variable "global.Font" for later use.</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="Fonts.htm">Fonts</a></div><div style="float:right">Next: <a href="font_add_sprite_ext.htm">font_add_sprite_ext</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>