<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/main.css"><script>let str;removeHtml=function(t){return t=(t=(t=(t=t.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(t){return t.match(/(<([^>]+)>)/gi)},setTranslator=function(t,e,n){let a;a=n?t.attr(n):t.html();let i=e[removeHtml(a)];if(null!=i&&i.length){e=retHtml(a);let o=0;e&&e.forEach(function(t,e){var n=i.replace("{"+o+"}",t);i=n===i?i.replace("{}",t):n,o++}),n?t.attr(n,i):t.html(i)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var t=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(t):($(".topic-header").append(t),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(t){return t.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={'The above code creates a new path resource and stores its index in the variable "path". It then generates a path using {}mp_potential_path{} between the object with this code and the object "obj_Player", checking for collisions with the object "obj_Wall". Finally it starts the object along that path, even if the function has failed to return a complete route to the "obj_Player".':'上述代码创建新的路径资源并将其索引存储在变量"路径"中。然后在具有此代码的对象和对象"obj_Player"之间使用{}mp_potential_path{}生成路径，检查碰撞使用对象"obj_Wall"。最后，它沿着该路径启动对象，即使函数未能返回到"obj_Player"的完整路由。',"The object that is to block the path. Can be an object index, an instance id or the special keyword ,{}all{}":"要阻止路径的对象。可以是对象索引、实例ID或特殊关键字，{}全部{}","The speed the instance moves in pixels per step.":"实例每步移动的速度(以像素为单位)。","The target x position.":"目标x位置。","The target y position.":"目标y位置。",'This function computes a path for the instance from its current position {}and orientation{} to the position specified by the xgoal, ygoal arguments. It uses the indicated step size while trying to avoid collision with instances of the object specified by the "obj" argument. Like in the function {}{}mp_potential_step(){}{} it uses potential field steps to accomplish this and the manner in which it does this can be modified through the function {}{}mp_potential_settings(){}{}. The indicated path must already exist and it will be overwritten by the new path. The function will return whether a path was found (true) or not (false).':'此函数计算实例从其当前位置{}和方向{}到xgoal ygoal参数指定的位置的路径。在尝试避免与指定对象的实例发生碰撞时，它使用指定的步长通过"obj"论证。与函数{}{}mp_potential_step(){}{}一样，它使用潜在的字段步骤来完成此操作，并且可以通过函数{}{}mp_potential_settings(){}{}修改执行此操作的方式。指示的路径必须已存在，并且将被新路径覆盖。该函数将返回是否找到路径(true)或否(false)。',"This number is used to prevent an infinite loop. It should be larger than 1. See the function description for more information.":"此数字用于防止无限循环。应大于1。有关详细信息，请参阅函数说明。","To avoid the function continuing to compute forever you need to provide a factor of larger than 1 - the function will stop and report failure if it cannot find a path shorter than this factor times the distance between start and goal. A factor of 4 is normally good enough but if you expect long detours you might make it longer. If it fails a path is still created that runs in the approximate direction of the goal but it will not reach it.":"为了避免函数永远继续计算，您需要提供大于1的系数-如果无法找到短于此系数乘以开始和目标之间距离的路径，则函数将停止并报告失败。系数为4通常已经足够好了，但是如果你期望长时间的绕道，你可能会让它更长。如果失败，仍会创建一条路径，该路径沿目标的近似方向运行，但不会到达目标。","index of the path that is to be used by the function":"函数要使用的路径的索引","{}NOTE{}: This function does not move the instance. It sets a path only, and you must use the {}Path{} functions for movement.":"{}注意{}:此函数不会移动实例。它只设置路径，您必须使用{}Path{}函数进行移动。"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(t){json_global=t}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../..",gTopicId="8.2.2.5.2.0_9"</script><script type="text/javascript" src="../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>mp_potential_path_object</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css"><script src="../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="This page outlines the function mp_potential_path_object"><meta name="rh-index-keywords" content="mp_potential_path_object"><meta name="search-keywords" content="mp_potential_path_object"><meta name="is_pure" content="true"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Movement_And_Collisions/Motion_Planning/mp_grid_create.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Movement_And_Collisions/Motion_Planning/mp_potential_path.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="mp_potential_path_object"><span>mp_potential_path_object</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1>mp_potential_path_object</h1><p>This function computes a path for the instance from its current position <i>and orientation</i> to the position specified by the xgoal, ygoal arguments. It uses the indicated step size while trying to avoid collision with instances of the object specified by the "obj" argument. Like in the function <a href="mp_potential_step.htm"><span class="inline">mp_potential_step()</span></a> it uses potential field steps to accomplish this and the manner in which it does this can be modified through the function <a href="mp_potential_settings.htm"><span class="inline">mp_potential_settings()</span></a>. The indicated path must already exist and it will be overwritten by the new path. The function will return whether a path was found (true) or not (false).</p><p>To avoid the function continuing to compute forever you need to provide a factor of larger than 1 - the function will stop and report failure if it cannot find a path shorter than this factor times the distance between start and goal. A factor of 4 is normally good enough but if you expect long detours you might make it longer. If it fails a path is still created that runs in the approximate direction of the goal but it will not reach it.</p><p class="note"><b>NOTE</b>: This function does not move the instance. It sets a path only, and you must use the <a href="../../Asset_Management/Paths/Paths.htm">Path</a> functions for movement.</p><p>&nbsp;</p><h4>Syntax:</h4><p class="code">mp_potential_path_object(path, xgoal, ygoal, stepsize, factor, obj)</p><table><tbody><tr><th>Argument</th><th>Type</th><th>Description</th></tr><tr><td>path</td><td><span data-keyref="Type_Asset_Path"><a target="_blank" href="../../../../The_Asset_Editors/Paths.htm">Path Asset</a></span></td><td>index of the path that is to be used by the function</td></tr><tr><td>xgoal</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The target x position.</td></tr><tr><td>ygoal</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The target y position.</td></tr><tr><td>stepsize</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The speed the instance moves in pixels per step.</td></tr><tr><td>factor</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>This number is used to prevent an infinite loop. It should be larger than 1. See the function description for more information.</td></tr><tr><td>obj</td><td><span data-keyref="Type_Asset_Object"><a target="_blank" href="../../../../The_Asset_Editors/Objects.htm">Object Asset</a></span></td><td>The object that is to block the path. Can be an object index, an instance id or the special keyword ,<b>all</b></td></tr></tbody></table><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_Bool"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Boolean</a></span></p><p>&nbsp;</p><h4>Example:</h4><p class="code">path = path_add();<br>mp_potential_path_object(path, obj_Player.x, obj_Player.y, 3, 4, obj_Wall);<br>path_start(path, 3, 0, 0);</p><p>The above code creates a new path resource and stores its index in the variable "path". It then generates a path using <span class="inline">mp_potential_path</span> between the object with this code and the object "obj_Player", checking for collisions with the object "obj_Wall". Finally it starts the object along that path, even if the function has failed to return a complete route to the "obj_Player".</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back:&nbsp;<a href="Motion_Planning.htm">Motion Planning</a></div><div style="float:right">Next:&nbsp;<a href="mp_grid_create.htm">mp_grid_create</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>