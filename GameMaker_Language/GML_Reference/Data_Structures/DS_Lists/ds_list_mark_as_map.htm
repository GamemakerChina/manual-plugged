<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/main.css"><script>let str;removeHtml=function(t){return t=(t=(t=(t=t.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(t){return t.match(/(<([^>]+)>)/gi)},setTranslator=function(t,e,a){let o;o=a?t.attr(a):t.html();let i=e[removeHtml(o)];if(null!=i&&i.length){e=retHtml(o);let n=0;e&&e.forEach(function(t,e){var a=i.replace("{"+n+"}",t);i=a===i?i.replace("{}",t):a,n++}),a?t.attr(a,i):t.html(i)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var t=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(t):($(".topic-header").append(t),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(t){return t.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={'It is also worth noting that if the position that has been marked changes within the list, the "mark" will move with it, so if you have marked position 3 in the list (for example) and then insert 2 more items below it so it moves up to position 5, it will {}still{} be marked as a map.':'另外值得注意的是，如果已标记的位置在列表中发生变化，则"mark"将随之移动，因此，如果您在列表中标记了位置3(例如)，然后在其下面再插入2个项目，使其向上移动到位置5，则仍将{}标记为地图。','The above code creates a DS map and then populates it with two keys, each containing an array of values. This map is then added into the given DS list , and the position "marked" as such so that it can be correctly encoded later.':'上述代码创建一个DS映射，然后使用两个密钥填充该映射，每个密钥都包含一个值数组。然后将该映射添加到给定的DS列表中，并将该位置"标记为"，以便以后可以对其进行正确编码。',"The id of the list to mark.":"要标记的列表的ID。","The position within the list to mark.":"列表中要标记的位置。",'This function will "mark" (or "flag") a given position within a previously created DS list as holding a {}DS map{}. This functionality is required when encoding JSON strings (which you can create using {}{}json_encode(){}{}), but can also be useful when nesting data-structures, as items marked in this way will automatically be garbage collected (destroyed) when the parent DS list is destroyed. This means that you do not have to manually go through the list contents and destroy the marked data structures individually before destroying the "parent" list. However, if you delete the list position individually, the data structure it contained will {}not{} be garbage collected and you should call the appropriate DS map destroy function before deleting the parent list position. Also note that if you call the function {}{}ds_list_clear(){}{} on a list, any items flagged as maps will be destroyed as well when the list is cleared.':'此函数将在先前创建的DS列表中"标记"(或标记)给定的位置，以保存{}DS映射{}。在编码JSON字符串(您可以使用{}{}json_encode(){}{}创建)时需要此函数，但在嵌套数据结构时也很有用，因为在销毁父DS列表时，以此方式标记的项目将自动被垃圾收集(销毁)。这意味着，在销毁"父"列表之前，您不必手动浏览列表内容并单独销毁标记的数据结构。但是，如果单独删除列表位置，则其中包含的数据结构{}将不会{}被垃圾收集，您应该在删除父列表位置之前调用相应的DS映射销毁函数。另请注意，如果在列表中调用函数{}{}ds_list_clear(){}{}，则在清除列表时，任何标记为映射的项目也将被销毁。'},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(t){json_global=t}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../..",gTopicId="8.2.2.9.2.0_19"</script><script type="text/javascript" src="../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>ds_list_mark_as_map</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css"><script src="../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Reference page for ds_list_mark_as_map"><meta name="rh-index-keywords" content="ds_list_mark_as_map"><meta name="search-keywords" content="ds_list_mark_as_map"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Data_Structures/DS_Lists/ds_list_is_list.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Data_Structures/DS_Lists/ds_list_mark_as_list.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="ds_list_mark_as_map"><span>ds_list_mark_as_map</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">ds_list_mark_as_map</span></h1><p>This function will "mark" (or "flag") a given position within a previously created DS list as holding a <a href="../DS_Maps/DS_Maps.htm">DS map</a>.</p><p>This functionality is required when encoding JSON strings (which you can create using <span class="inline3_func"><a href="../../File_Handling/Encoding_And_Hashing/json_encode.htm">json_encode</a></span>), but can also be useful when nesting data structures, as items marked in this way will automatically be garbage collected (destroyed) when the parent DS list is destroyed. This means that you do not have to manually go through the list contents and destroy the marked data structures individually before destroying the "parent" list. However, if you delete the list position individually, the data structure it contained will <i>not</i> be garbage collected and you should call the appropriate DS map destroy function before deleting the parent list position. Also note that if you call the function&nbsp;<span class="inline3_func"><a href="ds_list_clear.htm">ds_list_clear</a></span> on a list, any items flagged as maps will be destroyed as well when the list is cleared.</p><div data-conref="../../../../assets/snippets/Note_DS_List_Mark_Moves.hts"><p class="note"><span data-conref="../../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;If the position that has been marked changes within the list, the "mark" will move with it, so if you have marked position 3 in the list (for example) and then insert 2 more items below it so it moves up to position 5, it will <i>still</i> be marked as a list.</p></div><p>&nbsp;</p><h4>Syntax:</h4><p class="code"><span data-field="title" data-format="default">ds_list_mark_as_map</span>(id, pos);</p><table><tbody><tr><th>Argument</th><th>Type</th><th>Description</th></tr><tr><td>id</td><td><span data-keyref="Type_ID_DS_List"><a target="_blank" href="ds_list_create.htm">DS List</a></span></td><td>The ID of the list to mark.</td></tr><tr><td>pos</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The position within the list to mark.</td></tr></tbody></table><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_ID_DS_Map"><a target="_blank" href="../DS_Maps/ds_map_create.htm">DS Map</a></span>&nbsp;or -1 (if it fails)</p><p>&nbsp;</p><h4>Example:</h4><p class="code">var sub_map = ds_map_create();<br>ds_map_add(sub_map, "player", player_array);<br>ds_map_add(sub_map, "enemy", enemy_array);<br>ds_list_add(j_list, sub_map);<br>ds_list_mark_as_map(j_list, 0);</p><p>The above code creates a DS map and then populates it with two keys, each containing an array of values. This map is then added to the given DS list , and the position "marked" as such so that it can be correctly encoded later.</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="DS_Lists.htm">DS Lists</a></div><div style="float:right">Next:&nbsp;<a href="ds_list_is_list.htm">ds_list_is_list</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>