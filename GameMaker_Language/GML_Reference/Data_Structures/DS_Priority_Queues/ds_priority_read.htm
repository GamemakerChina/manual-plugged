<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/main.css"><script>let str;removeHtml=function(t){return t=(t=(t=(t=t.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(t){return t.match(/(<([^>]+)>)/gi)},setTranslator=function(t,e,n){let o;o=n?t.attr(n):t.html();let i=e[removeHtml(o)];if(null!=i&&i.length){e=retHtml(o);let a=0;e&&e.forEach(function(t,e){var n=i.replace("{"+a+"}",t);i=n===i?i.replace("{}",t):n,a++}),n?t.attr(n,i):t.html(i)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var t=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(t):($(".topic-header").append(t),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(t){return t.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={'Note that if the specified DS string was written by the GameMaker: Studio 1.2.x runtime (or older),&nbsp;you should specify the optional argument "legacy", setting it to {}true{} as the string format changed after that.':'请注意，如果指定的DS字符串是GameMaker编写的：Studio 1.2. x运行时(或更早版本)，您应该指定可选参数"legacy"，将其设置为{}true{}，作为之后更改的字符串格式。','The above code creates a priority queue and stores the index in the variable "p_queue". It then opens an {}ini{} file and reads a string from that, checking to make sure that the string is not returned as empty first. This string is then read into the newly created DS priority.':'上述代码创建优先级队列并将索引存储在变量"p_queue"中。然后打开{}ini{}文件并从中读取字符串，检查以确保字符串不会首先返回为空。然后将此字符串读入新创建的DS优先级。',"The id of the data structure to write.":"要写入的数据结构的ID。","The string to read from.":"要从中读取的字符串。","With this function you can recreate a saved DS priority (one that has previously been written as a string using {}{}ds_priority_write(){}{}). You must first create a new DS priority to read the string into, and if the DS priority already exists and has information stored in it, then this will be cleared before reading. This function is of vital importance when creating save/load mechanisms for your game.":"使用此函数，您可以重新创建已保存的DS优先级(以前使用{}{}ds_priority_write(){}{}作为字符串写入的优先级)。必须首先创建新的DS优先级才能将字符串读入，如果DS优先级已存在并且其中存储有信息，则在读取之前将清除此优先级。为游戏创建保存/加载机制时，此函数至关重要。","{}OPTIONAL{}&nbsp;Can be either {}true{} or {}false{} or omitted completely.":"{}可选{}可以为{}true{}或{}false{}，也可以完全省略。"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(t){json_global=t}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../..",gTopicId="8.2.2.9.4.0_15"</script><script type="text/javascript" src="../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>ds_priority_read</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css"><script src="../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Reference page for ds_priority_read"><meta name="rh-index-keywords" content="ds_priority_read"><meta name="search-keywords" content="ds_priority_read"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Data_Structures/DS_Priority_Queues/ds_priority_write.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Data_Structures/DS_Priority_Queues/ds_priority_copy.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="ds_priority_read"><span>ds_priority_read</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1>ds_priority_read</h1><p>With this function you can recreate a saved DS priority (one that has previously been written as a string using <a href="ds_priority_write.htm"><span class="inline">ds_priority_write()</span></a>). You must first create a new DS priority to read the string into, and if the DS priority already exists and has information stored in it, then this will be cleared before reading. This function is of vital importance when creating save/load mechanisms for your game.</p><p>Note that if the specified DS string was written by the GameMaker: Studio 1.2.x runtime (or older),&nbsp;you should specify the optional argument "legacy", setting it to <span class="inline">true</span> as the string format changed after that.</p><p>&nbsp;</p><h4>Syntax:</h4><p class="code">ds_priority_read(id, str, [legacy]);</p><table><tbody><tr><th>Argument</th><th>Type</th><th>Description</th></tr><tr><td>id</td><td><span data-keyref="Type_ID_DS_Priority"><a target="_blank" href="ds_priority_create.htm">DS Priority</a></span></td><td>The id of the data structure to write.</td></tr><tr><td>str</td><td><span data-keyref="Type_String"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">String</a></span></td><td>The string to read from.</td></tr><tr><td>legacy</td><td><span data-keyref="Type_Bool"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Boolean</a></span></td><td><span class="optional">OPTIONAL</span>&nbsp;Can be either <span class="inline">true</span> or <span class="inline">false</span> or omitted completely.</td></tr></tbody></table><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_Void">N/A</span></p><p>&nbsp;</p><h4>Example:</h4><p class="code">p_queue = ds_priority_create();<br>ini_open("save.ini");<br>var str = ini_read_string("P_Queues", "0", "");<br>if (str != "")<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;ds_priority_read(p_queue, str);<br>}<br>ini_close();</p><p>The above code creates a priority queue and stores the index in the variable "p_queue". It then opens an <span class="inline">ini</span> file and reads a string from that, checking to make sure that the string is not returned as empty first. This string is then read into the newly created DS priority.</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back:&nbsp;<a href="DS_Priority_Queues.htm">DS Priority Queues</a></div><div style="float:right">Next:&nbsp;<a href="ds_priority_write.htm">ds_priority_write</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>