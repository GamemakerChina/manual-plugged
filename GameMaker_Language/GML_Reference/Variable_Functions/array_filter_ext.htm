<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/main.css"><script>let str;removeHtml=function(e){return e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(e){return e.match(/(<([^>]+)>)/gi)},setTranslator=function(e,t,n){let r;r=n?e.attr(n):e.html();let i=t[removeHtml(r)];if(null!=i&&i.length){t=retHtml(r);let a=0;t&&t.forEach(function(e,t){var n=i.replace("{"+a+"}",e);i=n===i?i.replace("{}",e):n,a++}),n?e.attr(n,i):e.html(i)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var e=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(e):($(".topic-header").append(e),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(e){return e.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"An array {}values{} is then initialised with the digits from 1 to 9.":"然后使用从 1 到 9 的数字对数组 {}values{} 进行初始化。","Boolean&nbsp;(whether the condition checked in the {}function{} is {}true{} {}or{} {}false{})":"布尔值(在{}函数{}中检查的条件是{}true{}{}还是{}{}false{})","Finally&nbsp;{}{}array_filter_ext{}{}&nbsp;is called on this array with the predicate function. It takes a starting index of {}-2{} (the second-last index) and a length of {}{}-infinity{}{}. This will start checking at 8 and go backwards to the beginning of the array.":"最后，使用判断函数在此数组上调用 {}{}array_filter_ext{}{}。它的起始索引为 {}-2{}( 倒数第二个索引)，长度为 {}{}-infinity{}{}。这将从 8 开始检查，并向后返回到数组的开头。","From there the function finds 4 even numbers ({}8, 6, 4, 2{}), so it returns 4 as the new valid number of elements.":"该函数从中找到 4 个偶数 ({}8，6，4，2{})，因此它返回 4 作为新的有效元素数。","See information and examples on&nbsp;{}Predicate Function{}.":"请参阅有关{}判断函数{}的信息和示例。","See information and examples on&nbsp;{}Predicate Method{}.":"请参阅有关{}判断方法{}的信息和示例。","Since this function mutates the original array, {}_values{} becomes {}[1, 2, 3, 4, {}2, 4, 6, 8,{} 9]{}, writing the even numbers into the array from the index where it started searching.":"由于此函数会改变原始数组，因此 {}_values{} 变为 {}[1，2，3，4，{}2，4，6，8，{}9]{}，将偶数从它开始搜索的索引写入数组。","The above code first defines a function {}_is_even{}&nbsp;that takes {}element{} and {}index{} parameters and returns {}true{} when the element is an even number.":"上面的代码首先定义了一个函数 {}_is_even{}，该函数接受 {}element{} 和 {}index{} 参数，并在元素为偶数时返回 {}true{}。","The above code first defines a function {}greater_than_5{}&nbsp;that takes in an element and index parameter and returns {}true{} when the element is greater than 5. An array {}values{} is then initialised with the digits from 1 to 9. Finally&nbsp;{}{}array_filter_ext{}{}&nbsp;is called on this array with the function. It takes a starting index of -2 (the {}one before last{} index) and a length of {}{}infinity{}{}. 8 is the value at the starting index and 9 the value after that. Both are greater than 5 so the function will return a value of 5 and store it in the temporary variable&nbsp;{}valid_elements{}.":"上面的代码首先定义了函数{}begree_than_5{}，该函数接收元素和索引参数，当元素大于5时返回{}true{}。数组{}values{}随后以数字1到9初始化。最后，使用函数在此数组上调用{}{}array_filter_ext{}{}。其起始索引为-2(最后一个{}索引之前的{}索引)，长度为{}{}无限{}{}。 8 为起始指数值，9为起始指数后的值。两者都大于5，因此函数将返回5并将其存储在临时变量{}valid_elements{}中。","The array to use":"要使用的数组","The current array element":"当前数组元素","The current array element's value":"当前数组元素的值","The current array index":"当前数组索引","The first element for which the predicate function returns {}true{} is written at the index given by&nbsp;{}offset{}, others are written to subsequent indices (in the direction given by the sign of the&nbsp;{}length{} parameter).":"判断函数返回 {}true{} 的第一个元素写入 {}offset{} 给出的索引处，其他元素写入后续索引 (按照 {}length{} 参数的符号给出的方向)。","The first element for which the predicate function returns {}true{} is written to the index given by&nbsp;{}offset{}, others are written to subsequent indices (with the direction given by the sign of the&nbsp;{}length{} parameter).":"判断函数返回{}true{}的第一个元素被写入{}offset{}给出的索引，其他元素被写入后续索引(方向由{}length{}参数的符号给出)。","The function to use for each element":"用于每个元素的函数","The predicate function should return a&nbsp;{}{}Boolean{}{}{}, which affects how the original function modifies or reads the array{}{}.{}":"判断函数应返回{}{}布尔值{}{}{}，这会影响原始函数修改或读取数组的方式{}{}。{}","The&nbsp;{}Predicate Function{}&nbsp;to run on each element":"对每个元素运行的{}判断函数{}","This function is similar to&nbsp;{}array_filter{}, but instead of returning a new array, it modifies the original array that was passed as an argument.":"此函数类似于 {}array_filter{}，但它不返回新数组，而是修改作为参数传递的原始数组。","This function returns the new number of valid elements, starting at the given offset position and in the direction set by the length argument. For this function, it's the number of elements for which the predicate returned {}true{}, and were written back to the array.":"此函数返回新的有效元素数，从给定的偏移量位置开始，并沿长度参数设置的方向。对于此函数，它是判断返回 {}true{} 并被写回数组的元素的数量。","This function takes a&nbsp;{}Predicate Function{}&nbsp;that operates on the given array. The predicate function is passed the following arguments:":"此函数接受在给定数组上操作的{}判断函数{}。向判断函数传递以下参数：","This function takes a&nbsp;{}Predicate Method{}&nbsp;that operates on the given array. The predicate function is passed the following arguments:":"此函数接受在给定数组上操作的{}判断方法{}。向判断函数传递以下参数：","{}Predicate Function{}{}Predicate Function{}":"{}判断函数{}{}判断函数{}","{}This mutates the input array resulting in an array with only the elements for which&nbsp;{}the predicate function&nbsp;{}returns&nbsp;{}true{}.{}":"{}这会改变输入数组，导致数组仅包含{}判断函数{}返回{}true{}的元素。{}","{}You supply a&nbsp;{}Predicate Function{}&nbsp;which runs for all elements in the array. It should return either&nbsp;{}true{} or {}false{}&nbsp;based on a condition.{}":"{} 您提供了一个对数组中的所有元素运行的 {} 判断函数 {}。它应根据条件返回 {}true{} 或 {}false{}。{}","{}You supply a&nbsp;{}Predicate Method{}&nbsp;which runs for all elements in the array. It should return either&nbsp;{}true{} or {}false{}&nbsp;based on a condition.{}":"{}您提供了一个对数组中的所有元素运行的{}判断方法{}。它应根据条件返回 {}true{} 或 {}false{}。{}","{}{}IMPORTANT{}{}&nbsp;This function {}mutates{}&nbsp;the input array, i.e. changes it directly. Existing array elements in the range given by the offset and length parameter might be overwritten. For performance reasons the array is {}not{} resized and the new number of {}valid{} elements is returned instead.":"{}{}重要{}{} 此函数对输入数组进行{}突变{}，即直接更改。偏移量和长度参数指定的范围内的现有数组元素可能会被覆盖。出于性能原因，数组{}未{}调整大小，而是返回{}新的{}有效元素数。","{}{}IMPORTANT{}{}&nbsp;This function {}mutates{}&nbsp;the input array, i.e. changes it directly. Existing array elements in the range given by the offset and length parameter might be overwritten. For performance reasons the array is {}not{} resized and the new number of {}valid{} elements, starting at the offset position and in the direction given by the sign of the length parameter, is returned instead.":"{}{}重要{}{}此函数{}改变{}输入数组，即直接更改它。偏移量和长度参数指定的范围内的现有数组元素可能会被覆盖。由于性能原因，数组的大小{}不{}调整，而是返回新的{}有效{}元素，这些元素从偏移位置开始，方向由长度参数的符号给定。","{}{}OPTIONAL{}{}&nbsp;The number of elements to traverse. A negative value will traverse the array backwards (i.e. in descending order of indices, e.g. 2 &gt; 1 &gt; 0 instead of 0 &gt; 1 &gt; 2).":"{}{}可选{}{}要遍历的元素数量。负值将向后遍历数组 (即按索引的降序排列，例如2 &gt; 1 &gt; 0而不是0 &gt; 1 &gt; 2)。","{}{}OPTIONAL{}{}&nbsp;The number of elements to traverse. A negative value will traverse the array backwards (i.e. in descending order of indices, e.g. 2, 1, 0 instead of 2, 3, 4). See:&nbsp;{}Offset And Length{}":"{}{}可选{}{} 要遍历的元素数。负值将向后遍历数组(即以索引的降序，例如 2、1、0 而不是 2、3、4)。请参阅：{}偏移量和长度{}","{}{}OPTIONAL{}{}&nbsp;The offset, or starting index, in the array. Setting a negative value will count from the end of the array. The starting index will then be {}array_length(array) + offset{}. See:&nbsp;{}Offset And Length{}":"{}{}可选{}{} 数组中的偏移量或起始索引。设置负值将从数组的末尾开始计数。然后，起始索引将是 {}array_length(array) + offset{}。请参阅：{}偏移量和长度{}","{}{}OPTIONAL{}{}&nbsp;The offset, or the starting index, in the array. Setting a negative value will count from the end of the array. The starting index will then be {}array_length(array) + offset{}.":"{}{}可选{}{}数组中的偏移量或起始索引。设置负值将从数组的末尾开始计数。然后，起始索引将为 {}array_length(array) + offset{}.","{}{}Real{}{}&nbsp;(the number of valid elements in the array)":"{}{}实数{}{}(数组中有效元素的数量)"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(e){json_global=e}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../..",gTopicId="8.2.2.2.0_37"</script><script type="text/javascript" src="../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>array_filter_ext</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" type="text/css" href="../../../assets/css/default.css"><script src="../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content=""><meta name="topic-comment" content=""><meta name="rh-index-keywords" content="array_filter_ext"><meta name="search-keywords" content="array_filter_ext"><meta name="template" content="assets/masterpages/Manual_Keyword_Page.htt"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Variable_Functions/array_map_ext.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Variable_Functions/array_create_ext.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="array_filter_ext"><span>array_filter_ext</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">array_filter_ext</span></h1><p>This function is similar to&nbsp;<a href="array_filter.htm">array_filter</a>, but instead of returning a new array, it modifies the original array that was passed as an argument.</p><p><span>You supply a&nbsp;<a href="Array_Functions.htm#h">Predicate Method</a>&nbsp;which runs for all elements in the array. It should return either&nbsp;<span class="inline2">true</span> or <span class="inline2">false</span>&nbsp;based on a condition.</span></p><p>The first element for which the predicate function returns <span class="inline2">true</span> is written at the index given by&nbsp;<span class="inline2">offset</span>, others are written to subsequent indices (in the direction given by the sign of the&nbsp;<span class="inline2">length</span> parameter).</p><p>This function returns the new number of valid elements, starting at the given offset position and in the direction set by the length argument. For this function, it's the number of elements for which the predicate returned <span class="inline2">true</span>, and were written back to the array.</p><div data-conref="../../../assets/snippets/Syntax_predicate_general.hts"><p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down" href="#"><span data-open-text="true" data-skip-index="true">Predicate Function</span><span data-close-text="true">Predicate Function</span></a></p><div class="droptext" data-targetname="drop-down"><p>This function takes a&nbsp;<a href="Array_Functions.htm#h">Predicate Method</a>&nbsp;that operates on the given array. The predicate function is passed the following arguments:</p><h4>Syntax:</h4><p class="code">function(element, index);</p><table class="cke_show_border"><tbody><tr><th>Argument</th><th>Type</th><th>Description</th></tr><tr><td>element</td><td><span data-keyref="Type_Any"><a target="_blank" href="../../GML_Overview/Data_Types.htm#variable">Any</a></span></td><td>The current array element's value</td></tr><tr><td>index</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The current array index</td></tr></tbody></table><p>The predicate function should return a&nbsp;<span data-keyref="Type_Bool"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Boolean</a></span><span style="text-align:justify">, which affects how the original function modifies or reads the array</span><span style="text-align:justify">.</span></p><p>See information and examples on&nbsp;<a href="Array_Functions.htm#h">Predicate Method</a>.</p></div></div><div data-conref="../../../assets/snippets/function_mutable.hts"><p class="note"><span data-conref="../../../assets/snippets/Tag_important.hts"><span class="important">IMPORTANT</span></span>&nbsp;This function <i>mutates</i>&nbsp;the input array, i.e. changes it directly. Existing array elements in the range given by the offset and length parameter might be overwritten. For performance reasons the array is <strong>not</strong> resized and the new number of <i>valid</i> elements is returned instead.</p></div><div data-conref="../../../assets/snippets/Syntax_signature_element_index_returns_bool.hts"><div data-conref="../../../assets/snippets/Syntax_signature_element_index.hts"><h4>Syntax:</h4><p class="code"><span data-field="title" data-format="default">array_filter_ext</span>(array, function, [offset], [length]);</p><table><colgroup><col><col><col></colgroup><tbody><tr><th>Argument</th><th>Type</th><th>Description</th></tr><tr><td>array</td><td><span data-keyref="Type_Array"><a target="_blank" href="../../GML_Overview/Arrays.htm">Array</a></span></td><td>The array to use</td></tr><tr><td>function</td><td><span data-keyref="Type_Function"><a target="_blank" href="../../GML_Overview/Script_Functions.htm">Function</a></span></td><td>The&nbsp;<a href="Array_Functions.htm#h">Predicate Method</a>&nbsp;to run on each element</td></tr><tr><td>offset</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Real</a></span></td><td><span data-conref="../../../assets/snippets/Tag_optional.hts"><span class="optional">OPTIONAL</span></span>&nbsp;The offset, or starting index, in the array. Setting a negative value will count from the end of the array. The starting index will then be <span class="inline2">array_length(array) + offset</span>. See:&nbsp;<a href="Array_Functions.htm#h1">Offset And Length</a></td></tr><tr><td>length</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Real</a></span></td><td><span data-conref="../../../assets/snippets/Tag_optional.hts"><span class="optional">OPTIONAL</span></span>&nbsp;The number of elements to traverse. A negative value will traverse the array backwards (i.e. in descending order of indices, e.g. 2, 1, 0 instead of 2, 3, 4). See:&nbsp;<a href="Array_Functions.htm#h1">Offset And Length</a></td></tr></tbody></table></div></div><h4>Returns:</h4><p class="code"><span data-keyref="Type_Real"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Real</a></span>&nbsp;(the number of valid elements in the array)</p><p>&nbsp;</p><h4>Example:</h4><p class="code">var _is_even = function(_element, _index) {<br>&nbsp;&nbsp;&nbsp;&nbsp;return (_element mod 2) == 0;<br>}<br><br>var _values = [1, 2, 3, 4, 5, 6, 7, 8, 9];<br>var _valid_elements = array_filter_ext(_values, _is_even, -2, -infinity);</p><p>The above code first defines a function <span class="inline2">_is_even</span>&nbsp;that takes <span class="inline2">element</span> and <span class="inline2">index</span> parameters and returns <span class="inline2">true</span> when the element is an even number.</p><p>An array <span class="inline2">values</span> is then initialised with the digits from 1 to 9.</p><p>Finally&nbsp;<span class="inline2"><span data-field="title" data-format="default">array_filter_ext</span></span>&nbsp;is called on this array with the predicate function. It takes a starting index of <span class="inline2">-2</span> (the second-last index) and a length of <a href="../../GML_Overview/Data_Types.htm"><span class="inline2">-infinity</span></a>. This will start checking at 8 and go backwards to the beginning of the array.</p><p>From there the function finds 4 even numbers (<span class="inline2">8, 6, 4, 2</span>), so it returns 4 as the new valid number of elements.</p><p>Since this function mutates the original array, <span class="inline2">_values</span> becomes <span class="inline2">[1, 2, 3, 4, <strong>2, 4, 6, 8,</strong> 9]</span>, writing the even numbers into the array from the index where it started searching.</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div>Back:&nbsp;<a href="Array_Functions.htm">Array Functions</a></div><div>Next:&nbsp;<a href="array_map_ext.htm">array_map_ext</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>