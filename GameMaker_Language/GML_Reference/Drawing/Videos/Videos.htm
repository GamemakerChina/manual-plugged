<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/main.css"><script>let str;removeHtml=function(e){return e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(e){return e.match(/(<([^>]+)>)/gi)},setTranslator=function(e,t,a){let n;n=a?e.attr(a):e.html();let i=t[removeHtml(n)];if(null!=i&&i.length){t=retHtml(n);let o=0;t&&t.forEach(function(e,t){var a=i.replace("{"+o+"}",e);i=a===i?i.replace("{}",e):a,o++}),a?e.attr(a,i):e.html(i)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var e=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(e):($(".topic-header").append(e),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(e){return e.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"Add a video file to the {}Included Files{} ({}/datafiles{} directory) of your project.":"将视频文件添加到项目的{}包含文件{}({}/datafiles{}目录)。","Add a video file to the {}Included Files{} ({}/{}datafiles{}{} directory) of your project.":"将视频文件添加到项目的 {} 包含文件 {}({}/{} 数据文件 {}{} 目录)。","Async Callbacks":"异步回调","Draw it in a Draw event using {}{}video_draw(){}{}. {} {}This functions draws the video to an internal surface, which it returns as part of its return array.{} {}You must draw that surface manually using {}{}draw_surface(){}{} for the video to appear. {} {}Drawing&nbsp;{}YUV Videos{}&nbsp;will require extra steps.{} {} {} {} ":"使用{}{}video_draw(){}{}在绘制事件中绘制它。{}{}此函数将视频绘制到内部表面，并将其作为返回数组的一部分返回。{}{}要显示视频，必须使用{}{}draw_surface(){}{}手动绘制该表面。{}{}绘制{} YUV  视频{}将需要额外的步骤。{}{}{}{}","Follow these steps to load videos at runtime and play them:":"按照以下步骤在运行时加载和播放视频：","For distribution on console platforms, check with your account representative to find out what formats you are allowed to use without having to pay extra licencing fees.":"对于在控制台平台上的分发，请咨询您的客户代表，了解您可以使用哪些格式，而无需支付额外的许可费用。",Formats:"格式",Functions:"函数","Here is an example of an Async Social event listening to video callbacks:":"以下是Async Social事件监听视频回调的示例：","How to play videos?":"如何播放视频？","Load the video using {}{}video_open(){}{}. {} {}Alternatively, load a video from a URL.{} {} ":"使用{}{}video_open(){}{}加载视频。{}{}或者，从URL加载视频。{}{}","Making use of certain formats may require you to pay licensing fees depending on the related codec's licence and your game's revenue, and in such a case, the developer will be legally liable for any fees that is to be paid to the codec owners. Codecs are also licensed differently on each platform and so care must be taken for games that are distributed on multiple platforms.":"使用某些格式可能需要根据相关编解码器的许可证和游戏的收入来支付许可费，在这种情况下，开发者将对支付给编解码器所有者的任何费用承担法律责任。编解码器在每个平台上的授权也不同，因此必须注意在多个平台上分发的游戏。","Note that video formats (such as {}.mp4{}, {}.avi{}, {}.mkv{},&nbsp;etc.) are simply containers that wrap {}video{} and {}audio{} streams, both of which may be encoded separately and may require separate licences.":"请注意，视频格式(如 {}.mp4{}、{}.avi{}、{}.mkv{} 等)只是包装{}视频{}和{}音频{}流的容器，这两种格式可以单独编码，并且可能需要单独的许可证。","The above code reads the type from the {}async_load{} map. When the video starts, it sets a variable in an object to {}true{}, so it can display the video.":"以上代码从{}async_load{}映射读取类型。视频启动时，会将对象中的变量设置为{}true{}，以便可以显示视频。","The following functions are used to get information about the currently loaded video:":"以下函数用于获取有关当前加载的视频的信息：","The video formats that you are able to load and play in your game will depend on your target platform, and the codecs that are supported on that platform.":"您可以在游戏中加载和播放的视频格式将取决于您的目标平台以及该平台支持的编解码器。",'The {}Async Social{} event is triggered at the stages given below, with the {}"type"{} key in its {}async_load{} map set to the given value:':'{}异步社交{}事件在下面给定的阶段触发，其{}async_load{}映射中的{}类型"{}"键设置为给定值：',"Video Codecs &amp; Licensing":"视频编解码器和许可","Video Playback":"视频播放","When the video ends, it sets that same variable to {}false{}, and then calls {}{}video_close(){}{} to remove the video from memory.":"视频结束时，会将相同的变量设置为{}false{}，然后调用{}{}video_close(){}{}从内存中删除视频。","When the video is finished, remove it from memory by calling {}{}video_close(){}{}. {} {}Use the {}Async Callbacks{} to run code when the video ends.{} {} ":"视频完成后，通过调用{}{}video_close(){}{}将其从内存中删除。{}{}使用{}异步回调{}在视频结束时运行代码。{}{}","You can load, play and manipulate video files at runtime using the following functions:":"您可以使用以下函数在运行时加载、播放和操作视频文件：",'{}"video_end"{}: When the video ends. This does not trigger when the video is {}set to loop{}.':'{}"video_end"{}: 视频结束时。当视频{}设置为循环{}时，此操作不会触发。','{}"video_start"{}: When the video starts playing, which is when its {}status{} changes from {}video_status_preparing{} to {}video_status_playing{}.':'{}"video_start"{}: 当视频开始播放时，即其{}状态{}从{}视频状态准备{}变为{}视频状态播放{}。',"{}GameMaker{}&nbsp;does not ship with any codecs, and makes use of the codecs present on the platform that the game is running on. This means your videos must be encoded in a format that can be decoded on your intended target platform(s).":"{}GameMaker{}不随附任何编解码器，并使用运行游戏的平台上存在的编解码器。这意味着您的视频必须以可在目标平台上解码的格式进行编码。"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(e){json_global=e}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../..",gTopicId="8.2.2.6.12"</script><script type="text/javascript" src="../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><link rel="stylesheet" type="text/css" href="../../../../assets/css/default.css"><script src="../../../../../assets/scripts/main_script.js"></script><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="generator" content="Adobe RoboHelp 2022"><title>Video Playback</title><meta name="topic-status" content="Draft"><link rel="stylesheet" type="text/css" href="../../../../assets/css/default.css"><script src="../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Gurpreet S. Matharoo"><meta name="topic-comment" content="Overview of video drawing functions"><meta name="template" content="../../../../assets/masterpages/Manual_Page.htt"><meta name="rh-index-keywords" content="videos"><meta name="search-keywords" content="videos"><meta name="condition-tags" content=""><meta name="brsnext" value="GameMaker_Language/GML_Reference/Drawing/Videos/video_open.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Drawing/Textures/texturegroup_get_status.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="Video Playback"><span>Video Playback</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><div></div><div><h1 id="h1">Video Playback</h1><h2>How to play videos?</h2><p>Follow these steps to load videos at runtime and play them:</p><ul class="colour"><li>Add a video file to the <a href="../../../../Settings/Included_Files.htm#h">Included Files</a> (<span class="inline2">/<span data-keyref="Const_IncludedFiles_FolderName">datafiles</span></span> directory) of your project.</li><li>Load the video using <span class="inline"><a href="video_open.htm">video_open()</a></span>.<ul><li>Alternatively, load a video from a URL.</li></ul></li><li>Draw it in a Draw event using <span class="inline"><a href="video_draw.htm">video_draw()</a></span>.<ul><li>This functions draws the video to an internal surface, which it returns as part of its return array.</li><li>You must draw that surface manually using <span class="inline"><a href="../Surfaces/draw_surface.htm">draw_surface()</a></span> for the video to appear.<ul><li>Drawing&nbsp;<a href="YUV_Videos.htm">YUV Videos</a>&nbsp;will require extra steps.</li></ul></li></ul></li><li>When the video is finished, remove it from memory by calling <span class="inline"><a href="video_close.htm">video_close()</a></span>.<ul><li>Use the <a href="#h">Async Callbacks</a> to run code when the video ends.</li></ul></li></ul><h2>Video Codecs &amp; Licensing</h2><p><span data-keyref="GameMaker Name">GameMaker</span>&nbsp;does not ship with any codecs, and makes use of the codecs present on the platform that the game is running on. This means your videos must be encoded in a format that can be decoded on your intended target platform(s).</p><p>Making use of certain formats may require you to pay licensing fees depending on the related codec's licence and your game's revenue, and in such a case, the developer will be legally liable for any fees that is to be paid to the codec owners. Codecs are also licensed differently on each platform and so care must be taken for games that are distributed on multiple platforms.</p><p>Note that video formats (such as <span class="inline2">.mp4</span>, <span class="inline2">.avi</span>, <span class="inline2">.mkv</span>,&nbsp;etc.) are simply containers that wrap <strong>video</strong> and <strong>audio</strong> streams, both of which may be encoded separately and may require separate licences.</p><p>For distribution on console platforms, check with your account representative to find out what formats you are allowed to use without having to pay extra licencing fees.</p><h2>Formats</h2><p>The video formats that you are able to load and play in your game will depend on your target platform, and the codecs that are supported on that platform.</p><h2 id="func_ref">Functions</h2><p>You can load, play and manipulate video files at runtime using the following functions:</p><ul class="colour"><li><a href="video_open.htm">video_open</a></li><li><a href="video_close.htm">video_close</a></li><li><a href="video_draw.htm">video_draw</a></li><li><a href="video_set_volume.htm">video_set_volume</a></li><li><a href="video_pause.htm">video_pause</a></li><li><a href="video_resume.htm">video_resume</a></li><li><a href="video_enable_loop.htm">video_enable_loop</a></li><li><a href="video_seek_to.htm">video_seek_to</a></li></ul><p>&nbsp;</p><p>The following functions are used to get information about the currently loaded video:</p><ul class="colour"><li><a href="video_is_looping.htm">video_is_looping</a></li><li><a href="video_get_volume.htm">video_get_volume</a></li><li><a href="video_get_duration.htm">video_get_duration</a></li><li><a href="video_get_position.htm">video_get_position</a></li><li><a href="video_get_status.htm">video_get_status</a></li><li><a href="video_get_format.htm">video_get_format</a></li></ul><h2 id="h">Async Callbacks</h2><p>The <a href="../../../../The_Asset_Editors/Object_Properties/Async_Events/Social.htm">Async Social</a> event is triggered at the stages given below, with the <span class="inline2">"type"</span> key in its <span class="inline2">async_load</span> map set to the given value:</p><ul class="colour"><li><span class="inline2">"video_start"</span>: When the video starts playing, which is when its <a href="video_get_status.htm">status</a> changes from <span class="inline2">video_status_preparing</span> to <span class="inline2">video_status_playing</span>.</li><li><span class="inline2">"video_end"</span>: When the video ends. This does not trigger when the video is <a href="video_enable_loop.htm">set to loop</a>.</li></ul><p>Here is an example of an Async Social event listening to video callbacks:</p><p class="code">var _type = async_load[? "type"];<br><br>if (_type == "video_start")<br>{<br>&nbsp; &nbsp; obj_video.display_video = true;<br>}<br>else if (_type == "video_end")<br>{<br>&nbsp; &nbsp; obj_video.display_video = false;<br>&nbsp; &nbsp; video_close();<br>}</p><p>The above code reads the type from the <span class="inline2">async_load</span> map. When the video starts, it sets a variable in an object to <span class="inline2">true</span>, so it can display the video.</p><p>When the video ends, it sets that same variable to <span class="inline2">false</span>, and then calls <span class="inline"><a href="video_close.htm">video_close()</a></span> to remove the video from memory.</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div>Back:&nbsp;<a href="../Drawing.htm">Drawing</a></div><div>Next:&nbsp;<a href="../Colour_And_Alpha/Colour_And_Alpha.htm">Colour And Alpha</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></div></body></html>