<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/main.css"><script>let str;removeHtml=function(e){return e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(e){return e.match(/(<([^>]+)>)/gi)},setTranslator=function(e,t,a){let o;o=a?e.attr(a):e.html();let s=t[removeHtml(o)];if(null!=s&&s.length){t=retHtml(o);let n=0;t&&t.forEach(function(e,t){var a=s.replace("{"+n+"}",e);s=a===s?s.replace("{}",e):a,n++}),a?e.attr(a,s):e.html(s)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var e=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(e):($(".topic-header").append(e),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(e){return e.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"As the above code shows, emitters start streaming particles if you've&nbsp;configured them to be in {}Stream{} mode. By default, the particle system's position is set to the center&nbsp;of the room.":"如上面的代码所示，如果将发射器配置为{}Stream{}模式，则发射器将开始流式粒子。默认情况下，粒子系统的位置设置为房间的中心。",'Before you can create particles you need to create a particle system. This is a "container" where you place your particles and emitters (if you need them) ready for use, and you can put as many or as few particles into any one system as you think necessary, and you can have as many systems as you think necessary too. However, it is always better to keep this number as small as possible due to the fact that each system, emitter and particle takes up memory and having too many of them may slow your game down or cause problems. For example, if you need some effects to appear above instances, and other effects to appear beneath instances, you would create two systems and set their depths to get the desired effect, with all particles that are added to each system being drawn at the depth you specify.':'在创建粒子之前，需要创建粒子系统。这是一个"容器"，你可以把你的粒子和发射器(如果你需要的话)放在那里准备好使用，你可以在任何一个系统中放入你认为必要的尽可能多或尽可能少的粒子，你也可以有你认为必要的尽可能多的系统。但是，由于每个系统、发射器和粒子都占用内存，并且它们太多可能会减慢游戏速度或导致问题，因此最好保持这个数字尽可能小。例如，如果需要某些效果显示在实例上方，而其他效果显示在实例下方，则需要创建两个系统并设置其深度以获得所需的效果，并以指定的深度绘制添加到每个系统的所有粒子。',"Copy GML to Clipboard":"将GML复制到剪贴板","Create Event":"创建事件","Creating Particles":"创建粒子","Function Reference":"函数参考","Once particles are added to a particle system and then burst or streamed into the room, they are normally automatically updated each step and drawn based on the parameters that you have used to define them. However it can sometimes be necessary to control when and how the system is updated as well as how the system should be drawn, and for that {}GameMaker{} provides the following functions:":"一旦粒子添加到粒子系统，然后爆发或流入房间，它们通常会在每个步骤中自动更新，并根据用于定义粒子系统的参数进行绘制。但是，有时可能需要控制何时以及如何更新系统，以及如何绘制系统，并且{}GameMaker{}提供以下函数：","Particle Systems":"粒子系统","Setting Up":"建立","Since a particle system is a dynamically created resource, you must create it and store the returned index in a variable to reference the system in all further function calls, and it is very important that you also destroy the system when it is no longer needed or else you will have a memory leak that will slow down and eventually crash your game. It is also worth noting that particle systems will live on forever after they are created, even if the index is no longer stored. So even if you change room or restart the game, the systems and the particles will remain, and be visible, in all further rooms so you better make sure you destroy them once you no longer need them.":"由于粒子系统是动态创建的资源，因此必须创建粒子系统并将返回的索引存储在变量中，以便在所有进一步的函数调用中引用该系统，并且非常重要的是，当不再需要粒子系统时，还要销毁该系统，否则会出现内存泄漏，从而降低速度并最终导致游戏崩溃。另外值得注意的是，粒子系统在创建后将永远存在，即使索引不再存储。因此，即使您更换空间或重新启动游戏，系统和粒子仍将保留，并且可以在所有其他房间中看到，这样您最好确保在不再需要它们时将其销毁。","The basic functions for setting up a particle system are listed below:":"下面列出了设置粒子系统的基本函数：","Updating and Drawing":"更新和绘图","Using&nbsp;{}The Particle System Editor{}'s {}Copy GML to Clipboard{} button&nbsp;{} you can generate the&nbsp;{}GML Code{}&nbsp;needed to create a particle system that's identical to the&nbsp;one you created. The code&nbsp;could, for example, go&nbsp;in&nbsp;an object's Create event:&nbsp;":'使用 {} 粒子系统编辑器 {} 的 {}" 将 GML 复制到剪贴板 "{} 按钮 {}，可以生成创建与所创建粒子系统相同的粒子系统所需的 {}GML 代码 {}。例如，代码可以进入对象的 Create 事件：',"You can use {}particle emitters{} to burst or stream particles from an area, but in many cases these are not necessary and it is actually better to just create the particles directly using the following functions:":"可以使用 {} 粒子发射器 {} 从某个区域爆发或流化粒子，但在许多情况下，这些不是必需的，实际上最好直接使用以下函数创建粒子：","{}{}IMPORTANT{}{}&nbsp;The particle system, emitters and types have to be&nbsp;destroyed manually (e.g. in the Clean Up event) to prevent memory leaks.":"{}{}重要事项{}{}粒子系统、发射器和类型必须手动销毁(例如：在清理事件中)，以防止内存泄漏。","{}{}TIP{}{}&nbsp;If you prefer a more visual approach to creating particles and don't need the extensive functionality that&nbsp;{}GML Code{}&nbsp;offers,&nbsp;you can also create a&nbsp;{}{}Particle System Asset{}{}&nbsp;using&nbsp;{}The Particle System Editor{}.":"{}{} 提示{}{} 如果您更喜欢使用更直观的方法来创建粒子，并且不需要 {}GML 代码 {} 提供的大量功能，也可以使用 {} 粒子系统编辑器 {} 创建 {6}{7} 粒子系统资源 {8}{9}。","{}{}TIP{}{}&nbsp;If you prefer a more visual approach to creating particles and don't need the extensive functionality that&nbsp;{}GML Code{}&nbsp;offers,&nbsp;you can also create a&nbsp;{}{}Particle System Asset{}{}&nbsp;using&nbsp;{}The Particle System Editor{}. Additionally, you can generate the&nbsp;{}GML Code{}&nbsp;for it using the editor's {}Copy GML to Clipboard{} {}.":"{}{} 提示{}{} 如果您喜欢更直观的方法来创建粒子，并且不需要 {}GML 代码 {} 提供的大量功能，则还可以使用 {10} 粒子系统编辑器 {11} 创建 {}{} 粒子系统资源 {}{}。此外，还可以使用编辑器的 {} 复制 GML 到剪贴板 {}{} 为其生成 {12}GML 代码 {13}。"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(e){json_global=e}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../../..",gTopicId="8.2.2.6.10.1"</script><script type="text/javascript" src="../../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Particle Systems</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../../assets/css/default.css" type="text/css"><script src="../../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Reference section for the Particle System functions and variables"><meta name="rh-index-keywords" content=""><meta name="search-keywords" content="Particle Systems"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Drawing/Particles/Particle_Systems/part_system_exists.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Drawing/Particles/particle_get_info.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="Particle Systems"><span>Particle Systems</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">Particle Systems</span></h1><p>Before you can create particles you need to create a particle system. This is a "container" where you place your particles and emitters (if you need them) ready for use, and you can put as many or as few particles into any one system as you think necessary, and you can have as many systems as you think necessary too. However, it is always better to keep this number as small as possible due to the fact that each system, emitter and particle takes up memory and having too many of them may slow your game down or cause problems. For example, if you need some effects to appear above instances, and other effects to appear beneath instances, you would create two systems and set their depths to get the desired effect, with all particles that are added to each system being drawn at the depth you specify.</p><p>Since a particle system is a dynamically created resource, you must create it and store the returned index in a variable to reference the system in all further function calls, and it is very important that you also destroy the system when it is no longer needed or else you will have a memory leak that will slow down and eventually crash your game. It is also worth noting that particle systems will live on forever after they are created, even if the index is no longer stored. So even if you change room or restart the game, the systems and the particles will remain, and be visible, in all further rooms so you better make sure you destroy them once you no longer need them.</p><div data-conref="../../../../../assets/snippets/Note_tip_use_particle_system_editor.hts"><p class="note"><span data-conref="../../../../../assets/snippets/Tag_tip.hts"><span class="tip">TIP</span></span>&nbsp;If you prefer a more visual approach to creating particles and don't need the extensive functionality that&nbsp;<span data-keyref="GML_Code">GML Code</span>&nbsp;offers,&nbsp;you can also create a&nbsp;<span data-keyref="Type_Asset_ParticleSystem"><a target="_blank" href="../../../../../The_Asset_Editors/Particle_Systems.htm">Particle System Asset</a></span>&nbsp;using&nbsp;<a href="../../../../../The_Asset_Editors/Particle_Systems.htm">The Particle System Editor</a>. Additionally, you can generate the&nbsp;<span data-keyref="GML_Code">GML Code</span>&nbsp;for it using the editor's <strong>Copy GML to Clipboard</strong> <img class="icon" src="../../../../../assets/Images/Icons/Icon_GML_To_Clipboard.png" title="">.</p></div><h2 id="h">Copy GML to Clipboard</h2><p>Using&nbsp;<a href="../../../../../The_Asset_Editors/Particle_Systems.htm">The Particle System Editor</a>'s <strong>Copy GML to Clipboard</strong> button&nbsp;<img class="icon" src="../../../../../assets/Images/Icons/Icon_GML_To_Clipboard.png"> you can generate the&nbsp;<span data-keyref="GML_Code">GML Code</span>&nbsp;needed to create a particle system that's identical to the&nbsp;one you created. The code&nbsp;could, for example, go&nbsp;in&nbsp;an object's Create event:&nbsp;</p><p class="code_heading">Create Event</p><p class="code">var _ps = part_system_create();<br>part_system_draw_order( _ps, true);<br><br>var _ptype1 = part_type_create();<br>part_type_shape( _ptype1, pt_shape_sphere );<br>part_type_size( _ptype1, 1, 1, 0, 0 );<br>part_type_scale( _ptype1, 1, 1);<br>part_type_speed( _ptype1, 2, 2, 0, 0);<br>part_type_direction( _ptype1, 0, 0, 4, 0);<br>part_type_gravity( _ptype1, 0, 270);<br>part_type_orientation( _ptype1, 0, 0, 0, 0, false);<br>part_type_colour3( _ptype1, $7F7FFF, $FFFFFF, $FFEFBC );<br>part_type_alpha3( _ptype1, 1, 1, 0.169);<br>part_type_blend( _ptype1, true);<br>part_type_life( _ptype1, 80, 80);<br><br>var _pemit1 = part_emitter_create( _ps );<br>part_emitter_region( _ps, _pemit1, -64, 64, -64, 64, ps_shape_rectangle, ps_distr_linear );<br>part_emitter_stream(_ps, _pemit1, _ptype1, 1);<br><br>part_system_position(_ps, room_width/2, room_height/2);</p><p>As the above code shows, emitters start streaming particles if you've&nbsp;configured them to be in <strong>Stream</strong> mode. By default, the particle system's position is set to the center&nbsp;of the room.</p><p class="note"><span data-conref="../../../../../assets/snippets/Tag_important.hts"><span class="important">IMPORTANT</span></span>&nbsp;The particle system, emitters and types have to be&nbsp;destroyed manually (e.g. in the Clean Up event) to prevent memory leaks.</p><h2 id="func_ref">Function Reference</h2><h3 id="func_ref_general">Setting Up</h3><ul class="colour"><li><a href="part_system_exists.htm">part_system_exists</a></li><li><a href="part_system_create.htm">part_system_create</a></li><li><a href="part_system_create_layer.htm">part_system_create_layer</a></li><li><a href="part_system_get_layer.htm">part_system_get_layer</a></li><li><a href="part_system_layer.htm">part_system_layer</a></li><li><a href="part_system_depth.htm">part_system_depth</a></li><li><a href="part_system_position.htm">part_system_position</a></li><li><a href="part_system_angle.htm">part_system_angle</a></li><li><a href="part_system_global_space.htm">part_system_global_space</a></li><li><a href="part_system_colour.htm">part_system_colour</a></li><li><a href="part_system_clear.htm">part_system_clear</a></li><li><a href="part_system_destroy.htm">part_system_destroy</a></li><li><a href="part_particles_clear.htm">part_particles_clear</a></li><li><a href="part_particles_count.htm">part_particles_count</a></li></ul><h3 id="func_ref_updating_drawing">Updating and Drawing</h3><p>Once particles are added to a particle system and then burst or streamed into the room, they are normally automatically updated each step and drawn based on the parameters that you have used to define them. However it can sometimes be necessary to control when and how the system is updated as well as how the system should be drawn, and for that <span data-keyref="GameMaker Name">GameMaker</span> provides the following functions:</p><ul class="colour"><li><a href="part_system_automatic_update.htm">part_system_automatic_update</a></li><li><a href="part_system_automatic_draw.htm">part_system_automatic_draw</a></li><li><a href="part_system_update.htm">part_system_update</a></li><li><a href="part_system_drawit.htm">part_system_drawit</a></li><li><a href="part_system_draw_order.htm">part_system_draw_order</a></li></ul><h3 id="func_ref_creating_particles">Creating Particles</h3><p>You can use <a href="../Particle_Emitters/Particle_Emitters.htm">particle emitters</a> to burst or stream particles from an area, but in many cases these are not necessary and it is actually better to just create the particles directly using the following functions:</p><ul class="colour"><li><a href="part_particles_create.htm">part_particles_create</a></li><li><a href="part_particles_create_colour.htm">part_particles_create_colour</a></li><li><a href="part_particles_burst.htm">part_particles_burst</a></li></ul><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back:&nbsp;<a href="../Particles.htm">Particles</a></div><div style="float:right">Next: <a href="../Particle_Types/Particle_Types.htm">Particle Types</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>