<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../../assets/import/main.css"><script>let str;removeHtml=function(t){return t=(t=(t=(t=t.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(t){return t.match(/(<([^>]+)>)/gi)},setTranslator=function(t,n,a){let e;e=a?t.attr(a):t.html();let l=n[removeHtml(e)];if(null!=l&&l.length){n=retHtml(e);let o=0;n&&n.forEach(function(t,n){var a=l.replace("{"+o+"}",t);l=a===l?l.replace("{}",t):a,o++}),a?t.attr(a,l):t.html(l)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){$(".header").length&&$(".header").append(`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`)},removeExtensionFromHash=function(t){return t.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")},$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../../..",gTopicId="8.2.2.6.10.1.0_9"</script><script type="text/javascript" src="../../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>part_system_global_space</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" type="text/css" href="../../../../../assets/css/default.css"><script src="../../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content=""><meta name="topic-comment" content=""><meta name="rh-index-keywords" content="part_system_global_space"><meta name="search-keywords" content="part_system_global_space"><meta name="template" content="assets/masterpages/Manual_Keyword_Page.htt"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Drawing/Particles/Particle_Systems/part_system_colour.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Drawing/Particles/Particle_Systems/part_system_angle.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="part_system_global_space"><span>part_system_global_space</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">part_system_global_space</span></h1><p>This function enables global space particles for the given particle system.</p><p>When global&nbsp;space particles are disabled&nbsp;(the default), the positions&nbsp;of the&nbsp;particles are&nbsp;<em>relative</em> to the particle system's position. When&nbsp;you&nbsp;move&nbsp;such a particle system, its particles will move&nbsp;with it.</p><p>Enabling global&nbsp;space allows&nbsp;you to move&nbsp;a particle system without moving&nbsp;the particles in it.&nbsp;This can be used&nbsp;e.g. to create&nbsp;a trail&nbsp;of particles:&nbsp;</p><table><colgroup><col style="width:50%"><col style="width:50%"></colgroup><thead><tr><th>Disabled</th><th>Enabled</th></tr></thead><tbody><tr><td><video src="../../../../../assets/Videos/Runner/part_system_global_space_disabled.mp4" width="480" height="320" controls="" class="center"></video></td><td><video src="../../../../../assets/Videos/Runner/part_system_global_space_enabled.mp4" width="480" height="320" controls="" class="center"></video></td></tr></tbody></table><p>In the example above, individual particles are being created in the particle system at the same position, and the particle system itself is being moved to the ship's location every frame.</p><p>The first video shows global space disabled, so all particles stick to its system, however in the second video particles stay in the room position where they were created.</p><p>Once enabled, you can move and rotate&nbsp;your particle systems&nbsp;with&nbsp;<span class="inline3_func"><a href="part_system_position.htm">part_system_position</a></span>&nbsp;and&nbsp;<span class="inline3_func"><a href="part_system_angle.htm">part_system_angle</a></span>&nbsp;respectively, without moving the individual particles inside them.</p><p class="note"><span data-conref="../../../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;If you enable&nbsp;global space on a particle system that already has particles inside it, you may see those existing particles jump to new positions on the screen as they switch from being relative to the particle system to being relative to the room origin.</p><p>&nbsp;</p><h4>Syntax:</h4><p class="code"><span data-field="title" data-format="default">part_system_global_space</span>(ind, enable);</p><table><colgroup><col><col><col></colgroup><tbody><tr><th>Argument</th><th>Type</th><th>Description</th></tr><tr><td>ind</td><td><span data-keyref="Type_ID_PartSys"><a target="_blank" href="part_system_create.htm">Particle System Instance</a></span></td><td>The index&nbsp;of the particle system</td></tr><tr><td>enable</td><td><span data-keyref="Type_Bool"><a target="_blank" href="../../../../GML_Overview/Data_Types.htm">Boolean</a></span></td><td>Whether to enable&nbsp;or disable global space particles</td></tr></tbody></table><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_Void">N/A</span></p><p>&nbsp;</p><h4>Example: Particle System Following an Instance</h4><p class="code_heading">Create Event</p><p class="code">ps = part_system_create();<br>part_system_global_space(ps, true);<br>pe = part_emitter_create(ps);<br><br>pt = part_type_create();<br>part_type_shape(pt, pt_shape_flare);<br>part_type_direction(pt, 0, 360, 0, 0.3);<br>part_type_speed(pt, 0.1, 0.2, 0, 0.01);<br>part_type_scale(pt, 0.3, 0.3);<br><br>part_emitter_stream(ps, pe, pt, 2);</p><p class="code_heading">Step Event</p><p class="code">part_system_position(ps, x, y);<br>part_system_angle(ps, direction);</p><p class="code_heading">Clean Up Event</p><p class="code">part_emitter_destroy(pe);<br>part_system_destroy(ps);<br>part_type_destroy(pt);</p><p>The above&nbsp;code shows how to add a particle system to an instance, so that&nbsp;it leaves a trail&nbsp;of particles behind&nbsp;when the instance is moved around.</p><p>In the Create event a basic particle system is set up, with a single emitter added to it. Using&nbsp;<span class="inline3_func"><span data-field="title" data-format="default">part_system_global_space</span></span>, it is configured&nbsp;to have its particles in global&nbsp;space.&nbsp;A basic particle type is also&nbsp;added, which is configured&nbsp;to have a flare shape (<span class="inline2">pt_shape_flare</span>), a starting direction&nbsp;that can be any random&nbsp;value between 0 and 360, a starting speed anywhere&nbsp;between 0.1 and 0.2 pixels per step and a scale factor&nbsp;of 0.3.</p><p>In the Step event the particle system's position&nbsp;and angle are set to the instance's (<span class="inline2"><a href="../../../Asset_Management/Instances/Instance_Variables/x.htm">x</a></span>, <span class="inline2"><a href="../../../Asset_Management/Instances/Instance_Variables/y.htm">y</a></span>) position&nbsp;and its <span class="inline2"><a href="../../../Asset_Management/Instances/Instance_Variables/direction.htm">direction</a></span>, respectively.</p><p>Finally, in the Clean Up event, the particle emitter, system and type are destroyed&nbsp;in&nbsp;order to prevent memory&nbsp;leaks.</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div>Back:&nbsp;<a href="Particle_Systems.htm">Particle Systems</a></div><div>Next:&nbsp;<a href="part_system_colour.htm">part_system_colour</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>