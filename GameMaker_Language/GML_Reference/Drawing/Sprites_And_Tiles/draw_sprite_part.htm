<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../../assets/import/main.css"><script>let str;removeHtml=function(t){return t=(t=(t=(t=t.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(t){return t.match(/(<([^>]+)>)/gi)},setTranslator=function(t,e,o){let a;a=o?t.attr(o):t.html();let i=e[removeHtml(a)];if(null!=i&&i.length){e=retHtml(a);let n=0;e&&e.forEach(function(t,e){var o=i.replace("{"+n+"}",t);i=o===i?i.replace("{}",t):o,n++}),o?t.attr(o,i):t.html(i)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var t=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(t):($(".topic-header").append(t),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(t){return t.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"The height of the area to draw.":"要绘制的区域的高度。","The index of the sprite to draw.":"要绘制的精灵的索引。","The subimg (frame) of the sprite to draw (image_index or -1 correlate to the current frame of animation in the object).":"要绘制的精灵的subimg(帧)(image_index或-1)与对象中动画的当前帧相关联。","The width of the area to draw.":"要绘制的区域的宽度。","The x coordinate of where to draw the sprite.":"绘制精灵的位置的x坐标。","The x position on the sprite of the top left corner of the area to draw.":"要绘制区域左上角精灵上的x位置。","The y coordinate of where to draw the sprite.":"绘制精灵的位置的y坐标。","The y position on the sprite of the top left corner of the area to draw.":"要绘制区域左上角精灵上的y位置。","This will draw the instances assigned sprite (sprite_index) and its current frame of animation (image_index), however it will shave a 4px margin off the width on both sides, and an 8 pixel margin off the height from the bottom of the original 24x24 pixel sprite.":"这将绘制指定为sprite(sprite_index)的实例及其当前动画帧(image_index)，但它将从两侧的宽度上削减4 px边距，从原始24 x 24底部的高度上削减8像素边距像素精灵。","With this function you can draw part of any sprite at a given position within the room. As with {}{}draw_sprite(){}{} you can specify a sprite and a sub-image for drawing, then you must give the {}relative coordinates{} within the sprite of the area to select for drawing. This means that a left position of 0 and a top position of 0 would be the top left corner of the sprite and all further coordinates should be taken from that position. The image below shows an example of how this works:":"使用此函数，您可以在房间内的给定位置绘制任何精灵的一部分。对于{}{}draw_sprite(){}{}，可以指定要绘制的子图像和子图像，然后必须在要选择绘制的区域的子图像中给出{}相对坐标{}。这意味着，左侧位置0和顶部位置0将是精灵的左上角，并且应该从该位置获取所有进一步的坐标。下图显示了一个示例的工作原理：","{}NOTE{}: This function is only useful for {}bitmap{} sprites and will not work with SWF or JSON (Spine) sprites.":"{}注意{}：此函数仅适用于{}位图{}精灵，不适用于Swf或JSON(脊椎)精灵。","{}NOTE{}: When drawing with this function, the sprite {}x offset{} and {}y offset{} are ignored and the sprite part will be drawn with the top left corner at the specified x / y position in the room.":"{}注意{}：使用此函数绘制时，将忽略精灵{}x偏移{}和{}y偏移{}，并且将绘制sprite零件，其中左上角位于房间中指定的x/ y位置。",'{}You should note that if the texture page permits automatic cropping then this function may not work as expected, since the extra "empty" space around the sprite will have been removed for creating the texture page. To resolve this issue, you will need to set the texture page settings (in the {}Texture Group Editor{}) to disable the option {}Automatic Crop{}.':'{}请注意，如果纹理页面允许自动裁剪，则此函数可能无法按预期工作，因为sprite周围的额外"空"空间将被删除以创建纹理页面。若要解决此问题，您需要设置纹理页面设置(在{}纹理组编辑器{}中)以禁用选项{}自动裁剪{}。'},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(t){json_global=t}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../..",gTopicId="8.2.2.6.5.0_5"</script><script type="text/javascript" src="../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>draw_sprite_part</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css"><script src="../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Reference page for draw_sprite_part"><meta name="rh-index-keywords" content="draw_sprite_part"><meta name="search-keywords" content="draw_sprite_part"><meta name="is_pure" content="true"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_sprite_part_ext.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_sprite_general.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="draw_sprite_part"><span>draw_sprite_part</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1>draw_sprite_part</h1><p>With this function you can draw part of any sprite at a given position within the room. As with <a href="draw_sprite.htm"><span class="inline">draw_sprite()</span></a> you can specify a sprite and a sub-image for drawing, then you must give the <i>relative coordinates</i> within the sprite of the area to select for drawing. This means that a left position of 0 and a top position of 0 would be the top left corner of the sprite and all further coordinates should be taken from that position. The image below shows an example of how this works:</p><p><img alt="draw_sprite_part example" class="center" src="../../../../assets/Images/Scripting_Reference/GML/Reference/Drawing/spr_part.png">You should note that if the texture page permits automatic cropping then this function may not work as expected, since the extra "empty" space around the sprite will have been removed for creating the texture page. To resolve this issue, you will need to set the texture page settings (in the <a href="../../../../Settings/Texture_Groups.htm">Texture Group Editor</a>) to disable the option <b>Automatic Crop</b>.</p><p class="note"><b>NOTE</b>: When drawing with this function, the sprite <a href="../../Asset_Management/Sprites/Sprite_Instance_Variables/sprite_xoffset.htm">x offset</a> and <a href="../../Asset_Management/Sprites/Sprite_Instance_Variables/sprite_yoffset.htm">y offset</a> are ignored and the sprite part will be drawn with the top left corner at the specified x / y position in the room.</p><p class="note"><b>NOTE</b>: This function is only useful for <b>bitmap</b> sprites and will not work with SWF or JSON (Spine) sprites.</p><p>&nbsp;</p><h4>Syntax:</h4><p class="code">draw_sprite_part(sprite, subimg, left, top, width, height, x, y);</p><table><tbody><tr><th>Argument</th><th>Type</th><th>Description</th></tr><tr><td>sprite</td><td><span data-keyref="Type_Asset_Sprite"><a target="_blank" href="../../../../The_Asset_Editors/Sprites.htm">Sprite Asset</a></span></td><td>The index of the sprite to draw.</td></tr><tr><td>subimg</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The subimg (frame) of the sprite to draw (image_index or -1 correlate to the current frame of animation in the object).</td></tr><tr><td>left</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The x position on the sprite of the top left corner of the area to draw.</td></tr><tr><td>top</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The y position on the sprite of the top left corner of the area to draw.</td></tr><tr><td>width</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The width of the area to draw.</td></tr><tr><td>height</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The height of the area to draw.</td></tr><tr><td>x</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The x coordinate of where to draw the sprite.</td></tr><tr><td>y</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The y coordinate of where to draw the sprite.</td></tr></tbody></table><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_Void">N/A</span></p><p>&nbsp;</p><h4>Example:</h4><p class="code">draw_sprite_part(sprite_index, image_index, 4, 0, sprite_width-16, sprite_height-16, x, y );</p><p>This will draw the instances assigned sprite (sprite_index) and its current frame of animation (image_index), however it will shave a 4px margin off the width on both sides, and an 8 pixel margin off the height from the bottom of the original 24x24 pixel sprite.</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="Sprites_And_Tiles.htm">Sprites And Tiles</a></div><div style="float:right">Next: <a href="draw_sprite_part_ext.htm">draw_sprite_part_ext</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>