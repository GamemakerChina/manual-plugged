<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/main.css"><script>let str;removeHtml=function(t){return t=(t=(t=(t=t.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(t){return t.match(/(<([^>]+)>)/gi)},setTranslator=function(t,n,a){let e;e=a?t.attr(a):t.html();let l=n[removeHtml(e)];if(null!=l&&l.length){n=retHtml(e);let o=0;n&&n.forEach(function(t,n){var a=l.replace("{"+o+"}",t);l=a===l?l.replace("{}",t):a,o++}),a?t.attr(a,l):t.html(l)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){$(".header").length&&$(".header").append(`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`)},removeExtensionFromHash=function(t){return t.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")},$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../..",gTopicId="8.2.2.10"</script><script type="text/javascript" src="../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Strings</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../assets/css/default.css" type="text/css"><script src="../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Reference section for string functions"><meta name="rh-index-keywords" content="\r,\b,\f,\t,\v,\\,\a,\u,\x,\,\r,\b,\f,\t,\v,\\,\a,\u,\x,\"><meta name="search-keywords" content="Strings,\n,\r,\b,\f,\t,\v,\\,\a,\u,\x,\,string literal,@"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Strings/string.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Data_Structures/ds_set_precision.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="Strings"><span>Strings</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">Strings</span></h1><p>When you want to use text in your game, whether it's for dialogue, menus, or just debugging, use&nbsp;<span data-field="title" data-format="lower-alpha">strings</span>.</p><p>In GML, text is created as a&nbsp;<em>string</em>, which can be stored in a variable. "String" refers to&nbsp;a "<em>string</em> of characters" which makes up your text.</p><p><span data-keyref="GameMaker Name">GameMaker</span> has a complete set of functions that permit you to manipulate&nbsp;<span data-field="title" data-format="lower-alpha">strings</span> in many ways, including the insertion of one string in another, the copying of strings and the ability to parse&nbsp;<span data-field="title" data-format="lower-alpha">strings</span> for the digits or the letters that they contain.</p><p>It also has more advanced functions to deal with strings, including trimming, splitting into an array, concatenating from an array and iterating over characters.</p><p>Lastly,&nbsp;<span data-keyref="GameMaker Name">GameMaker</span>&nbsp;also provides a convenient way to convert&nbsp;<a href="../../GML_Overview/Structs.htm">structs</a>&nbsp;and&nbsp;<a href="../Asset_Management/Instances/Instances.htm">instances</a>&nbsp;to a string representation by assigning them a <a href="Strings.htm#tostring_method">toString method</a>.</p><h2>String Basics</h2><p>A string is a type of <a href="../../GML_Overview/Variables_And_Variable_Scope.htm">variable</a>. The simplest way to create one is by adding text within double quotes <span class="inline2">" "</span>:</p><p class="code">my_first_string = "Hello World!";</p><p>The above line of code creates a string that reads "Hello World!" and assigns it to a variable called&nbsp;<span class="inline2">my_first_string</span>.</p><p class="note"><span data-conref="../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;Single quote strings <span class="inline2">' '</span> are not accepted.</p><p class="note"><span data-conref="../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;You cannot split a string over multiple lines in your code and expect <span data-keyref="GameMaker Name">GameMaker</span> to render it as if the line breaks were newlines, however, you can do that by using a string literal&nbsp;identifier&nbsp;<span class="inline2"><a href="Strings.htm#@">@</a></span>&nbsp;before your string's starting quotation mark, as <a href="#h2">explained below</a>.</p><h3 id="h1">Escape Characters</h3><p>Sometimes you will need to add special characters inside a string, such as double quotes <span class="inline2">"</span>, newline characters or characters with a specific character code.</p><p>This can be done by using <i>escape characters</i>. These are characters that are preceded by a backslash&nbsp;<span class="inline2">\</span>&nbsp;symbol. For example, if you wanted to put quotation marks within a string you would have something like this:</p><p class="code">str = "Hello\"World\"!";</p><p><span data-keyref="GameMaker Name">GameMaker</span> also has full four byte wide Unicode character support, allowing you to decode and encode Unicode characters in the upper bounds of the standard (including - but not limited to - emoji).</p><p>To deal with Unicode characters, you can use a backslash&nbsp;<span class="inline2">\</span>&nbsp;to precede any Unicode literal - digits of hex preceded by a "<span class="inline">u</span>", for example "<span class="inline"><span class="inline">\u00e2</span></span>" for "á"- where the digits are the number of the Unicode character. When working with Unicode in this way, you need to be aware of the fact that <span data-keyref="GameMaker Name">GameMaker</span> will interpret <i>all</i> digits following the "<span class="inline">u</span>", so if you wanted to write "áa" for example, you should use:</p><p class="code">"\u00e2\a"</p><p>or</p><p class="code">"\u00e2\u61"</p><p>or</p><p class="code">"\u00e2" + "a"</p><p>Just using "<span class="inline">\u00e2a</span>" would actually result in the Unicode character "<span class="inline">ส</span>" (essentially becoming "<span class="inline">\ue2a</span>").<i></i></p><p><span data-keyref="GameMaker Name">GameMaker</span> can also handle any hexadecimal literal - normally written as digits of hex following "<span class="inline">0x</span>", for example "<span class="inline">0xff</span>", where the digits form the character code of the character to use. In <span data-keyref="GameMaker Name">GameMaker</span>&nbsp;strings, these are written using "<span class="inline">\x</span>" and then the hex value. These and other predefined escape characters are listed in the table below:</p><table style="caption-side:top"><caption>String Escape Characters</caption><tbody><tr><th>Constant</th><th>Description</th></tr><tr><td>\n</td><td>Newline</td></tr><tr><td>\r</td><td>Carriage return (0x0d)</td></tr><tr><td>\b</td><td>Backspace (0x08)</td></tr><tr><td>\f</td><td>Form Feed (0x0c)</td></tr><tr><td>\t</td><td>Horizontal Tab (0x09)</td></tr><tr><td>\v</td><td>Vertical Tab (0x0b)</td></tr><tr><td>\\</td><td>Backslash itself (0x5c)</td></tr><tr><td>\a</td><td>Alert (0x07)</td></tr><tr><td>\u[Hex Digits]</td><td>Insert Unicode character</td></tr><tr><td>\x[Hex Digits]</td><td>Insert hex literal character</td></tr><tr><td>\[Octal Digits]</td><td>Insert octal Unicode character</td></tr></tbody></table><p class="note"><span data-conref="../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;Strings support form feed, vertical tab etc... but this does not mean to say that <b>rendering</b> does, and when drawing strings these characters may be ignored.</p><h3 id="h2">Multi-Line String Literal</h3><p>You can create multi-line string literals by preceding the whole string with the<span class="inline"><a id="@"></a> @</span> character:</p><p class="code">var test = @"This string has<br>line breaks<br>over multiple<br>lines<br>";</p><p>The above code will create a string that is rendered over multiple lines as if there was a line break escape character included. A string literal can also be defined using single quotes <span class="inline2">' '</span> when prefixed by an <span class="inline">@</span> symbol.</p><p>Multi-line string literals do not support escaped characters, e.g. <span class="inline">@"Hello\World"</span> will <em>not</em> try to escape the W on World and will be stored verbatim. Note though that when using string literals like this, you will need to break the string if you wish to include quotation marks as part of the string, e.g.:</p><p class="code">var test = @"Hello " + "\"" + @"World" + "\"";</p><div data-conref="../../../assets/snippets/Note_Unicode_missing_glyph_replacement.hts"><p class="note"><span data-conref="../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;The Unicode character 9647 (▯) is used to substitute any missing <a class="tooltip" title="A glyph is a particular visual appearance of a character. It is the appearance of a character using a given font.">glyph</a>s that you may have in your designated font when rendering it in the draw event. So if your font doesn't have, for example, the ° symbol, then writing 90° will actually produce 90▯.</p></div><h3 id="h4">Template Strings</h3><p>Template strings give you a convenient syntax to create and format strings. You can create them by prefixing a string literal with the<span class="inline2"><a id="$"></a> $</span> character, and including expressions inside <span class="inline2">{}</span>:&nbsp;</p><p class="code">var _world = "Earth";<br>var _template = $"Hello {_world}!";</p><p>Which produces the same string as:&nbsp;</p><p class="code">var _world = "Earth";<br>var _template = string("Hello {0}!", _world);</p><p>Everything written between curly braces <span class="inline2">{ }</span>&nbsp;inside a template string is executed as regular GML. The result of the GML expression between the braces is inserted into the string:&nbsp;</p><p class="code">var _template = $"The result of a random complicated calculation is {5 * power(pi, 3) + 37.84094}";</p><p>To make it more clear that this is regular GML,&nbsp;<a href="../../../The_Asset_Editors/Scripts.htm">The Script Editor</a>&nbsp;also highlights this code normally.&nbsp;<a href="../../../Setting_Up_And_Version_Information/IDE_Preferences/Feather_Settings.htm">Feather</a>&nbsp;also checks these GML expressions for any errors, e.g.:&nbsp;</p><p class="code">var _arr = [ 1, 2, 3, 4 ];<br>var _a = $"The first value is {_arr[| 0]}"; // GM1028 - Accessor is intended for type of 'Id.DsList' but 'Array&lt;Real&gt;' appears instead.</p><p>You can split a template string across multiple lines, however you can only do this in the expression parts of the templates. Any newline and other&nbsp;white-space characters&nbsp;that need to be added to the actual string have to be added using&nbsp;<a href="Strings.htm#h1">Escape Characters</a>.</p><p>The following code shows a valid and an invalid way of splitting a template string across multiple lines:&nbsp;</p><p class="code">var _a = $"This is the \n{<br>valid<br>}\nway to split&nbsp;a template across multiple lines";<br><br>var _b = $"This is the&nbsp;<br>{invalid}<br>way to split&nbsp;a template across multiple lines";</p><h2 id="tostring_method">toString() Method</h2><p>When a reference to a struct or an instance of an object is passed as an argument to any of&nbsp;<span class="inline2"><a href="string.htm">string</a></span>&nbsp;/ <span class="inline2"><a href="string_ext.htm">string_ext</a></span>&nbsp;/&nbsp;<span class="inline2"><a href="../Debugging/show_debug_message.htm">show_debug_message</a></span>&nbsp;/ <span class="inline2"><a href="show_debug_message_ext.htm">show_debug_message_ext</a></span>, it will have its <span class="inline2">toString</span> method called, if it has one set.</p><p class="code">toString = function()<br>{<br>&nbsp; &nbsp; return string("I am the instance with ID {0}", id);<br>}</p><p>You can pass a struct reference to one of the above functions for its <span class="inline2">toString()</span> method to be used, however for instances you must use <span class="inline2">self</span> within its scope, as passing an instance ID will not call its <span class="inline2">toString()</span> method.</p><p class="code">// In an instance<br>string(self); // Calls its toString() method, if it exists<br>string(id); // Prints "ref &lt;id&gt;", same goes for IDs returned from instance_create_*()</p><p class="note"><span data-conref="../../../assets/snippets/Tag_tip.hts"><span class="tip">TIP</span></span> Arrays are automatically converted to a string representation when they are passed to one of the above functions, without needing to assign a custom function to the array.</p><p>You're not required to convert a struct or instance to a string with <a href="string.htm"><span class="inline2">string()</span></a> if you want to draw it. Simply passing a valid reference to&nbsp;<span class="inline2"><a href="../Drawing/Text/draw_text.htm">draw_text</a></span>&nbsp;or <a href="../Drawing/Text/Text.htm">any of the related <span class="inline2">draw_text_</span> functions</a> will automatically convert it to a string:&nbsp;</p><p class="code">draw_text(0, 0, self);</p><h2>Function Reference</h2><p>Below is the list of functions for dealing with strings.</p><div data-conref="../../../assets/snippets/Note_String_Indices_Start_At_1.hts"><p class="note"><span data-conref="../../../assets/snippets/Tag_important.hts"><span class="important">IMPORTANT</span></span>&nbsp;In&nbsp;<span data-keyref="GameMaker Name">GameMaker</span>,&nbsp;string positions start at 1 (meaning they are&nbsp;<em>one-based</em>), compared to other data types in <span data-keyref="GameMaker Name">GameMaker</span>, which are all&nbsp;<a href="https://en.wikipedia.org/wiki/Zero-based_numbering">zero-based</a>&nbsp;(starting at 0). So the first character in a string has a position of 1, the second character a position of 2, and so on. The last character is <span class="inline2"><a href="string_length.htm">string_length</a>(string)</span>.</p></div><h3>Creating Strings</h3><ul class="Disc"><li><a href="string.htm">string</a></li><li><a href="string_ext.htm">string_ext</a></li></ul><h3>Character Code</h3><ul class="Disc"><li><a href="ansi_char.htm">ansi_char</a></li><li><a href="chr.htm">chr</a></li><li><a href="ord.htm">ord</a></li><li><a href="real.htm">real</a></li><li><a href="string_byte_at.htm">string_byte_at</a></li><li><a href="string_byte_length.htm">string_byte_length</a></li><li><a href="string_set_byte_at.htm">string_set_byte_at</a></li><li><a href="string_char_at.htm">string_char_at</a></li><li><a href="string_ord_at.htm">string_ord_at</a></li></ul><h3>Searching and Information</h3><ul class="Disc"><li><a href="string_length.htm">string_length</a></li><li><a href="string_pos.htm">string_pos</a></li><li><a href="string_pos_ext.htm">string_pos_ext</a></li><li><a href="string_last_pos.htm">string_last_pos</a></li><li><a href="string_last_pos_ext.htm">string_last_pos_ext</a></li><li><a href="string_starts_with.htm">string_starts_with</a></li><li><a href="string_ends_with.htm">string_ends_with</a></li><li><a href="string_count.htm">string_count</a></li></ul><h3>Manipulating Strings</h3><ul class="Disc"><li><a href="string_copy.htm">string_copy</a></li><li><a href="string_delete.htm">string_delete</a></li><li><a href="string_digits.htm">string_digits</a></li><li><a href="string_format.htm">string_format</a></li><li><a href="string_insert.htm">string_insert</a></li><li><a href="string_letters.htm">string_letters</a></li><li><a href="string_lettersdigits.htm">string_lettersdigits</a></li><li><a href="string_lower.htm">string_lower</a></li><li><a href="string_repeat.htm">string_repeat</a></li><li><a href="string_replace.htm">string_replace</a></li><li><a href="string_replace_all.htm">string_replace_all</a></li><li><a href="string_upper.htm">string_upper</a></li><li><a href="string_hash_to_newline.htm">string_hash_to_newline</a></li><li><a href="string_trim.htm">string_trim</a></li><li><a href="string_trim_start.htm">string_trim_start</a></li><li><a href="string_trim_end.htm">string_trim_end</a></li><li><a href="string_split.htm">string_split</a></li><li><a href="string_split_ext.htm">string_split_ext</a></li><li><a href="string_join.htm">string_join</a></li><li><a href="string_join_ext.htm">string_join_ext</a></li><li><a href="string_concat.htm">string_concat</a></li><li><a href="string_concat_ext.htm">string_concat_ext</a></li></ul><h3>Drawing-Related</h3><ul class="Disc"><li><a href="string_width.htm">string_width</a></li><li><a href="string_width_ext.htm">string_width_ext</a></li><li><a href="string_height.htm">string_height</a></li><li><a href="string_height_ext.htm">string_height_ext</a></li></ul><h3>Iteration</h3><ul class="Disc"><li><a href="string_foreach.htm">string_foreach</a></li></ul><h3>Data Type</h3><ul class="Disc"><li><a href="../Variable_Functions/is_string.htm">is_string</a></li></ul><h3>Methods</h3><ul class="Disc"><li><a href="Strings.htm#tostring_method">toString Method</a></li></ul><h3>Related functions</h3><ul class="Disc"><li><a href="../Drawing/Text/Text.htm">Text</a></li><li>Debugging:&nbsp;<span class="inline2"><a href="../Debugging/show_debug_message.htm">show_debug_message</a></span>&nbsp;and&nbsp;<span class="inline2"><a href="show_debug_message_ext.htm">show_debug_message_ext</a></span></li><li><a href="../OS_And_Compiler/OS_And_Compiler.htm#h">Clipboard</a></li></ul><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back:&nbsp;<a href="../GML_Reference.htm">GML Code Reference</a></div><div style="float:right">Next: <a href="../Maths_And_Numbers/Maths_And_Numbers.htm">Maths And Numbers</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>