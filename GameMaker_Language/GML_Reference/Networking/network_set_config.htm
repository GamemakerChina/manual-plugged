<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/main.css"><script>let str;removeHtml=function(t){return t=(t=(t=(t=t.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(t){return t.match(/(<([^>]+)>)/gi)},setTranslator=function(t,n,a){let e;e=a?t.attr(a):t.html();let l=n[removeHtml(e)];if(null!=l&&l.length){n=retHtml(e);let o=0;n&&n.forEach(function(t,n){var a=l.replace("{"+o+"}",t);l=a===l?l.replace("{}",t):a,o++}),a?t.attr(a,l):t.html(l)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){$(".header").length&&$(".header").append(`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`)},removeExtensionFromHash=function(t){return t.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")},$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption,blockquote").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption,.expandtext").each(function(){setTranslator($(this),json)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../..",gTopicId="8.2.2.15.0_10"</script><script type="text/javascript" src="../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>network_set_config</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../assets/css/default.css" type="text/css"><script src="../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Reference page for network_set_config"><meta name="rh-index-keywords" content="network_set_config,network_config_connect_timeout,network_config_use_non_blocking_socket,network_config_enable_reliable_udp,network_config_disable_reliable_udp,network_config_avoid_time_wait,network_config_enable_multicast,network_config_disable_multicast "><meta name="search-keywords" content="network_set_config,network_config_connect_timeout,network_config_use_non_blocking_socket,network_config_enable_reliable_udp,network_config_disable_reliable_udp,network_config_avoid_time_wait,network_config_enable_multicast,network_config_disable_multicast "><meta name="brsnext" value="GameMaker_Language/GML_Reference/Networking/network_set_timeout.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Networking/network_resolve.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="network_set_config"><span>network_set_config</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1>network_set_config</h1><p>With this function you can set different network configurations.</p><p class="note"><span data-conref="../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;This function will not work when used in a project running on the HTML5 target.</p><p>These configurations are given as <b>constants</b> and the setting will depend on the constant that you have chosen. The table below lists the available constants and their settings:</p><table><colgroup><col><col><col></colgroup><tbody><tr><th colspan="3"><span data-keyref="Type_Constant_Network_Config"><a target="_blank" href="network_set_config.htm">Network Config Constant</a></span></th></tr><tr><th>Constant</th><th>Description</th><th>Setting</th></tr><tr><td><span class="inline">network_config_connect_timeout</span></td><td>Set a connection timeout value</td><td>A value in milliseconds</td></tr><tr><td><span class="inline">network_config_use_non_blocking_socket</span></td><td>Tell <span data-keyref="GameMaker Name">GameMaker</span> not to block on connect.</td><td>0 = block, 1 = don't block</td></tr><tr><td><span class="inline">network_config_enable_reliable_udp</span></td><td>Enables the "reliable UDP" protocol for an existing UDP socket</td><td>The socket ID to target</td></tr><tr><td><span class="inline">network_config_disable_reliable_udp</span></td><td>Disables the "reliable UDP" protocol for an existing UDP socked.</td><td>The socket ID to target</td></tr><tr><td><span class="inline">network_config_avoid_time_wait</span></td><td>Sets the&nbsp;<span class="inline">SO_LINGER</span> timeout value to 0 for an exisiting TCP socket</td><td>The socket ID to target</td></tr><tr><td><span class="inline">network_config_enable_multicast</span></td><td>Enables multicast support for UDP</td><td>The socket ID to target</td></tr><tr><td><span class="inline">network_config_disable_multicast</span></td><td>Disables multicast support for UDP</td><td>The socket ID to target</td></tr></tbody></table><h3>Timeout</h3><p>The first option (<span class="inline">network_config_connect_timeout</span>) simply sets the timeout for connecting to a server but doesn't change connection behaviour apart from the time you have to wait. It is recommended that you don't set this too low and keep it at about 1000 for a LAN only game or 4000 or so for internet, or the game may fail to connect randomly. If you wish to set a timeout value for sending/receiving packets then use the function <a href="network_set_timeout.htm"><span class="inline">network_set_timeout()</span></a>.</p><h3>Non Blocking Sockets</h3><p>The second option (<span class="inline">network_config_use_non_blocking_socket</span>) means that the <span class="inline">network_connect_*</span> functions (non-async) will all return a <span class="inline">socket_id</span> instantly, <i>but you can't send or receive on that socket until you've received an async network event</i>. The event triggered will have the "type" key set to <span class="inline">network_type_non_blocking_connect</span> (you can find further details from the page on the <a href="../../../The_Asset_Editors/Object_Properties/Async_Events/Networking.htm">Networking Asynchronous Event</a>). This is a <b>global</b> setting as <span data-keyref="GameMaker Name">GameMaker</span> does not support a mixture of blocking and non-blocking in one application.</p><h3>Reliable UDP</h3><p>The third and fourth options (<span class="inline">network_config_enable_reliable_udp</span>, <span class="inline">network_config_disable_reliable_udp</span>) are for enabling or disabling the <span data-keyref="GameMaker Name">GameMaker</span> reliable UDP protocol and as such, should <b>only be used with UDP connections</b>. What "reliable" in this case this means is that, when enabled on <i>both</i> ends of a connection, <span data-keyref="GameMaker Name">GameMaker</span> will attempt to check your packets have arrived correctly and re-send any that don't arrive (note, we do not guarantee in your packets will arrive in order of transmission). When using a reliable socket type, there will be a 12-byte header added to all udp packets which contains information needed by <span data-keyref="GameMaker Name">GameMaker</span> to check the packet for errors and re-send missing packets. The following points are worth noting when using this option:</p><ul class="colour"><li>The protocol should be enabled/disabled on both sides before sending your data, and any data sent or received before the option has been enabled/disabled will not be affected.</li><li>You can enable or disable the protocol for any given socket ID multiple times, as long as this is properly managed on both the server side and client side</li><li>It is possible to have two separate UDP sockets, one with reliable UDP enabled for one with reliable UDP disabled for the other.</li></ul><h3>TCP Timeout</h3><p>The option&nbsp;<span class="inline">network_config_avoid_time_wait</span>&nbsp;is for&nbsp;<strong>TCP connections only</strong>&nbsp;and can be used to set the <span class="inline">SO_LINGER</span> value to <span class="inline2">0</span>&nbsp;to avoid large numbers of connections sitting in the <span class="inline">TIME_WAIT</span>&nbsp;state, tying up all the available resources on a server.&nbsp;This change is permanent while the socket is alive and cannot be undone.</p><h3>Multicast</h3><p>The options <span class="inline">network_config_enable_multicast</span> and <span class="inline">network_config_disable_multicast</span> can be used to enable/disable multicast support on UDP.&nbsp;</p><p>When multicast is enabled on a UDP socket, it will be joined to the all-hosts (FF02::1) multicast group on each network interface in the system, and calls to <span class="inline3_func"><a href="network_send_broadcast.htm">network_send_broadcast</a></span> will transmit multicast packets on those groups in addition to IPv4 broadcasts.</p><p>In general, games doing LAN discovery using <span class="inline3_func"><a href="network_send_broadcast.htm">network_send_broadcast</a></span> will want to turn this on, however the game must be written to handle receiving the same packet multiple times from multiple IPs -- i.e. the host's IPv4 and IPv6 address(es) and disambiguate these from other hosts (e.g. by embedding a unique value in the packet for each sender).</p><p>&nbsp;</p><h4>Syntax:</h4><p class="code">network_set_config(config_value, setting);</p><table><tbody><tr><th>Argument</th><th>Type</th><th>Description</th></tr><tr><td>config_value</td><td><span data-keyref="Type_Constant_Network_Config"><a target="_blank" href="network_set_config.htm">Network Config Constant</a></span></td><td>The config constant to set (refer to the table at the top of this page).</td></tr><tr><td>setting</td><td><span data-keyref="Type_Any"><a target="_blank" href="../../GML_Overview/Data_Types.htm#variable">Any</a></span></td><td>The setting value of the config.</td></tr></tbody></table><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_String"><a target="_blank" href="../../GML_Overview/Data_Types.htm">String</a></span></p><p>&nbsp;</p><h4>Example:</h4><p class="code">network_set_config(network_config_connect_timeout, 1000);<br>network_set_config(network_config_use_non_blocking_socket, 1);</p><p>The above code will set the timeout for the network connection to 1000ms and tell <span data-keyref="GameMaker Name">GameMaker</span> not to block on connect.</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="Networking.htm">Networking</a></div><div style="float:right">Next: <a href="network_set_timeout.htm">network_set_timeout</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>