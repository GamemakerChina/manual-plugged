<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/main.css"><script>let str;removeHtml=function(e){return e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(e){return e.match(/(<([^>]+)>)/gi)},setTranslator=function(e,t,n){let a;a=n?e.attr(n):e.html();let i=t[removeHtml(a)];if(null!=i&&i.length){t=retHtml(a);let o=0;t&&t.forEach(function(e,t){var n=i.replace("{"+o+"}",e);i=n===i?i.replace("{}",e):n,o++}),n?e.attr(n,i):e.html(i)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var e=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(e):($(".topic-header").append(e),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(e){return e.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"0 = block, 1 = don't block":"0 = 阻塞的, 1 = 不阻塞","A value in milliseconds":"以毫秒为单位的值",'Disables the "reliable UDP" protocol for an existing UDP socked.':'禁用现有UDP套接的"可靠UDP"协议。','Enables the "reliable UDP" protocol for an existing UDP socket':'为现有UDP套接字启用"可靠UDP"协议',"In general, games doing LAN discovery using {}{}network_send_broadcast{}{} will want to turn this on, however the game must be written to handle receiving the same packet multiple times from multiple IPs -- i.e. the host's IPv4 and IPv6 address(es) and disambiguate these from other hosts (e.g. by embedding a unique value in the packet for each sender).":"一般来说，使用 {}{}network_send_broadcast{}{} 进行 LAN 发现的游戏会希望打开此功能，但游戏必须编写为能够处理从多个 IP(即主机的 IPv4 和 IPv6 地址) 多次接收同一数据包 (es) 并消除这些与其他主机的歧义 (例如，通过在每个发送者的数据包中嵌入唯一值)。","It is possible to have two separate UDP sockets, one with reliable UDP enabled for one with reliable UDP disabled for the other.":"可能有两个单独的UDP插座，一个启用了可靠UDP，另一个禁用了可靠UDP。",Multicast:"组播","Network Config Constant":"网络配置常量","Non Blocking Sockets":"非阻塞套接字","Reliable UDP":"可靠的 UDP","Set a connection timeout value":"设置连接超时值","Sets the&nbsp;{}SO_LINGER{} timeout value to 0 for an exisiting TCP socket":"将现有TCP套接字的{}SO_LINGER{}超时值设置为0","TCP Timeout":"TCP 超时","Tell {}GameMaker{} not to block on connect.":"告诉{}GameMaker{}不要在连接时阻塞。","The above code will set the timeout for the network connection to 1000ms and tell {}GameMaker{} not to block on connect.":"以上代码将网络连接的超时设置为1000 ms，并告诉{}GameMaker{}不要阻塞连接。","The config constant to set (refer to the table at the top of this page).":"要设置的配置常量(请参阅本页顶部的表格)。","The final option,&nbsp;{}network_config_avoid_time_wait{}&nbsp;is for&nbsp;{}TCP connections only{}&nbsp;and can be used to set the {}SO_LINGER{} value to {}0{}&nbsp;t{}o avoid large numbers of connections sitting in the {}TIME_WAIT{}&nbsp;{}{}state, tying up all the available resources on a server.{}&nbsp;This change is permanent while the socket is alive and cannot be undone.":"最后一个选项{}network_config_avo_time_wait{}仅适用于{}TCP连接{}，可用于将{}SO_LINGER{}值设置为{}0{}t{}，以避免大量连接处于{}TIME_WAIT{}{}{}状态，从而占用服务器上的所有可用资源。{}此更改在套接字处于活动状态时是永久性的，无法撤消。","The first option ({}network_config_connect_timeout{}) simply sets the timeout for connecting to a server but doesn't change connection behaviour apart from the time you have to wait. It is recommended that you don't set this too low and keep it at about 1000 for a LAN only game or 4000 or so for internet, or the game may fail to connect randomly. If you wish to set a timeout value for sending/receiving packets then use the function {}{}network_set_timeout(){}{}.":"第一个选项 ({}network_config_connect_timeout{}) 仅设置连接到服务器的超时，但除了您必须等待的时间外，不会更改连接行为。建议不要设置得太低，局域网游戏保持在 1000 左右，网络游戏保持在 4000 左右，否则游戏可能会随机连接失败。如果您希望设置发送 / 接收数据包的超时值，请使用函数 {}{}network_set_timeout(){}{}。","The option&nbsp;{}network_config_avoid_time_wait{}&nbsp;is for&nbsp;{}TCP connections only{}&nbsp;and can be used to set the {}SO_LINGER{} value to {}0{}&nbsp;to avoid large numbers of connections sitting in the {}TIME_WAIT{}&nbsp;state, tying up all the available resources on a server.&nbsp;This change is permanent while the socket is alive and cannot be undone.":"选项 {}network_config_avoid_time_wait{} 仅适用于 {}TCP 连接 {}，可用于将 {}SO_LINGER{} 值设置为 {}0{}，以避免大量连接处于 {}TIME_WAIT{} 状态，占用服务器上的所有可用资源。当套接字处于活动状态时，此更改是永久性的并且无法撤消。","The options {}network_config_enable_multicast{} and {}network_config_disable_multicast{} can be used to enable/disable multicast support on UDP.&nbsp;":"选项 {}network_config_enable_multicast{} 和 {}network_config_disable_multicast{} 可用于启用 / 禁用 UDP 上的多播支持。","The protocol should be enabled/disabled on both sides before sending your data, and any data sent or received before the option has been enabled/disabled will not be affected.":"在发送数据之前，应在两端启用/禁用协议，并且在启用/禁用该选项之前发送或接收的任何数据都不会受到影响。","The second option ({}network_config_use_non_blocking_socket{}) means that the {}network_connect_*{} functions (non-async) will all return a {}socket_id{} instantly, {}but you can't send or receive on that socket until you've received an async network event{}. The event triggered will have the \"type\" key set to {}network_type_non_blocking_connect{} (you can find further details from the page on the {}Networking Asynchronous Event{}). This is a {}global{} setting as {}GameMaker{} does not support a mixture of blocking and non-blocking in one application.":'第二个选项({}network_config_use_non_blocking_socket{})表示{}network_connect_*{}函数(非异步)将立即返回{}socket_id{}，但在收到异步网络事件{}之前无法在该套接字上发送或接收。触发的事件将"type"键设置为{}network_type_non_blocking_connect{}(您可以从{}{}网络异步事件{}的页面中找到更多详细信息)。这是一个{}全局{}设置，因为{}GameMaker{}不支持在一个应用程序中混合使用阻止和非阻止。',"The setting value of the config.":"配置的设置值。","The socket ID to target":"目标的套接字ID",'The third and fourth options ({}network_config_enable_reliable_udp{}, {}network_config_disable_reliable_udp{}) are for enabling or disabling the {}GameMaker{} reliable UDP protocol and as such, should {}only be used with UDP connections{}. What "reliable" in this case this means is that, when enabled on {}both{} ends of a connection, {}GameMaker{} will attempt to check your packets have arrived correctly and re-send any that don\'t arrive (note, we do not guarantee in your packets will arrive in order of transmission). When using a reliable socket type, there will be a 12-byte header added to all udp packets which contains information needed by {}GameMaker{} to check the packet for errors and re-send missing packets. The following points are worth noting when using this option:':'第三个和第四个选项({}network_config_enable_reliable_udp{},{}network_config_disable_reliable_udp{})用于启用或禁用{}GameMaker{}可靠的UDP协议，因此，应该{}仅用于UDP连接{}。在这种情况下，"可靠"是指，在连接的{}两端启用时，{}GameMaker{}将尝试检查您的数据包是否已正确到达并重新发送任何未到达的数据包(注意，我们不保证您的数据包是按传输顺序到达的)。使用可靠的套接字类型时，会在所有udp数据包中添加一个12字节的头，其中包含{}GameMaker{}检查数据包是否有错误以及重新发送丢失的数据包所需的信息。使用此选项时，以下几点值得注意：',"These configurations are given as {}constants{} and the setting will depend on the constant that you have chosen. The table below lists the available constants and their settings:":"这些配置以{}常量{}的形式提供，设置将取决于您选择的常量。下表列出了可用的常量及其设置：",Timeout:"暂停","When multicast is enabled on a UDP socket, it will be joined to the all-hosts (FF02::1) multicast group on each network interface in the system, and calls to {}{}network_send_broadcast{}{} will transmit multicast packets on those groups in addition to IPv4 broadcasts.":"当在 UDP 套接字上启用多播时，它将加入系统中每个网络接口上的全主机 (FF02::1) 多播组，并且调用 {}{}network_send_broadcast{}{} 将传输多播数据包除了 IPv4 广播之外，还针对这些组。","With this function you can set different network configurations.":"使用此函数，您可以设置不同的网络配置。","You can enable or disable the protocol for any given socket ID multiple times, as long as this is properly managed on both the server side and client side":"您可以多次启用或禁用任何给定套接字ID的协议，只要在服务器端和客户端都正确管理该协议","{} The first option ({}network_config_connect_timeout{}) simply sets the timeout for connecting to a server but doesn't change connection behaviour apart from the time you have to wait. It is recommended that you don't set this too low and keep it at about 1000 for a LAN only game or 4000 or so for internet, or the game may fail to connect randomly. If you wish to set a timeout value for sending/receiving packets then use the function {}{}network_set_timeout(){}{}.":"{}第一个选项({}network_config_connect_timeout{})只是简单地设置连接到服务器的超时时间，但不会更改除了必须等待的时间之外的连接行为。建议您不要将此值设置得太低，对于局域网专用游戏，应保持在1000左右，对于互联网，应保持在4000左右，否则游戏可能无法随机连接。如果要为发送/接收数据包设置超时值，请使用函数{}{}network_set_timeout(){}{}。","{}NOTE{}: This function will not work when used in a project running on the HTML5 target.":"{}注意{}:在HTML5目标上运行的项目中使用时，此函数将不起作用。","{}{}NOTE{}{}&nbsp;This function will not work when used in a project running on the HTML5 target.":"{}{} 注意{}{} 此函数在 HTML5 目标上运行的项目中使用时将不起作用。"},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(e){json_global=e}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../..",gTopicId="8.2.2.15.0_10"</script><script type="text/javascript" src="../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>network_set_config</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../assets/css/default.css" type="text/css"><script src="../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Reference page for network_set_config"><meta name="rh-index-keywords" content="network_set_config,network_config_connect_timeout,network_config_use_non_blocking_socket,network_config_enable_reliable_udp,network_config_disable_reliable_udp,network_config_avoid_time_wait,network_config_enable_multicast,network_config_disable_multicast "><meta name="search-keywords" content="network_set_config,network_config_connect_timeout,network_config_use_non_blocking_socket,network_config_enable_reliable_udp,network_config_disable_reliable_udp,network_config_avoid_time_wait,network_config_enable_multicast,network_config_disable_multicast "><meta name="brsnext" value="GameMaker_Language/GML_Reference/Networking/network_set_timeout.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Networking/network_resolve.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="network_set_config"><span>network_set_config</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1>network_set_config</h1><p>With this function you can set different network configurations.</p><p class="note"><span data-conref="../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;This function will not work when used in a project running on the HTML5 target.</p><p>These configurations are given as <b>constants</b> and the setting will depend on the constant that you have chosen. The table below lists the available constants and their settings:</p><table><colgroup><col><col><col></colgroup><tbody><tr><th colspan="3"><span data-keyref="Type_Constant_Network_Config"><a target="_blank" href="network_set_config.htm">Network Config Constant</a></span></th></tr><tr><th>Constant</th><th>Description</th><th>Setting</th></tr><tr><td><span class="inline">network_config_connect_timeout</span></td><td>Set a connection timeout value</td><td>A value in milliseconds</td></tr><tr><td><span class="inline">network_config_use_non_blocking_socket</span></td><td>Tell <span data-keyref="GameMaker Name">GameMaker</span> not to block on connect.</td><td>0 = block, 1 = don't block</td></tr><tr><td><span class="inline">network_config_enable_reliable_udp</span></td><td>Enables the "reliable UDP" protocol for an existing UDP socket</td><td>The socket ID to target</td></tr><tr><td><span class="inline">network_config_disable_reliable_udp</span></td><td>Disables the "reliable UDP" protocol for an existing UDP socked.</td><td>The socket ID to target</td></tr><tr><td><span class="inline">network_config_avoid_time_wait</span></td><td>Sets the&nbsp;<span class="inline">SO_LINGER</span> timeout value to 0 for an exisiting TCP socket</td><td>The socket ID to target</td></tr><tr><td><span class="inline">network_config_enable_multicast</span></td><td>Enables multicast support for UDP</td><td>The socket ID to target</td></tr><tr><td><span class="inline">network_config_disable_multicast</span></td><td>Disables multicast support for UDP</td><td>The socket ID to target</td></tr></tbody></table><h3>Timeout</h3><p>The first option (<span class="inline">network_config_connect_timeout</span>) simply sets the timeout for connecting to a server but doesn't change connection behaviour apart from the time you have to wait. It is recommended that you don't set this too low and keep it at about 1000 for a LAN only game or 4000 or so for internet, or the game may fail to connect randomly. If you wish to set a timeout value for sending/receiving packets then use the function <a href="network_set_timeout.htm"><span class="inline">network_set_timeout()</span></a>.</p><h3>Non Blocking Sockets</h3><p>The second option (<span class="inline">network_config_use_non_blocking_socket</span>) means that the <span class="inline">network_connect_*</span> functions (non-async) will all return a <span class="inline">socket_id</span> instantly, <i>but you can't send or receive on that socket until you've received an async network event</i>. The event triggered will have the "type" key set to <span class="inline">network_type_non_blocking_connect</span> (you can find further details from the page on the <a href="../../../The_Asset_Editors/Object_Properties/Async_Events/Networking.htm">Networking Asynchronous Event</a>). This is a <b>global</b> setting as <span data-keyref="GameMaker Name">GameMaker</span> does not support a mixture of blocking and non-blocking in one application.</p><h3>Reliable UDP</h3><p>The third and fourth options (<span class="inline">network_config_enable_reliable_udp</span>, <span class="inline">network_config_disable_reliable_udp</span>) are for enabling or disabling the <span data-keyref="GameMaker Name">GameMaker</span> reliable UDP protocol and as such, should <b>only be used with UDP connections</b>. What "reliable" in this case this means is that, when enabled on <i>both</i> ends of a connection, <span data-keyref="GameMaker Name">GameMaker</span> will attempt to check your packets have arrived correctly and re-send any that don't arrive (note, we do not guarantee in your packets will arrive in order of transmission). When using a reliable socket type, there will be a 12-byte header added to all udp packets which contains information needed by <span data-keyref="GameMaker Name">GameMaker</span> to check the packet for errors and re-send missing packets. The following points are worth noting when using this option:</p><ul class="colour"><li>The protocol should be enabled/disabled on both sides before sending your data, and any data sent or received before the option has been enabled/disabled will not be affected.</li><li>You can enable or disable the protocol for any given socket ID multiple times, as long as this is properly managed on both the server side and client side</li><li>It is possible to have two separate UDP sockets, one with reliable UDP enabled for one with reliable UDP disabled for the other.</li></ul><h3>TCP Timeout</h3><p>The option&nbsp;<span class="inline">network_config_avoid_time_wait</span>&nbsp;is for&nbsp;<strong>TCP connections only</strong>&nbsp;and can be used to set the <span class="inline">SO_LINGER</span> value to <span class="inline2">0</span>&nbsp;to avoid large numbers of connections sitting in the <span class="inline">TIME_WAIT</span>&nbsp;state, tying up all the available resources on a server.&nbsp;This change is permanent while the socket is alive and cannot be undone.</p><h3>Multicast</h3><p>The options <span class="inline">network_config_enable_multicast</span> and <span class="inline">network_config_disable_multicast</span> can be used to enable/disable multicast support on UDP.&nbsp;</p><p>When multicast is enabled on a UDP socket, it will be joined to the all-hosts (FF02::1) multicast group on each network interface in the system, and calls to <span class="inline3_func"><a href="network_send_broadcast.htm">network_send_broadcast</a></span> will transmit multicast packets on those groups in addition to IPv4 broadcasts.</p><p>In general, games doing LAN discovery using <span class="inline3_func"><a href="network_send_broadcast.htm">network_send_broadcast</a></span> will want to turn this on, however the game must be written to handle receiving the same packet multiple times from multiple IPs -- i.e. the host's IPv4 and IPv6 address(es) and disambiguate these from other hosts (e.g. by embedding a unique value in the packet for each sender).</p><p>&nbsp;</p><h4>Syntax:</h4><p class="code">network_set_config(config_value, setting);</p><table><tbody><tr><th>Argument</th><th>Type</th><th>Description</th></tr><tr><td>config_value</td><td><span data-keyref="Type_Constant_Network_Config"><a target="_blank" href="network_set_config.htm">Network Config Constant</a></span></td><td>The config constant to set (refer to the table at the top of this page).</td></tr><tr><td>setting</td><td><span data-keyref="Type_Any"><a target="_blank" href="../../GML_Overview/Data_Types.htm#variable">Any</a></span></td><td>The setting value of the config.</td></tr></tbody></table><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_String"><a target="_blank" href="../../GML_Overview/Data_Types.htm">String</a></span></p><p>&nbsp;</p><h4>Example:</h4><p class="code">network_set_config(network_config_connect_timeout, 1000);<br>network_set_config(network_config_use_non_blocking_socket, 1);</p><p>The above code will set the timeout for the network connection to 1000ms and tell <span data-keyref="GameMaker Name">GameMaker</span> not to block on connect.</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="Networking.htm">Networking</a></div><div style="float:right">Next: <a href="network_set_timeout.htm">network_set_timeout</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>