<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" src="../../../assets/import/jquery-3.6.1.min.js"></script><script type="text/javascript" src="../../../assets/import/layer/layer.js"></script><script type="text/javascript" src="../../../assets/import/pangu.min.js"></script><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_btn.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/layui_col.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/layer/theme/default/layer.css"><link rel="stylesheet" type="text/css" href="../../../assets/import/main.css"><script>let str;removeHtml=function(t){return t=(t=(t=(t=t.replace(/(<([^>]+)>)/gi,"{}")).replace(/\r\n/g,"\n")).replace(/\n/g,"")).replace(/ {2,}/g," ")},retHtml=function(t){return t.match(/(<([^>]+)>)/gi)},setTranslator=function(t,e,n){let a;a=n?t.attr(n):t.html();let l=e[removeHtml(a)];if(null!=l&&l.length){e=retHtml(a);let o=0;e&&e.forEach(function(t,e){var n=l.replace("{"+o+"}",t);l=n===l?l.replace("{}",t):n,o++}),n?t.attr(n,l):t.html(l)}},noTranslationState=function(){return"true"==window.localStorage.getItem("noTranslationState")},noTranslationStateToggle=function(){window.localStorage.setItem("noTranslationState",!noTranslationState())},addNoTranslationStateButton=function(){var t=`
		
		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		window.location.replace('gmmt://'+document.location.hash)
		"
		>打开编辑器</button>

		<button style="
			float: right;
			font-size: 16px;
			padding: 4px 12px;
		"
		onclick="
		noTranslationStateToggle();
		location.reload();
    	event.stopPropagation();
		"
		>切换翻译</button>
		`;$(".header").length?$(".header").append(t):($(".topic-header").append(t),$(".topic-header button").css("position","relative").css("top","44px"))},removeExtensionFromHash=function(t){return t.replaceAll("#t=","").replaceAll("%2F","/").replaceAll(".htm","")};let json_global,json_file={"A null-terminated string argument":"以空值终止的字符串参数","A real number argument":"实数参数","Finally you must give the number of arguments that the function can take (from 0 to 15) and for each of the arguments you must specify its type too. Please note that for functions with 4 or more arguments, all of them {}must{} be of type {}ty_real{}.":"最后，您必须给出函数可以接受的参数数量(从0到15)，并且对于每个参数，您也必须指定其类型。请注意，对于具有4个或更多参数的函数，所有参数都必须是{}ty_real{}类型。",'The above example code will define an external function called "MyMin" with two arguments.':'上面的示例代码将定义一个名为"MyMin"的外部函数，其中包含两个参数。',"The calling convention used":"使用的调用约定","The name of the DLL file (string)":"DLL文件的名称(字符串)","The name of the function (string)":"函数的名称(字符串)","The number of arguments (0 - 10)":"参数的数量(0-10)","The type of the result to expect":"预期结果的类型","The types of the arguments being used":"所使用的参数的类型","This function can be used to define an external function call to a specific dll (for Windows) or dylib (for Mac). This file can be either an included file or part of an extension.":"此函数可用于定义对特定dll(适用于Windows)或dylib(适用于Mac)的外部函数调用。此文件可以是包含的文件或扩展名的一部分。","This is the default C, C++ call":"这是默认的C，C++调用","This is the standard WinAPI call (Windows {}dll{} only)":"这是标准的WinAPI调用(仅限Windows {}dll{})","You supply the name (and path) of the file, then the name of the function that you wish to define. Next you need to define the calling convention to be used (see the constants list below) as well as the type of result to be expected (also a constant, as listed below).":"您提供文件的名称(和路径)，然后是您要定义的函数的名称。接下来，您需要定义要使用的调用约定(请参阅下面的常量列表)以及要预期的结果类型(也是一个常量，如下所列)。",'{}NOTE{}: This is only for dll or dylib that have been added as "Included Files" to the {}GameMaker{} IDE. It will not work with those files added as extensions, since those require that you define the functions in the extension package itself.':'{}注意{}：这仅适用于已作为"包含文件"添加到{}GameMaker{}IDE的dll或dylib。它不适用于作为扩展添加的那些文件，因为这些文件需要您在扩展包本身中定义函数。'},get_json_global=$.ajax({url:"/global.json",type:"GET",dataType:"json",async:!1,success:function(t){json_global=t}});$(function(){if(addNoTranslationStateButton(),noTranslationState())return!1;$("div.footer a,h4,caption").each(function(){setTranslator($(this),json_global)}),$("p,h1,h2,h3,td,li,a,div.dropspotnote,figcaption").each(function(){setTranslator($(this),json_file)}),$("th,.warning,.important,.optional").each(function(){setTranslator($(this),json_global)}),$(".header").length&&(window.setInterval(function(){$("#toc-panel a:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)}),$(".GlossDefinitionText:not('isTranslate')").each(function(){$(this).addClass("isTranslate"),setTranslator($(this),json_global)})},250),console.log("成功啦!现在正在疯狂翻译菜单中!")),$(".tooltip").each(function(){setTranslator($(this),json_global,"title")})}),document.addEventListener("DOMContentLoaded",()=>{pangu.autoSpacingPage()})</script><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../..",gTopicId="8.2.2.21.0_32"</script><script type="text/javascript" src="../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>external_define</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../assets/css/default.css" type="text/css"><script src="../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Reference page for external_define"><meta name="rh-index-keywords" content="external_define,dll_cdecl,dll_stdcall,ty_real,ty_string"><meta name="search-keywords" content="external_define,dll_cdecl,dll_stdcall,ty_real,ty_string"><meta name="brsnext" value="GameMaker_Language/GML_Reference/OS_And_Compiler/external_call.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Strings/clipboard_set_text.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="external_define"><span>external_define</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1>external_define</h1><p>This function can be used to define an external function call to a specific dll (for Windows) or dylib (for Mac). This file can be either an included file or part of an extension.</p><p>You supply the name (and path) of the file, then the name of the function that you wish to define. Next you need to define the calling convention to be used (see the constants list below) as well as the type of result to be expected (also a constant, as listed below).</p><p>Finally you must give the number of arguments that the function can take (from 0 to 15) and for each of the arguments you must specify its type too. Please note that for functions with 4 or more arguments, all of them <i>must</i> be of type <span class="inline">ty_real</span>.</p><p class="note"><b>NOTE</b>: This is only for dll or dylib that have been added as "Included Files" to the <span data-keyref="GameMaker Name">GameMaker</span> IDE. It will not work with those files added as extensions, since those require that you define the functions in the extension package itself.</p><table><colgroup><col><col></colgroup><tbody><tr><th colspan="2">External Call Type Constants</th></tr><tr><th>Constant</th><th>Description</th></tr><tr><td><span class="inline">dll_cdecl</span></td><td>This is the default C, C++ call</td></tr><tr><td><span class="inline">dll_stdcall</span></td><td>This is the standard WinAPI call (Windows <span class="inline">dll</span> only)</td></tr></tbody></table><table><colgroup><col><col></colgroup><tbody><tr><th colspan="2">External Data Type Constants</th></tr><tr><th>Constant</th><th>Description</th></tr><tr><td><span class="inline">ty_real</span></td><td>A real number argument</td></tr><tr><td><span class="inline">ty_string</span></td><td>A null-terminated string argument</td></tr></tbody></table><p>&nbsp;</p><h4>Syntax:</h4><p class="code">external_define(dll, name, calltype, restype, argnumb, argtype[0], argtype[1], ...argtype[10]);</p><table><tbody><tr><th>Argument</th><th>Type</th><th>Description</th></tr><tr><td>dll</td><td><span data-keyref="Type_String"><a target="_blank" href="../../GML_Overview/Data_Types.htm">String</a></span></td><td>The name of the DLL file (string)</td></tr><tr><td>name</td><td><span data-keyref="Type_String"><a target="_blank" href="../../GML_Overview/Data_Types.htm">String</a></span></td><td>The name of the function (string)</td></tr><tr><td>calltype</td><td><span data-keyref="Type_Constant_External_Call_Type"><a target="_blank" href="external_define.htm">External Call Type Constant (dll_*)</a></span></td><td>The calling convention used</td></tr><tr><td>restype</td><td><span data-keyref="Type_Constant_External_Argument_Type"><a target="_blank" href="external_define.htm">External Data Type Constant (ty_*)</a></span></td><td>The type of the result to expect</td></tr><tr><td>argnumb</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../GML_Overview/Data_Types.htm">Real</a></span></td><td>The number of arguments (0 - 10)</td></tr><tr><td>argtype[0 ... 10]</td><td><span data-keyref="Type_Constant_External_Argument_Type"><a target="_blank" href="external_define.htm">External Data Type Constant (ty_*)</a></span></td><td>The types of the arguments being used</td></tr></tbody></table><p>&nbsp;</p><p>&nbsp;</p><h4>Returns:</h4><p class="code"><span data-keyref="Type_Function_External"><a target="_blank" href="external_define.htm">External Function</a></span></p><p>&nbsp;</p><h4>Example:</h4><p class="code">my_funcion = external_define("MyDLL.dll", "MyMin", dll_cdecl, ty_real, 2, ty_real, ty_real);</p><p>The above example code will define an external function called "MyMin" with two arguments.</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="OS_And_Compiler.htm">OS And Compiler</a></div><div style="float:right">Next: <a href="external_call.htm">external_call</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>